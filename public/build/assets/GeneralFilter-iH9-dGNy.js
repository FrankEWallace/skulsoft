import{u as $,m as f,q as L,r as u,t as q,o as b,w as v,d as n,e as i,b as k,v as R,x as c,i as D,f as r}from"./app-Cvm44xuh.js";const N={class:"grid grid-cols-3 gap-6"},h={class:"col-span-3 sm:col-span-1"},S={class:"col-span-3 sm:col-span-1"},U={class:"col-span-3 sm:col-span-1"},C={class:"col-span-3 sm:col-span-1"},F={class:"col-span-3 sm:col-span-1"},w={class:"col-span-3 sm:col-span-1"},P={class:"col-span-3 sm:col-span-1"},O={__name:"Filter",props:{preRequisites:{type:Object,default(){return{}}}},emits:["hide"],setup(m,{emit:V}){const o=$(),p=V,d={codeNumber:"",title:"",category:"",priority:"",type:"",startDate:"",endDate:"",employees:[]},s=f({...d}),a=f({isLoaded:!o.query.employees});return L(async()=>{a.employees=o.query.employees?o.query.employees.split(","):[],a.isLoaded=!0}),(l,t)=>{const g=u("BaseInput"),y=u("BaseSelect"),A=u("DatePicker"),_=u("BaseSelectSearch"),B=u("FilterForm");return b(),q(B,{"init-form":d,form:s,multiple:["employees"],onHide:t[8]||(t[8]=e=>p("hide"))},{default:v(()=>[n("div",N,[n("div",h,[i(g,{type:"text",modelValue:s.codeNumber,"onUpdate:modelValue":t[0]||(t[0]=e=>s.codeNumber=e),name:"codeNumber",label:l.$trans("approval.request.props.code_number")},null,8,["modelValue","label"])]),n("div",S,[i(g,{type:"text",modelValue:s.title,"onUpdate:modelValue":t[1]||(t[1]=e=>s.title=e),name:"title",label:l.$trans("approval.request.props.title")},null,8,["modelValue","label"])]),n("div",U,[i(y,{modelValue:s.category,"onUpdate:modelValue":t[2]||(t[2]=e=>s.category=e),name:"category",label:l.$trans("approval.type.props.category"),options:m.preRequisites.categories},null,8,["modelValue","label","options"])]),n("div",C,[i(y,{modelValue:s.priority,"onUpdate:modelValue":t[3]||(t[3]=e=>s.priority=e),name:"priority",label:l.$trans("approval.request.props.priority"),"label-prop":"name","value-prop":"uuid",options:m.preRequisites.priorities},null,8,["modelValue","label","options"])]),n("div",F,[i(y,{modelValue:s.type,"onUpdate:modelValue":t[4]||(t[4]=e=>s.type=e),name:"type",label:l.$trans("approval.type.type"),options:m.preRequisites.types,"label-prop":"name","value-prop":"uuid"},null,8,["modelValue","label","options"])]),n("div",w,[i(A,{start:s.startDate,"onUpdate:start":t[5]||(t[5]=e=>s.startDate=e),end:s.endDate,"onUpdate:end":t[6]||(t[6]=e=>s.endDate=e),name:"dateBetween",as:"range",label:l.$trans("general.date_between")},null,8,["start","end","label"])]),n("div",P,[a.isLoaded?(b(),q(_,{key:0,multiple:"",name:"employees",label:l.$trans("global.select",{attribute:l.$trans("approval.request.props.requester")}),modelValue:s.employees,"onUpdate:modelValue":t[7]||(t[7]=e=>s.employees=e),"value-prop":"uuid","init-search":a.employees,"search-key":"name","search-action":"employee/list"},{selectedOption:v(e=>[R(c(e.value.name)+" ("+c(e.value.codeNumber)+") ",1)]),listOption:v(e=>[R(c(e.option.name)+" ("+c(e.option.codeNumber)+") ",1)]),_:1},8,["label","modelValue","init-search"])):k("",!0)])])]),_:1},8,["form"])}}},I={__name:"GeneralFilter",emits:["refresh"],setup(m,{emit:V}){const o=$(),p=D(),d=()=>o.name==="ApprovalRequestList"&&(o.query.scope==="all"||o.query.scope===void 0),s=()=>o.name==="ApprovalRequestList"&&o.query.scope==="self";return(a,l)=>{const t=u("ButtonGroup");return b(),q(t,{options:[{label:a.$trans("global.all",{attribute:a.$trans("approval.request.request")}),onClick:()=>{r(p).push({name:"ApprovalRequestList",query:{...r(o).query,scope:"all"}})},isActive:d()},{label:a.$trans("global.my",{attribute:a.$trans("approval.request.request")}),onClick:()=>{r(p).push({name:"ApprovalRequestList",query:{...r(o).query,scope:"self"}})},isActive:s()},{label:a.$trans("approval.request.pending_requests"),onClick:()=>{r(p).push({name:"ApprovalRequestPendingList"})},isActive:r(o).name==="ApprovalRequestPendingList"},{label:a.$trans("approval.request.processed_requests"),onClick:()=>{r(p).push({name:"ApprovalRequestProcessedList"})},isActive:r(o).name==="ApprovalRequestProcessedList"}],design:"white",size:"md"},null,8,["options"])}}};export{O as _,I as a};
