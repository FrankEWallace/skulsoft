import{u as U,i as G,k as J,m as D,p as K,r as l,A as Q,t as f,o as m,w as t,e as n,f as d,a as v,F as w,y as W,b as _,v as s,x as o,B as X,z as I}from"./app-Cvm44xuh.js";import{_ as Y,a as Z}from"./GeneralFilter-iH9-dGNy.js";const x={name:"ApprovalRequestList"},te=Object.assign(x,{setup(q){const P=U(),p=G(),h=J("emitter");let S=["create","filter"];const T="approval/request/",A=D({types:[]}),y=K(!1),F=u=>{Object.assign(A,u)},g=D({}),M=u=>{Object.assign(g,u)};return(u,c)=>{const H=l("PageHeaderAction"),L=l("PageHeader"),C=l("ParentTransition"),b=l("TextMuted"),i=l("DataCell"),B=l("BaseBadge"),$=l("FloatingMenuItem"),N=l("FloatingMenu"),j=l("DataRow"),E=l("BaseButton"),O=l("DataTable"),V=l("ListItem"),z=Q("tooltip");return m(),f(V,{"init-url":T,"pre-requisites":!0,onSetPreRequisites:F,onSetItems:M,"additional-query":{processedRequests:!0}},{header:t(()=>[n(L,{title:u.$trans("approval.request.processed_requests"),navs:[{label:u.$trans("approval.approval"),path:"Approval"}]},{default:t(()=>[n(H,{url:"approval/requests/",name:"ApprovalRequest",title:u.$trans("approval.request.request"),actions:d(S),"dropdown-actions":["print","pdf","excel"],headers:g.headers,onToggleFilter:c[0]||(c[0]=e=>y.value=!y.value)},null,8,["title","actions","headers"])]),_:1},8,["title","navs"])]),"after-header":t(()=>[n(Z)]),filter:t(()=>[n(C,{appear:"",visibility:y.value},{default:t(()=>[n(Y,{onRefresh:c[1]||(c[1]=e=>d(h).emit("listItems")),"pre-requisites":A,onHide:c[2]||(c[2]=e=>y.value=!1)},null,8,["pre-requisites"])]),_:1},8,["visibility"])]),default:t(()=>[n(C,{appear:"",visibility:!0},{default:t(()=>[n(O,{header:g.headers,meta:g.meta,module:"approval.request",onRefresh:c[4]||(c[4]=e=>d(h).emit("listItems"))},{actionButton:t(()=>[n(E,{onClick:c[3]||(c[3]=e=>d(p).push({name:"ApprovalRequestCreate"}))},{default:t(()=>[s(o(u.$trans("global.add",{attribute:u.$trans("approval.request.request")})),1)]),_:1})]),default:t(()=>[(m(!0),v(w,null,W(g.data,e=>(m(),f(j,{key:e.uuid,onDoubleClick:a=>d(p).push({name:"ApprovalRequestShow",params:{uuid:e.uuid}})},{default:t(()=>[n(i,{name:"codeNumber"},{default:t(()=>[s(o(e.codeNumber)+" ",1),e.otherTeam?(m(),f(b,{key:0},{default:t(()=>{var a,r;return[s(o((r=(a=e.type)==null?void 0:a.team)==null?void 0:r.code),1)]}),_:2},1024)):_("",!0)]),_:2},1024),n(i,{name:"team"},{default:t(()=>{var a,r;return[s(o(((r=(a=e.type)==null?void 0:a.team)==null?void 0:r.name)||"-"),1)]}),_:2},1024),n(i,{name:"title"},{default:t(()=>[s(o(e.title),1)]),_:2},1024),n(i,{name:"type"},{default:t(()=>{var a;return[s(o(((a=e.type)==null?void 0:a.name)||"-"),1)]}),_:2},1024),n(i,{name:"category"},{default:t(()=>{var a,r;return[s(o(((r=(a=e.type)==null?void 0:a.category)==null?void 0:r.label)||"-"),1)]}),_:2},1024),n(i,{name:"priority"},{default:t(()=>{var a;return[s(o(((a=e.priority)==null?void 0:a.name)||"-"),1)]}),_:2},1024),n(i,{name:"date"},{default:t(()=>{var a;return[s(o((a=e.date)==null?void 0:a.formatted),1)]}),_:2},1024),n(i,{name:"amount"},{default:t(()=>{var a,r;return[s(o(((a=e.amount)==null?void 0:a.value)>0?(r=e.amount)==null?void 0:r.formatted:"-"),1)]}),_:2},1024),n(i,{name:"status"},{default:t(()=>{var a;return[n(B,{design:(a=e.status)==null?void 0:a.color},{default:t(()=>{var r;return[s(o(((r=e.status)==null?void 0:r.label)||"-"),1)]}),_:2},1032,["design"])]}),_:2},1024),n(i,{name:"requester"},{default:t(()=>{var a,r;return[s(o(((a=e.requester)==null?void 0:a.name)||"-")+" ",1),(r=e.requester)!=null&&r.uuid?(m(),f(b,{key:0,block:""},{default:t(()=>{var k;return[s(o(((k=e.requester)==null?void 0:k.designation)||"-"),1)]}),_:2},1024)):_("",!0)]}),_:2},1024),n(i,{name:"approver"},{default:t(()=>{var a,r;return[s(o(((a=e.approver)==null?void 0:a.name)||"-")+" ",1),(r=e.approver)!=null&&r.uuid?(m(),f(b,{key:0,block:""},{default:t(()=>{var k;return[s(o(((k=e.approver)==null?void 0:k.designation)||"-"),1)]}),_:2},1024)):_("",!0)]}),_:2},1024),d(P).name==="ApprovalRequestProcessedList"?(m(),v(w,{key:0},[n(i,{name:"processedStatus"},{default:t(()=>{var a;return[n(B,{design:(a=e.processedStatus)==null?void 0:a.color},{default:t(()=>[s(o(e.processedStatus.label),1)]),_:2},1032,["design"])]}),_:2},1024),n(i,{name:"processedAt"},{default:t(()=>[s(o(e.processedAt.formatted)+" ",1),e.duration?(m(),f(b,{key:0,block:""},{default:t(()=>[s(o(e.duration),1)]),_:2},1024)):_("",!0)]),_:2},1024),n(i,{name:"comment"},{default:t(()=>[X((m(),v("span",null,[s(o(e.commentShort),1)])),[[z,e.comment]])]),_:2},1024)],64)):_("",!0),n(i,{name:"createdAt"},{default:t(()=>[s(o(e.createdAt.formatted),1)]),_:2},1024),n(i,{name:"action"},{default:t(()=>[n(N,null,{default:t(()=>[n($,{icon:"fas fa-arrow-circle-right",onClick:a=>d(p).push({name:"ApprovalRequestShow",params:{uuid:e.uuid}})},{default:t(()=>[s(o(u.$trans("general.show")),1)]),_:2},1032,["onClick"]),d(I)("approval-request:edit")&&e.isEditable?(m(),f($,{key:0,icon:"fas fa-edit",onClick:a=>d(p).push({name:"ApprovalRequestEdit",params:{uuid:e.uuid}})},{default:t(()=>[s(o(u.$trans("general.edit")),1)]),_:2},1032,["onClick"])):_("",!0),n($,{icon:"fas fa-copy",onClick:a=>d(p).push({name:"ApprovalRequestDuplicate",params:{uuid:e.uuid}})},{default:t(()=>[s(o(u.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),d(I)("approval-request:delete")&&e.isEditable?(m(),f($,{key:1,icon:"fas fa-trash",onClick:a=>d(h).emit("deleteItem",{uuid:e.uuid})},{default:t(()=>[s(o(u.$trans("general.delete")),1)]),_:2},1032,["onClick"])):_("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDoubleClick"]))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{te as default};
