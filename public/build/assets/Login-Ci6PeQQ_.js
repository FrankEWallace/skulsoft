import{u as H,i as I,j as J,I as K,g as o,m as Q,q as W,r as f,A as X,a as k,o as s,e as u,w as n,d as m,b as r,f as t,t as d,v as b,x as h,B as c,F as Y}from"./app-Cvm44xuh.js";const Z={class:"space-y-6"},ee={class:"flex items-center justify-between"},te={key:0,class:"flex justify-between gap-2"},ae={key:1,class:"flex justify-center space-x-2"},oe={key:2,class:"flex items-center justify-center"},B="auth/user/",re={__name:"Login",setup(se){const O=H(),y=I(),$=J(),_=K(B),V=o("post.enableRedirectToPostAfterLogin"),E=o("feature.enablePost"),F=o("auth.enableOauthLogin"),R=o("auth.enableRegistration"),P=o("auth.enableResetPassword"),G=o("auth.enableGoogleOauthLogin"),M=o("auth.enableFacebookOauthLogin"),T=o("auth.enableTwitterOauthLogin"),C=o("auth.enableGithubOauthLogin"),S=o("auth.enableMicrosoftOauthLogin"),j=o("auth.enableOtpLogin"),A=o("auth.enableEmailOtpLogin"),U=o("auth.enableSmsOtpLogin"),L={email:"",password:"",rememberMe:!1},l=Q({...L});W(async()=>{await $.dispatch("auth/user/setCSRF")});const z=()=>{Object.assign(l,L),O.query.ref?y.push(O.query.ref):E.value&&V.value?y.push({name:"Home"}):y.push({name:"Dashboard"})};return(a,e)=>{const x=f("GuestHeader"),v=f("BaseInput"),D=f("BaseCheckbox"),w=f("BaseLink"),g=f("BaseButton"),N=f("FormAction"),q=f("ParentTransition"),p=X("tooltip");return s(),k(Y,null,[u(x,{label:a.$trans("auth.login.login_title")},null,8,["label"]),u(q,{appear:"",visibility:!0},{default:n(()=>[u(N,{"no-card":"","no-action-button":"","init-url":B,"init-form":L,form:l,action:"login","after-submit":z},{default:n(()=>[m("div",Z,[u(v,{type:"text","leading-icon":"fas fa-envelope",modelValue:l.email,"onUpdate:modelValue":e[0]||(e[0]=i=>l.email=i),name:"email",label:a.$trans("auth.login.props.email_or_username"),error:t(_).email,"onUpdate:error":e[1]||(e[1]=i=>t(_).email=i),autofocus:""},null,8,["modelValue","label","error"]),u(v,{type:"password","leading-icon":"fas fa-key",modelValue:l.password,"onUpdate:modelValue":e[2]||(e[2]=i=>l.password=i),name:"password",label:a.$trans("auth.login.props.password"),error:t(_).password,"onUpdate:error":e[3]||(e[3]=i=>t(_).password=i)},null,8,["modelValue","label","error"]),m("div",ee,[u(D,{modelValue:l.rememberMe,"onUpdate:modelValue":e[4]||(e[4]=i=>l.rememberMe=i),name:"rememberMe",label:a.$trans("auth.login.props.remember_me")},null,8,["modelValue","label"]),t(P)?(s(),d(w,{key:0,to:"Password"},{default:n(()=>[b(h(a.$trans("auth.password.forgot_password")),1)]),_:1})):r("",!0)]),t(j)?(s(),k("div",te,[t(U)?(s(),d(w,{key:0,to:"SmsOtpLogin"},{default:n(()=>[b(h(a.$trans("auth.login.sms_otp_login")),1)]),_:1})):r("",!0),t(A)?(s(),d(w,{key:1,to:"EmailOtpLogin"},{default:n(()=>[b(h(a.$trans("auth.login.email_otp_login")),1)]),_:1})):r("",!0)])):r("",!0),t(F)?(s(),k("div",ae,[t(G)?c((s(),d(g,{key:0,as:"a",href:"/auth/google/redirect",design:"danger",size:"xs"},{default:n(()=>e[5]||(e[5]=[m("i",{class:"fab fa-google"},null,-1)])),_:1,__:[5]})),[[p,a.$trans("config.auth.props.login_with_client",{attribute:"Google"})]]):r("",!0),t(M)?c((s(),d(g,{key:1,as:"a",href:"/auth/facebook/redirect",design:"facebook",size:"xs"},{default:n(()=>e[6]||(e[6]=[m("i",{class:"fab fa-facebook"},null,-1)])),_:1,__:[6]})),[[p,a.$trans("config.auth.props.login_with_client",{attribute:"Facebook"})]]):r("",!0),t(T)?c((s(),d(g,{key:2,as:"a",href:"/auth/twitter/redirect",design:"info",size:"xs"},{default:n(()=>e[7]||(e[7]=[m("i",{class:"fab fa-twitter"},null,-1)])),_:1,__:[7]})),[[p,a.$trans("config.auth.props.login_with_client",{attribute:"Twitter"})]]):r("",!0),t(C)?c((s(),d(g,{key:3,as:"a",href:"/auth/github/redirect",size:"xs"},{default:n(()=>e[8]||(e[8]=[m("i",{class:"fab fa-github"},null,-1)])),_:1,__:[8]})),[[p,a.$trans("config.auth.props.login_with_client",{attribute:"Github"})]]):r("",!0),t(S)?c((s(),d(g,{key:4,as:"a",href:"/auth/microsoft/redirect",size:"xs"},{default:n(()=>e[9]||(e[9]=[m("i",{class:"fab fa-microsoft"},null,-1)])),_:1,__:[9]})),[[p,a.$trans("config.auth.props.login_with_client",{attribute:"Microsoft"})]]):r("",!0)])):r("",!0),t(R)?(s(),k("div",oe,[u(w,{to:"Register"},{default:n(()=>[b(h(a.$trans("auth.register.register_title")),1)]),_:1})])):r("",!0),u(g,{type:"submit",block:""},{default:n(()=>[b(h(a.$trans("auth.login.login")),1)]),_:1})])]),_:1},8,["form"])]),_:1})],64)}}};export{re as default};
