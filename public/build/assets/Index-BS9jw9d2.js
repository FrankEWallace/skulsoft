import{u as H,m as w,q as L,r as a,t as b,o as _,w as e,d as k,e as t,i as j,k as N,z as C,p as x,f as c,a as Q,F as S,y as U,v as l,x as d,b as O}from"./app-Cvm44xuh.js";const q={class:"grid grid-cols-3 gap-6"},z={class:"col-span-3 sm:col-span-1"},E={class:"col-span-3 sm:col-span-1"},G={__name:"Filter",emits:["hide"],setup(R,{emit:g}){H();const f=g,v={search:"",startDate:"",endDate:""},i=w({...v}),D=w({isLoaded:!0});return L(async()=>{D.isLoaded=!0}),(m,o)=>{const $=a("BaseInput"),r=a("DatePicker"),s=a("FilterForm");return _(),b(s,{"init-form":v,form:i,multiple:[],onHide:o[3]||(o[3]=u=>f("hide"))},{default:e(()=>[k("div",q,[k("div",z,[t($,{type:"text",modelValue:i.search,"onUpdate:modelValue":o[0]||(o[0]=u=>i.search=u),name:"search",label:m.$trans("general.search")},null,8,["modelValue","label"])]),k("div",E,[t(r,{start:i.startDate,"onUpdate:start":o[1]||(o[1]=u=>i.startDate=u),end:i.endDate,"onUpdate:end":o[2]||(o[2]=u=>i.endDate=u),name:"dateBetween",as:"range",label:m.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},J={name:"ReceptionQueryList"},W=Object.assign(J,{setup(R){const g=j(),f=N("emitter");let v=["filter"],i=[];C("query:export")&&(i=["print","pdf","excel"]);const D="reception/query/",m=x(!1),o=w({}),$=r=>{Object.assign(o,r)};return(r,s)=>{const u=a("PageHeaderAction"),y=a("PageHeader"),F=a("ParentTransition"),p=a("DataCell"),I=a("TextMuted"),P=a("BaseBadge"),h=a("FloatingMenuItem"),T=a("FloatingMenu"),M=a("DataRow"),V=a("DataTable"),A=a("ListItem");return _(),b(A,{"init-url":D,"additional-query":{},onSetItems:$},{header:e(()=>[t(y,{title:r.$trans("reception.query.query"),navs:[{label:r.$trans("reception.reception"),path:"Reception"}]},{default:e(()=>[t(u,{url:"reception/queries/",name:"ReceptionQuery",title:r.$trans("reception.query.query"),actions:c(v),"dropdown-actions":c(i),"config-path":"ReceptionConfig",onToggleFilter:s[0]||(s[0]=n=>m.value=!m.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[t(F,{appear:"",visibility:m.value},{default:e(()=>[t(G,{onRefresh:s[1]||(s[1]=n=>c(f).emit("listItems")),onHide:s[2]||(s[2]=n=>m.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[t(F,{appear:"",visibility:!0},{default:e(()=>[t(V,{header:o.headers,meta:o.meta,module:"reception.query",onRefresh:s[3]||(s[3]=n=>c(f).emit("listItems"))},{actionButton:e(()=>s[4]||(s[4]=[])),default:e(()=>[(_(!0),Q(S,null,U(o.data,n=>(_(),b(M,{key:n.uuid,onDoubleClick:B=>c(g).push({name:"ReceptionQueryShow",params:{uuid:n.uuid}})},{default:e(()=>[t(p,{name:"code_number"},{default:e(()=>[l(d(n.codeNumber),1)]),_:2},1024),t(p,{name:"name"},{default:e(()=>[l(d(n.name),1)]),_:2},1024),t(p,{name:"email"},{default:e(()=>[l(d(n.email)+" ",1),t(I,{block:""},{default:e(()=>[l(d(n.phone),1)]),_:2},1024)]),_:2},1024),t(p,{name:"status"},{default:e(()=>[t(P,{design:n.status.color},{default:e(()=>[l(d(n.status.label),1)]),_:2},1032,["design"])]),_:2},1024),t(p,{name:"subject"},{default:e(()=>[l(d(n.subject),1)]),_:2},1024),t(p,{name:"createdAt"},{default:e(()=>[l(d(n.createdAt.formatted),1)]),_:2},1024),t(p,{name:"action"},{default:e(()=>[t(T,null,{default:e(()=>[t(h,{icon:"fas fa-arrow-circle-right",onClick:B=>c(g).push({name:"ReceptionQueryShow",params:{uuid:n.uuid}})},{default:e(()=>[l(d(r.$trans("general.show")),1)]),_:2},1032,["onClick"]),c(C)("query:delete")?(_(),b(h,{key:0,icon:"fas fa-trash",onClick:B=>c(f).emit("deleteItem",{uuid:n.uuid})},{default:e(()=>[l(d(r.$trans("general.delete")),1)]),_:2},1032,["onClick"])):O("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDoubleClick"]))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{W as default};
