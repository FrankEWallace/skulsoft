import{u as B,I as H,m as $,r as p,A as j,t as S,o as i,w as f,d as u,a as m,e as o,f as s,B as k,b as x,K as q,F as C}from"./app-Cvm44xuh.js";const M={class:"grid grid-cols-4 gap-6"},O={class:"col-span-4 sm:col-span-1"},w={class:"flex space-x-2"},D={key:0,class:"col-span-4 sm:col-span-3"},L={key:1,class:"col-span-4 sm:col-span-3"},R={class:"mt-4 grid grid-cols-4 gap-6"},T={class:"col-span-4 sm:col-span-1"},h={key:0,class:"col-span-4 sm:col-span-1"},I={name:"SiteMenuForm"},N=Object.assign(I,{setup(y){const v=B(),l={name:"",hasExternalUrl:!1,externalUrl:"",placement:"",parent:"",page:""},_="site/menu/",r=H(_),d=$({placements:[],pages:[]}),n=$({...l}),c=$({parent:"",page:"",isLoaded:!v.params.uuid}),E=t=>{Object.assign(d,t)},F=t=>{var e,g,U,b;Object.assign(l,{...t,placement:t.placement.value,parent:(e=t.parent)==null?void 0:e.uuid,page:(g=t.page)==null?void 0:g.uuid}),Object.assign(n,q(l)),c.parent=(U=t.parent)==null?void 0:U.uuid,c.page=(b=t.page)==null?void 0:b.uuid,c.isLoaded=!0};return(t,e)=>{const g=p("BaseInput"),U=p("HelperText"),b=p("BaseSelect"),P=p("BaseSelectSearch"),A=p("FormAction"),V=j("tooltip");return i(),S(A,{"pre-requisites":!0,onSetPreRequisites:E,"init-url":_,"init-form":l,form:n,"set-form":F,redirect:"SiteMenu"},{default:f(()=>[u("div",M,[u("div",O,[o(g,{type:"text",modelValue:n.name,"onUpdate:modelValue":e[2]||(e[2]=a=>n.name=a),name:"name",label:t.$trans("site.menu.props.name"),error:s(r).name,"onUpdate:error":e[3]||(e[3]=a=>s(r).name=a)},{"additional-label":f(()=>[u("div",w,[n.hasExternalUrl?k((i(),m("i",{key:1,class:"fas fa-arrows-to-circle cursor-pointer",onClick:e[1]||(e[1]=a=>n.hasExternalUrl=!1)},null,512)),[[V,t.$trans("global.remove",{attribute:t.$trans("site.menu.props.external_url")})]]):k((i(),m("i",{key:0,class:"fas fa-up-right-from-square cursor-pointer",onClick:e[0]||(e[0]=a=>n.hasExternalUrl=!0)},null,512)),[[V,t.$trans("global.has_attribute",{attribute:t.$trans("site.menu.props.external_url")})]])])]),_:1},8,["modelValue","label","error"])]),n.hasExternalUrl?(i(),m("div",D,[o(g,{type:"text",modelValue:n.externalUrl,"onUpdate:modelValue":e[4]||(e[4]=a=>n.externalUrl=a),name:"externalUrl",label:t.$trans("site.menu.props.external_url"),error:s(r).externalUrl,"onUpdate:error":e[5]||(e[5]=a=>s(r).externalUrl=a)},null,8,["modelValue","label","error"]),o(U,null,{default:f(()=>e[12]||(e[12]=[u("p",{class:"text-xs dark:text-gray-500"}," https://example.com ",-1)])),_:1,__:[12]})])):(i(),m("div",L,[o(b,{modelValue:n.page,"onUpdate:modelValue":e[6]||(e[6]=a=>n.page=a),name:"page",label:t.$trans("global.select",{attribute:t.$trans("site.page.page")}),"label-prop":"title","value-prop":"uuid",options:d.pages,error:s(r).page,"onUpdate:error":e[7]||(e[7]=a=>s(r).page=a)},null,8,["modelValue","label","options","error"])]))]),u("div",R,[u("div",T,[o(b,{modelValue:n.placement,"onUpdate:modelValue":e[8]||(e[8]=a=>n.placement=a),name:"placement",label:t.$trans("global.select",{attribute:t.$trans("site.menu.props.placement")}),options:d.placements,error:s(r).placement,"onUpdate:error":e[9]||(e[9]=a=>s(r).placement=a)},null,8,["modelValue","label","options","error"])]),n.placement=="header"?(i(),m("div",h,[c.isLoaded?(i(),S(P,{key:0,name:"parent",label:t.$trans("global.select",{attribute:t.$trans("site.menu.props.parent")}),modelValue:n.parent,"onUpdate:modelValue":e[10]||(e[10]=a=>n.parent=a),error:s(r).parent,"onUpdate:error":e[11]||(e[11]=a=>s(r).parent=a),"init-search":c.parent,"search-action":"site/menu/list"},null,8,["label","modelValue","error","init-search"])):x("",!0)])):x("",!0)])]),_:1},8,["form"])}}}),K={name:"SiteMenuAction"},G=Object.assign(K,{setup(y){const v=B();return(l,_)=>{const r=p("PageHeaderAction"),d=p("PageHeader"),n=p("ParentTransition");return i(),m(C,null,[o(d,{title:l.$trans(s(v).meta.trans,{attribute:l.$trans(s(v).meta.label)}),navs:[{label:l.$trans("site.site"),path:"Site"},{label:l.$trans("site.menu.menu"),path:"SiteMenuList"}]},{default:f(()=>[o(r,{name:"SiteMenu",title:l.$trans("site.menu.menu"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),o(n,{appear:"",visibility:!0},{default:f(()=>[o(N)]),_:1})],64)}}});export{G as default};
