import{u as E,k as q,I as W,m as R,r as u,t as v,o as b,w as n,d as c,e as l,f as s,a as y,b as V,v as m,x as i,j as X,i as Y,g as Z,F as D,z as h}from"./app-Cvm44xuh.js";const _={class:"grid grid-cols-3 gap-6"},ee={class:"col-span-3 sm:col-span-1"},ae={key:0,class:"font-bold"},te={key:0,class:"font-bold"},oe={class:"flex-row space-y-2 col-span-3 sm:col-span-1"},re={class:"flex-row space-y-2 col-span-3 sm:col-span-1"},se={class:"flex-row space-y-2 col-span-3 sm:col-span-1"},le={class:"flex-row space-y-2 col-span-3 sm:col-span-1"},ne={class:"flex-row space-y-2 col-span-3 sm:col-span-1"},ie={name:"AcademicPeriodImportForm"},de=Object.assign(ie,{props:{},emits:["completed"],setup(N,{emit:$}){const j=E(),k=$,w=q("emitter"),S={period:"",division:!1,course:!1,batch:!1,subject:!1,subjectAllocation:!1,feeGroup:!1,feeHead:!1,feeConcession:!1,feeStructure:!1,transportCircle:!1,transportFee:!1,transportStoppage:!1,examTerm:!1,exam:!1,examGrade:!1,examAssessment:!1,examObservation:!1,classTiming:!1},A="academic/period/",r=W(A),F=R({}),e=R({...S}),f=o=>{Object.assign(F,o)},G=o=>{o||(e.course=!1,e.batch=!1,e.subject=!1)},H=o=>{o?e.division=!0:(e.batch=!1,e.subject=!1)},U=o=>{o?(e.division=!0,e.course=!0):e.subject=!1},p=o=>{o?(e.division=!0,e.course=!0,e.batch=!0):e.subjectAllocation=!1},O=o=>{o&&(e.subject=!0)},P=o=>{o||(e.feeHead=!1,e.feeConcession=!1,e.feeStructure=!1)},T=o=>{o?e.feeGroup=!0:(e.feeConcession=!1,e.feeStructure=!1)},I=o=>{o?(e.feeGroup=!0,e.feeHead=!0):e.feeStructure=!1},B=o=>{o||(e.transportFee=!1)},g=o=>{o&&(e.transportCircle=!0)},x=o=>{},M=o=>{o||(e.exam=!1)},z=o=>{o&&(e.examTerm=!0)},L=o=>{},J=()=>{k("completed"),w.emit("listItems")};return(o,t)=>{const K=u("BaseSelectSearch"),d=u("BaseSwitch"),Q=u("FormAction");return b(),v(Q,{"no-card":"","pre-requisites":!1,onSetPreRequisites:f,"init-url":A,uuid:s(j).params.uuid,"no-data-fetch":"",action:"import","init-form":S,form:e,"keep-adding":!1,"after-submit":J},{default:n(()=>[c("div",_,[c("div",ee,[l(K,{name:"period",label:o.$trans("academic.period.period"),modelValue:e.period,"onUpdate:modelValue":t[0]||(t[0]=a=>e.period=a),error:s(r).period,"onUpdate:error":t[1]||(t[1]=a=>s(r).period=a),"value-prop":"uuid","search-action":"academic/period/list"},{selectedOption:n(a=>{var C;return[a.value.session?(b(),y("span",ae,i((C=a.value.session)==null?void 0:C.name)+" - ",1)):V("",!0),m(" "+i(a.value.name),1)]}),listOption:n(a=>{var C;return[a.option.session?(b(),y("span",te,i((C=a.option.session)==null?void 0:C.name)+" - ",1)):V("",!0),m(" "+i(a.option.name),1)]}),_:1},8,["label","modelValue","error"])]),c("div",oe,[l(d,{modelValue:e.division,"onUpdate:modelValue":t[2]||(t[2]=a=>e.division=a),name:"division",label:o.$trans("global.import",{attribute:o.$trans("academic.division.division")}),onChange:G,error:s(r).division,"onUpdate:error":t[3]||(t[3]=a=>s(r).division=a)},null,8,["modelValue","label","error"]),l(d,{modelValue:e.course,"onUpdate:modelValue":t[4]||(t[4]=a=>e.course=a),name:"course",label:o.$trans("global.import",{attribute:o.$trans("academic.course.course")}),onChange:H,error:s(r).course,"onUpdate:error":t[5]||(t[5]=a=>s(r).course=a)},null,8,["modelValue","label","error"]),l(d,{modelValue:e.batch,"onUpdate:modelValue":t[6]||(t[6]=a=>e.batch=a),name:"batch",label:o.$trans("global.import",{attribute:o.$trans("academic.batch.batch")}),onChange:U,error:s(r).batch,"onUpdate:error":t[7]||(t[7]=a=>s(r).batch=a)},null,8,["modelValue","label","error"]),l(d,{modelValue:e.subject,"onUpdate:modelValue":t[8]||(t[8]=a=>e.subject=a),name:"subject",label:o.$trans("global.import",{attribute:o.$trans("academic.subject.subject")}),onChange:p,error:s(r).subject,"onUpdate:error":t[9]||(t[9]=a=>s(r).subject=a)},null,8,["modelValue","label","error"]),l(d,{modelValue:e.subjectAllocation,"onUpdate:modelValue":t[10]||(t[10]=a=>e.subjectAllocation=a),name:"subjectAllocation",label:o.$trans("global.import",{attribute:o.$trans("academic.subject.allocation")}),onChange:O,error:s(r).subjectAllocation,"onUpdate:error":t[11]||(t[11]=a=>s(r).subjectAllocation=a)},null,8,["modelValue","label","error"])]),c("div",re,[l(d,{modelValue:e.feeGroup,"onUpdate:modelValue":t[12]||(t[12]=a=>e.feeGroup=a),name:"feeGroup",label:o.$trans("global.import",{attribute:o.$trans("finance.fee_group.fee_group")}),onChange:P,error:s(r).feeGroup,"onUpdate:error":t[13]||(t[13]=a=>s(r).feeGroup=a)},null,8,["modelValue","label","error"]),l(d,{modelValue:e.feeHead,"onUpdate:modelValue":t[14]||(t[14]=a=>e.feeHead=a),name:"feeHead",label:o.$trans("global.import",{attribute:o.$trans("finance.fee_head.fee_head")}),onChange:T,error:s(r).feeHead,"onUpdate:error":t[15]||(t[15]=a=>s(r).feeHead=a)},null,8,["modelValue","label","error"]),l(d,{modelValue:e.feeConcession,"onUpdate:modelValue":t[16]||(t[16]=a=>e.feeConcession=a),name:"feeConcession",label:o.$trans("global.import",{attribute:o.$trans("finance.fee_concession.fee_concession")}),onChange:I,error:s(r).feeConcession,"onUpdate:error":t[17]||(t[17]=a=>s(r).feeConcession=a)},null,8,["modelValue","label","error"])]),c("div",se,[l(d,{modelValue:e.transportCircle,"onUpdate:modelValue":t[18]||(t[18]=a=>e.transportCircle=a),name:"transportCircle",label:o.$trans("global.import",{attribute:o.$trans("transport.circle.circle")}),onChange:B,error:s(r).transportCircle,"onUpdate:error":t[19]||(t[19]=a=>s(r).transportCircle=a)},null,8,["modelValue","label","error"]),l(d,{modelValue:e.transportFee,"onUpdate:modelValue":t[20]||(t[20]=a=>e.transportFee=a),name:"transportFee",label:o.$trans("global.import",{attribute:o.$trans("transport.fee.fee")}),onChange:g,error:s(r).transportFee,"onUpdate:error":t[21]||(t[21]=a=>s(r).transportFee=a)},null,8,["modelValue","label","error"]),l(d,{modelValue:e.transportStoppage,"onUpdate:modelValue":t[22]||(t[22]=a=>e.transportStoppage=a),name:"transportStoppage",label:o.$trans("global.import",{attribute:o.$trans("transport.stoppage.stoppage")}),onChange:x,error:s(r).transportStoppage,"onUpdate:error":t[23]||(t[23]=a=>s(r).transportStoppage=a)},null,8,["modelValue","label","error"])]),c("div",le,[l(d,{modelValue:e.examTerm,"onUpdate:modelValue":t[24]||(t[24]=a=>e.examTerm=a),name:"examTerm",label:o.$trans("global.import",{attribute:o.$trans("exam.term.term")}),onChange:M,error:s(r).examTerm,"onUpdate:error":t[25]||(t[25]=a=>s(r).examTerm=a)},null,8,["modelValue","label","error"]),l(d,{modelValue:e.exam,"onUpdate:modelValue":t[26]||(t[26]=a=>e.exam=a),name:"exam",label:o.$trans("global.import",{attribute:o.$trans("exam.exam")}),onChange:z,error:s(r).exam,"onUpdate:error":t[27]||(t[27]=a=>s(r).exam=a)},null,8,["modelValue","label","error"]),l(d,{modelValue:e.examGrade,"onUpdate:modelValue":t[28]||(t[28]=a=>e.examGrade=a),name:"examGrade",label:o.$trans("global.import",{attribute:o.$trans("exam.grade.grade")}),onChange:t[29]||(t[29]=()=>{}),error:s(r).examGrade,"onUpdate:error":t[30]||(t[30]=a=>s(r).examGrade=a)},null,8,["modelValue","label","error"]),l(d,{modelValue:e.examAssessment,"onUpdate:modelValue":t[31]||(t[31]=a=>e.examAssessment=a),name:"examAssessment",label:o.$trans("global.import",{attribute:o.$trans("exam.assessment.assessment")}),onChange:t[32]||(t[32]=()=>{}),error:s(r).examAssessment,"onUpdate:error":t[33]||(t[33]=a=>s(r).examAssessment=a)},null,8,["modelValue","label","error"]),l(d,{modelValue:e.examObservation,"onUpdate:modelValue":t[34]||(t[34]=a=>e.examObservation=a),name:"examObservation",label:o.$trans("global.import",{attribute:o.$trans("exam.observation.observation")}),onChange:t[35]||(t[35]=()=>{}),error:s(r).examObservation,"onUpdate:error":t[36]||(t[36]=a=>s(r).examObservation=a)},null,8,["modelValue","label","error"])]),c("div",ne,[l(d,{modelValue:e.classTiming,"onUpdate:modelValue":t[37]||(t[37]=a=>e.classTiming=a),name:"classTiming",label:o.$trans("global.import",{attribute:o.$trans("academic.class_timing.class_timing")}),onChange:L,error:s(r).classTiming,"onUpdate:error":t[38]||(t[38]=a=>s(r).classTiming=a)},null,8,["modelValue","label","error"])])])]),_:1},8,["uuid","form"])}}}),me={class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"},ue={name:"AcademicPeriodShow"},be=Object.assign(ue,{setup(N){X();const $=E(),j=Y(),k=q("emitter"),w=Z("student.enableTimesheet"),S={},A="academic/period/",r=R({...S}),F=e=>{Object.assign(r,e)};return(e,f)=>{const G=u("PageHeaderAction"),H=u("PageHeader"),U=u("TextMuted"),p=u("BaseDataView"),O=u("BaseButton"),P=u("ShowButton"),T=u("BaseCard"),I=u("ShowItem"),B=u("ParentTransition");return b(),y(D,null,[l(H,{title:e.$trans(s($).meta.trans,{attribute:e.$trans(s($).meta.label)}),navs:[{label:e.$trans("academic.academic"),path:"Academic"},{label:e.$trans("academic.period.period"),path:"AcademicPeriodList"}]},{default:n(()=>[l(G,{name:"AcademicPeriod",title:e.$trans("academic.period.period"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),l(B,{appear:"",visibility:!0},{default:n(()=>[l(I,{"init-url":A,uuid:s($).params.uuid,onSetItem:F,onRedirectTo:f[1]||(f[1]=g=>s(j).push({name:"AcademicPeriod"}))},{default:n(()=>[r.uuid?(b(),v(T,{key:0},{title:n(()=>[m(i(r.name),1)]),footer:n(()=>[l(P,null,{default:n(()=>[s(h)("period:edit")?(b(),v(O,{key:0,design:"primary",onClick:f[0]||(f[0]=g=>s(j).push({name:"AcademicPeriodEdit",params:{uuid:r.uuid}}))},{default:n(()=>[m(i(e.$trans("general.edit")),1)]),_:1})):V("",!0)]),_:1})]),default:n(()=>[c("dl",me,[l(p,{label:e.$trans("academic.period.props.name")},{default:n(()=>[m(i(r.name)+" ",1),r.session?(b(),v(U,{key:0,block:""},{default:n(()=>{var g;return[m(i(((g=r.session)==null?void 0:g.name)||"-"),1)]}),_:1})):V("",!0),l(U,{block:""},{default:n(()=>[m(i(r.alias),1)]),_:1})]),_:1},8,["label"]),l(p,{label:e.$trans("academic.period.props.code")},{default:n(()=>[m(i(r.code)+" ",1),l(U,{block:""},{default:n(()=>[m(i(r.shortcode),1)]),_:1})]),_:1},8,["label"]),l(p,{label:e.$trans("academic.period.props.start_date")},{default:n(()=>[m(i(r.startDate.formatted),1)]),_:1},8,["label"]),l(p,{label:e.$trans("academic.period.props.end_date")},{default:n(()=>[m(i(r.endDate.formatted),1)]),_:1},8,["label"]),s(w)?(b(),y(D,{key:0},[l(p,{label:e.$trans("academic.period.props.session_start_time")},{default:n(()=>[m(i(r.sessionStartTime.formatted),1)]),_:1},8,["label"]),l(p,{label:e.$trans("academic.period.props.session_end_time")},{default:n(()=>[m(i(r.sessionEndTime.formatted),1)]),_:1},8,["label"])],64)):V("",!0),l(p,{class:"col-span-1 sm:col-span-2",label:e.$trans("academic.period.props.description")},{default:n(()=>[m(i(r.description),1)]),_:1},8,["label"]),l(p,{label:e.$trans("general.created_at")},{default:n(()=>[m(i(r.createdAt.formatted),1)]),_:1},8,["label"]),l(p,{label:e.$trans("general.updated_at")},{default:n(()=>[m(i(r.updatedAt.formatted),1)]),_:1},8,["label"])])]),_:1})):V("",!0)]),_:1},8,["uuid"])]),_:1}),l(B,{appear:"",visibility:!0},{default:n(()=>[r.uuid?(b(),v(T,{key:0},{title:n(()=>[m(i(e.$trans("general.import")),1)]),default:n(()=>[l(de,{onCompleted:f[2]||(f[2]=g=>s(k).emit("refreshItem"))})]),_:1})):V("",!0)]),_:1})],64)}}});export{be as default};
