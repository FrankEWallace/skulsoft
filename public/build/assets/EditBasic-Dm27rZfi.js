import{u as re,i as le,k as ne,I as se,g as d,m as $,q as ue,r as b,a as p,o as s,t as y,b as u,e as n,f as o,w as D,d as m,v as B,x as C,J as G,F as de,K as ie}from"./app-Cvm44xuh.js";import{u as me}from"./useCustomFields-B8b01gVh.js";const pe={class:"grid grid-cols-3 gap-6"},be={class:"col-span-3 sm:col-span-2"},Ne={class:"flex"},ce={class:"col-span-3 sm:col-span-1"},ye={class:"col-span-3 sm:col-span-1"},ge={class:"col-span-3 sm:col-span-1"},qe={class:"col-span-3 sm:col-span-1"},Ie={key:0,class:"col-span-3 sm:col-span-1"},Ve={key:1,class:"col-span-3 sm:col-span-1"},Ue={key:2,class:"col-span-3 sm:col-span-1"},ve={key:3,class:"col-span-3 sm:col-span-1"},fe={key:4,class:"col-span-3 sm:col-span-1"},Fe={key:5,class:"col-span-3 sm:col-span-1"},Se={class:"col-span-3 sm:col-span-1"},ke={class:"col-span-3 sm:col-span-1"},De={class:"col-span-3 sm:col-span-1"},Le={class:"col-span-3 sm:col-span-1"},$e={key:6,class:"col-span-4 sm:col-span-1"},Ee={key:7,class:"col-span-3 sm:col-span-1"},Pe={class:"col-span-3 sm:col-span-1"},Be={key:8,class:"col-span-3 sm:col-span-1"},Ce={key:9,class:"col-span-3 sm:col-span-1"},Ge={name:"ContactEditBasic"},je=Object.assign(Ge,{props:{student:{type:Object,default(){return{}}}},setup(g){const L=re(),T=le(),R=ne("emitter"),E=g,I={firstName:"",middleName:"",thirdName:"",lastName:"",firstName:"",middleName:"",gender:"",birthDate:"",anniversaryDate:"",uniqueIdNumber1:"",uniqueIdNumber2:"",uniqueIdNumber3:"",uniqueIdNumber4:"",uniqueIdNumber5:"",birthPlace:"",nationality:"",motherTongue:"",bloodGroup:"",maritalStatus:"",religion:"",category:"",caste:"",customFields:[]},P="student/",l=se(P),j=d("student.isUniqueIdNumber1Enabled"),w=d("student.isUniqueIdNumber2Enabled"),O=d("student.isUniqueIdNumber3Enabled"),A=d("student.isUniqueIdNumber4Enabled"),M=d("student.isUniqueIdNumber5Enabled"),H=d("student.uniqueIdNumber1Label"),z=d("student.uniqueIdNumber2Label"),J=d("student.uniqueIdNumber3Label"),K=d("student.uniqueIdNumber4Label"),Q=d("student.uniqueIdNumber5Label"),W=d("contact.enableLocalityField"),X=d("contact.enableCategoryField"),Y=d("contact.enableCasteField"),Z=d("student.enableMaritalStatus"),x=d("student.enableAnniversaryDate"),N=$({genders:[],bloodGroups:[],religions:[],categories:[],castes:[],localities:[],maritalStatuses:[],customFields:[]}),a=$({...I}),q=$({isLoaded:!L.params.uuid}),{customFields:h,setCustomFields:_}=me(),ee=r=>{Object.assign(N,r),te()},te=()=>{var e,v,V,f,i,F,U,c,S,k;let r=(e=E.student)==null?void 0:e.contact;Object.assign(I,{firstName:r.firstName,middleName:r.middleName,thirdName:r.thirdName,lastName:r.lastName,fatherName:r.fatherName,motherName:r.motherName,gender:(v=r.gender)==null?void 0:v.value,birthDate:(V=r.birthDate)==null?void 0:V.value,anniversaryDate:(f=r.anniversaryDate)==null?void 0:f.value,uniqueIdNumber1:r.uniqueIdNumber1,uniqueIdNumber2:r.uniqueIdNumber2,uniqueIdNumber3:r.uniqueIdNumber3,uniqueIdNumber4:r.uniqueIdNumber4,uniqueIdNumber5:r.uniqueIdNumber5,birthPlace:r.birthPlace,locality:((i=r.locality)==null?void 0:i.value)||"",bloodGroup:((F=r.bloodGroup)==null?void 0:F.value)||"",maritalStatus:((U=r.maritalStatus)==null?void 0:U.value)||"",nationality:r.nationality,motherTongue:r.motherTongue,religion:((c=r.religion)==null?void 0:c.uuid)||"",category:((S=r.category)==null?void 0:S.uuid)||"",caste:((k=r.caste)==null?void 0:k.uuid)||""}),_(N.customFields,r.customFields),I.customFields=h.value,Object.assign(a,ie(I)),q.isLoaded=!0};ue(async()=>{});const oe=()=>{R.emit("studentUpdated"),T.push({name:"StudentShowBasic",params:{uuid:E.student.uuid}})};return(r,e)=>{const v=b("PageHeader"),V=b("BaseLabel"),f=b("NameInput"),i=b("BaseInput"),F=b("BaseRadioGroup"),U=b("DatePicker"),c=b("BaseSelect"),S=b("CustomField"),k=b("FormAction"),ae=b("ParentTransition");return s(),p(de,null,[g.student.uuid?(s(),y(v,{key:0,title:r.$trans(o(L).meta.trans,{attribute:r.$trans(o(L).meta.label)}),navs:[{label:r.$trans("student.student"),path:"Student"},{label:g.student.contact.name,path:{name:"StudentShow",params:{uuid:g.student.uuid}}}]},null,8,["title","navs"])):u("",!0),n(ae,{appear:"",visibility:!0},{default:D(()=>[g.student.uuid?(s(),y(k,{key:0,"pre-requisites":!0,onSetPreRequisites:ee,"init-url":P,"no-data-fetch":"","init-form":I,form:a,"stay-on":"","after-submit":oe,redirect:{name:"StudentShowBasic",params:{uuid:g.student.uuid}}},{default:D(()=>[m("div",pe,[m("div",be,[n(V,null,{default:D(()=>[B(C(r.$trans("contact.props.name")),1)]),_:1}),m("div",Ne,[n(f,{firstName:a.firstName,"onUpdate:firstName":e[0]||(e[0]=t=>a.firstName=t),middleName:a.middleName,"onUpdate:middleName":e[1]||(e[1]=t=>a.middleName=t),thirdName:a.thirdName,"onUpdate:thirdName":e[2]||(e[2]=t=>a.thirdName=t),lastName:a.lastName,"onUpdate:lastName":e[3]||(e[3]=t=>a.lastName=t),formErrors:o(l),"onUpdate:formErrors":e[4]||(e[4]=t=>G(l)?l.value=t:null)},null,8,["firstName","middleName","thirdName","lastName","formErrors"])])]),m("div",ce,[n(i,{type:"text",modelValue:a.fatherName,"onUpdate:modelValue":e[5]||(e[5]=t=>a.fatherName=t),name:"fatherName",label:r.$trans("contact.props.father_name"),error:o(l).fatherName,"onUpdate:error":e[6]||(e[6]=t=>o(l).fatherName=t)},null,8,["modelValue","label","error"])]),m("div",ye,[n(i,{type:"text",modelValue:a.motherName,"onUpdate:modelValue":e[7]||(e[7]=t=>a.motherName=t),name:"motherName",label:r.$trans("contact.props.mother_name"),error:o(l).motherName,"onUpdate:error":e[8]||(e[8]=t=>o(l).motherName=t)},null,8,["modelValue","label","error"])]),m("div",ge,[n(V,null,{default:D(()=>[B(C(r.$trans("contact.props.gender")),1)]),_:1}),n(F,{"top-margin":"",options:N.genders,name:"gender",modelValue:a.gender,"onUpdate:modelValue":e[9]||(e[9]=t=>a.gender=t),error:o(l).gender,"onUpdate:error":e[10]||(e[10]=t=>o(l).gender=t),horizontal:""},null,8,["options","modelValue","error"])]),m("div",qe,[n(U,{modelValue:a.birthDate,"onUpdate:modelValue":e[11]||(e[11]=t=>a.birthDate=t),name:"birthDate",label:r.$trans("contact.props.birth_date"),"no-clear":"",error:o(l).birthDate,"onUpdate:error":e[12]||(e[12]=t=>o(l).birthDate=t)},null,8,["modelValue","label","error"])]),o(x)?(s(),p("div",Ie,[n(U,{modelValue:a.anniversaryDate,"onUpdate:modelValue":e[13]||(e[13]=t=>a.anniversaryDate=t),name:"anniversaryDate",label:r.$trans("contact.props.anniversary_date"),"no-clear":"",error:o(l).anniversaryDate,"onUpdate:error":e[14]||(e[14]=t=>o(l).anniversaryDate=t)},null,8,["modelValue","label","error"])])):u("",!0),o(j)?(s(),p("div",Ve,[n(i,{type:"text",modelValue:a.uniqueIdNumber1,"onUpdate:modelValue":e[15]||(e[15]=t=>a.uniqueIdNumber1=t),name:"uniqueIdNumber1",label:o(H),error:o(l).uniqueIdNumber1,"onUpdate:error":e[16]||(e[16]=t=>o(l).uniqueIdNumber1=t)},null,8,["modelValue","label","error"])])):u("",!0),o(w)?(s(),p("div",Ue,[n(i,{type:"text",modelValue:a.uniqueIdNumber2,"onUpdate:modelValue":e[17]||(e[17]=t=>a.uniqueIdNumber2=t),name:"uniqueIdNumber2",label:o(z),error:o(l).uniqueIdNumber2,"onUpdate:error":e[18]||(e[18]=t=>o(l).uniqueIdNumber2=t)},null,8,["modelValue","label","error"])])):u("",!0),o(O)?(s(),p("div",ve,[n(i,{type:"text",modelValue:a.uniqueIdNumber3,"onUpdate:modelValue":e[19]||(e[19]=t=>a.uniqueIdNumber3=t),name:"uniqueIdNumber3",label:o(J),error:o(l).uniqueIdNumber3,"onUpdate:error":e[20]||(e[20]=t=>o(l).uniqueIdNumber3=t)},null,8,["modelValue","label","error"])])):u("",!0),o(A)?(s(),p("div",fe,[n(i,{type:"text",modelValue:a.uniqueIdNumber4,"onUpdate:modelValue":e[21]||(e[21]=t=>a.uniqueIdNumber4=t),name:"uniqueIdNumber4",label:o(K),error:o(l).uniqueIdNumber4,"onUpdate:error":e[22]||(e[22]=t=>o(l).uniqueIdNumber4=t)},null,8,["modelValue","label","error"])])):u("",!0),o(M)?(s(),p("div",Fe,[n(i,{type:"text",modelValue:a.uniqueIdNumber5,"onUpdate:modelValue":e[23]||(e[23]=t=>a.uniqueIdNumber5=t),name:"uniqueIdNumber5",label:o(Q),error:o(l).uniqueIdNumber5,"onUpdate:error":e[24]||(e[24]=t=>o(l).uniqueIdNumber5=t)},null,8,["modelValue","label","error"])])):u("",!0),m("div",Se,[n(i,{type:"text",modelValue:a.birthPlace,"onUpdate:modelValue":e[25]||(e[25]=t=>a.birthPlace=t),name:"birthPlace",label:r.$trans("contact.props.birth_place"),error:o(l).birthPlace,"onUpdate:error":e[26]||(e[26]=t=>o(l).birthPlace=t)},null,8,["modelValue","label","error"])]),m("div",ke,[n(i,{type:"text",modelValue:a.nationality,"onUpdate:modelValue":e[27]||(e[27]=t=>a.nationality=t),name:"nationality",label:r.$trans("contact.props.nationality"),error:o(l).nationality,"onUpdate:error":e[28]||(e[28]=t=>o(l).nationality=t)},null,8,["modelValue","label","error"])]),m("div",De,[n(i,{type:"text",modelValue:a.motherTongue,"onUpdate:modelValue":e[29]||(e[29]=t=>a.motherTongue=t),name:"motherTongue",label:r.$trans("contact.props.mother_tongue"),error:o(l).motherTongue,"onUpdate:error":e[30]||(e[30]=t=>o(l).motherTongue=t)},null,8,["modelValue","label","error"])]),m("div",Le,[q.isLoaded?(s(),y(c,{key:0,modelValue:a.bloodGroup,"onUpdate:modelValue":e[31]||(e[31]=t=>a.bloodGroup=t),name:"bloodGroup",label:r.$trans("contact.props.blood_group"),options:N.bloodGroups,error:o(l).bloodGroup,"onUpdate:error":e[32]||(e[32]=t=>o(l).bloodGroup=t)},null,8,["modelValue","label","options","error"])):u("",!0)]),o(W)?(s(),p("div",$e,[n(c,{modelValue:a.locality,"onUpdate:modelValue":e[33]||(e[33]=t=>a.locality=t),name:"locality",label:r.$trans("contact.props.locality"),options:N.localities,"label-prop":"label","value-prop":"value",error:o(l).locality,"onUpdate:error":e[34]||(e[34]=t=>o(l).locality=t)},null,8,["modelValue","label","options","error"])])):u("",!0),o(Z)?(s(),p("div",Ee,[q.isLoaded?(s(),y(c,{key:0,modelValue:a.maritalStatus,"onUpdate:modelValue":e[35]||(e[35]=t=>a.maritalStatus=t),name:"maritalStatus",label:r.$trans("contact.props.marital_status"),options:N.maritalStatuses,error:o(l).maritalStatus,"onUpdate:error":e[36]||(e[36]=t=>o(l).maritalStatus=t)},null,8,["modelValue","label","options","error"])):u("",!0)])):u("",!0),m("div",Pe,[q.isLoaded?(s(),y(c,{key:0,name:"religion",label:r.$trans("global.select",{attribute:r.$trans("contact.religion.religion")}),modelValue:a.religion,"onUpdate:modelValue":e[37]||(e[37]=t=>a.religion=t),error:o(l).religion,"onUpdate:error":e[38]||(e[38]=t=>o(l).religion=t),options:N.religions,"label-prop":"name","value-prop":"uuid"},null,8,["label","modelValue","error","options"])):u("",!0)]),o(X)?(s(),p("div",Be,[q.isLoaded?(s(),y(c,{key:0,name:"category",label:r.$trans("global.select",{attribute:r.$trans("contact.category.category")}),modelValue:a.category,"onUpdate:modelValue":e[39]||(e[39]=t=>a.category=t),error:o(l).category,"onUpdate:error":e[40]||(e[40]=t=>o(l).category=t),options:N.categories,"label-prop":"name","value-prop":"uuid"},null,8,["label","modelValue","error","options"])):u("",!0)])):u("",!0),o(Y)?(s(),p("div",Ce,[q.isLoaded?(s(),y(c,{key:0,name:"caste",label:r.$trans("global.select",{attribute:r.$trans("contact.caste.caste")}),modelValue:a.caste,"onUpdate:modelValue":e[41]||(e[41]=t=>a.caste=t),error:o(l).caste,"onUpdate:error":e[42]||(e[42]=t=>o(l).caste=t),options:N.castes,"label-prop":"name","value-prop":"uuid"},null,8,["label","modelValue","error","options"])):u("",!0)])):u("",!0)]),n(S,{customFields:a.customFields,"onUpdate:customFields":e[43]||(e[43]=t=>a.customFields=t),formErrors:o(l),"onUpdate:formErrors":e[44]||(e[44]=t=>G(l)?l.value=t:null)},null,8,["customFields","formErrors"])]),_:1},8,["form","redirect"])):u("",!0)]),_:1})],64)}}});export{je as default};
