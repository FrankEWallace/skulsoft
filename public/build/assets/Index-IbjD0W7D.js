import{m as I,r as s,t as f,o as r,w as e,d as F,e as o,u as j,i as L,k as M,z as u,p as N,f as a,a as w,F as E,y as O,v as l,b as k,x as i}from"./app-Cvm44xuh.js";const z={class:"grid grid-cols-3 gap-6"},G={class:"col-span-3 sm:col-span-1"},J={class:"col-span-3 sm:col-span-1"},K={class:"col-span-3 sm:col-span-1"},W={__name:"Filter",emits:["hide"],setup(n,{emit:V}){const $=V,b={course:"",institute:"",affiliatedTo:""},c=I({...b});return(_,d)=>{const y=s("BaseInput"),C=s("FilterForm");return r(),f(C,{"init-form":b,form:c,onHide:d[3]||(d[3]=v=>$("hide"))},{default:e(()=>[F("div",z,[F("div",G,[o(y,{type:"text",modelValue:c.course,"onUpdate:modelValue":d[0]||(d[0]=v=>c.course=v),name:"course",label:_.$trans("employee.qualification.props.course")},null,8,["modelValue","label"])]),F("div",J,[o(y,{type:"text",modelValue:c.institute,"onUpdate:modelValue":d[1]||(d[1]=v=>c.institute=v),name:"institute",label:_.$trans("employee.qualification.props.institute")},null,8,["modelValue","label"])]),F("div",K,[o(y,{type:"text",modelValue:c.affiliatedTo,"onUpdate:modelValue":d[2]||(d[2]=v=>c.affiliatedTo=v),name:"affiliatedTo",label:_.$trans("employee.qualification.props.affiliated_to")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},X={name:"EmployeeQualificationList"},Z=Object.assign(X,{props:{employee:{type:Object,default(){return{}}}},setup(n){const V=j(),$=L(),b=M("emitter"),c=n;let _=["filter"];(u("employee:edit")||u("employee-record:manage")||c.employee.selfService)&&_.unshift("create");const d="employee/qualification/",y=N(!1),C=I({}),v=m=>{Object.assign(C,m)};return(m,p)=>{const S=s("PageHeaderAction"),T=s("PageHeader"),h=s("ParentTransition"),Q=s("BaseBadge"),g=s("DataCell"),B=s("FloatingMenuItem"),H=s("FloatingMenu"),P=s("DataRow"),R=s("BaseButton"),U=s("DataTable"),A=s("ListItem");return r(),f(A,{"init-url":d,uuid:a(V).params.uuid,onSetItems:v},{header:e(()=>[n.employee.uuid?(r(),f(T,{key:0,title:m.$trans("employee.qualification.qualification"),navs:[{label:m.$trans("employee.employee"),path:"Employee"},{label:n.employee.contact.name,path:{name:"EmployeeShow",params:{uuid:n.employee.uuid}}}]},{default:e(()=>[o(S,{url:`employees/${n.employee.uuid}/qualifications/`,name:"EmployeeQualification",title:m.$trans("employee.qualification.qualification"),actions:a(_),"dropdown-actions":["print","pdf","excel"],onToggleFilter:p[0]||(p[0]=t=>y.value=!y.value)},null,8,["url","title","actions"])]),_:1},8,["title","navs"])):k("",!0)]),filter:e(()=>[o(h,{appear:"",visibility:y.value},{default:e(()=>[o(W,{onRefresh:p[1]||(p[1]=t=>a(b).emit("listItems")),onHide:p[2]||(p[2]=t=>y.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[o(h,{appear:"",visibility:!0},{default:e(()=>[o(U,{header:C.headers,meta:C.meta,module:"employee.qualification",onRefresh:p[4]||(p[4]=t=>a(b).emit("listItems"))},{actionButton:e(()=>[a(u)("employee:edit")||a(u)("employee-record:manage")||n.employee.selfService?(r(),f(R,{key:0,onClick:p[3]||(p[3]=t=>a($).push({name:"EmployeeQualificationCreate"}))},{default:e(()=>[l(i(m.$trans("global.add",{attribute:m.$trans("employee.qualification.qualification")})),1)]),_:1})):k("",!0)]),default:e(()=>[(r(!0),w(E,null,O(C.data,t=>(r(),f(P,{key:t.uuid,onDoubleClick:D=>a($).push({name:"EmployeeQualificationShow",params:{uuid:n.employee.uuid,muuid:t.uuid}})},{default:e(()=>[o(g,{name:"course"},{default:e(()=>[l(i(t.course)+" ",1),t.selfUpload?(r(),f(Q,{key:0,design:t.verificationStatus.color},{default:e(()=>[l(i(t.verificationStatus.label),1)]),_:2},1032,["design"])):k("",!0)]),_:2},1024),o(g,{name:"institute"},{default:e(()=>[l(i(t.institute),1)]),_:2},1024),o(g,{name:"level"},{default:e(()=>[l(i(t.level.name),1)]),_:2},1024),o(g,{name:"startDate"},{default:e(()=>[l(i(t.startDate.formatted),1)]),_:2},1024),o(g,{name:"endDate"},{default:e(()=>[l(i(t.endDate.formatted),1)]),_:2},1024),o(g,{name:"result"},{default:e(()=>[l(i(t.result),1)]),_:2},1024),o(g,{name:"createdAt"},{default:e(()=>[l(i(t.createdAt.formatted),1)]),_:2},1024),o(g,{name:"action"},{default:e(()=>[o(H,null,{default:e(()=>[o(B,{icon:"fas fa-arrow-circle-right",onClick:D=>a($).push({name:"EmployeeQualificationShow",params:{uuid:n.employee.uuid,muuid:t.uuid}})},{default:e(()=>[l(i(m.$trans("general.show")),1)]),_:2},1032,["onClick"]),a(u)("employee:edit")||a(u)("employee-record:manage")||n.employee.selfService?(r(),w(E,{key:0},[a(u)("employee:edit")||a(u)("employee-record:manage")?(r(),f(B,{key:0,icon:"fas fa-edit",onClick:D=>a($).push({name:"EmployeeQualificationEdit",params:{uuid:n.employee.uuid,muuid:t.uuid}})},{default:e(()=>[l(i(m.$trans("general.edit")),1)]),_:2},1032,["onClick"])):k("",!0),a(u)("employee:edit")||a(u)("employee-record:manage")?(r(),f(B,{key:1,icon:"fas fa-copy",onClick:D=>a($).push({name:"EmployeeQualificationDuplicate",params:{uuid:n.employee.uuid,muuid:t.uuid}})},{default:e(()=>[l(i(m.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):k("",!0),a(u)("employee:edit")||a(u)("employee-record:manage")?(r(),f(B,{key:2,icon:"fas fa-trash",onClick:D=>a(b).emit("deleteItem",{uuid:n.employee.uuid,moduleUuid:t.uuid})},{default:e(()=>[l(i(m.$trans("general.delete")),1)]),_:2},1032,["onClick"])):k("",!0)],64)):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDoubleClick"]))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1},8,["uuid"])}}});export{Z as default};
