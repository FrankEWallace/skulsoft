import{u as J,i as X,k as ie,I as h,g as z,m as P,q as K,r as U,a as C,b as N,o as g,e as s,w as f,d as c,f as a,t as F,v as k,x as V,J as re,K as x,L as Ue,j as le,H as ce,F as _,p as se,y as qe,$ as ve}from"./app-Cvm44xuh.js";import{u as Ve}from"./useCustomFields-B8b01gVh.js";const Ne={key:0,class:"pb-4 px-2"},ke={class:"grid grid-cols-3 gap-6"},Ae={class:"col-span-3 sm:col-span-1"},Ie={class:"col-span-3 sm:col-span-1"},Le={class:"col-span-3 sm:col-span-1"},De={class:"col-span-3 sm:col-span-1"},Te={class:"col-span-3 sm:col-span-1"},Fe={key:0,class:"col-span-4 sm:col-span-1"},Be={class:"col-span-3 sm:col-span-1"},Ce={class:"flex"},Re={class:"col-span-3 sm:col-span-1"},we={class:"col-span-3 sm:col-span-1"},Se={key:1,class:"col-span-3 sm:col-span-1"},Ee={key:2,class:"col-span-3 sm:col-span-1"},Me={key:3,class:"col-span-3 sm:col-span-1"},je={key:4,class:"col-span-3 sm:col-span-1"},Pe={key:5,class:"col-span-3 sm:col-span-1"},Oe={key:6,class:"col-span-3 sm:col-span-1"},ze={class:"col-span-3 sm:col-span-1"},Ge={class:"col-span-3 sm:col-span-1"},Qe={class:"col-span-3 sm:col-span-1"},He={class:"col-span-3 sm:col-span-1"},Je={key:7,class:"col-span-4 sm:col-span-1"},Ke={key:8,class:"col-span-3 sm:col-span-1"},We={class:"col-span-3 sm:col-span-1"},Xe={key:9,class:"col-span-3 sm:col-span-1"},Ye={key:10,class:"col-span-3 sm:col-span-1"},Ze={class:"col-span-3"},_e={class:"col-span-3"},he={name:"ReceptionEnquiryBasicForm"},xe=Object.assign(he,{props:{enquiry:{type:Object,default(){return{}}},preRequisites:{type:Object,default(){return{}}}},emits:["completed"],setup(p,{emit:O}){const w=J();X(),ie("emitter");const S=O,b=p,d={period:"",date:"",stage:"",type:"",source:"",course:"",firstName:"",middleName:"",thirdName:"",lastName:"",firstName:"",middleName:"",gender:"",birthDate:"",anniversaryDate:"",uniqueIdNumber1:"",uniqueIdNumber2:"",uniqueIdNumber3:"",uniqueIdNumber4:"",uniqueIdNumber5:"",birthPlace:"",nationality:"",motherTongue:"",bloodGroup:"",maritalStatus:"",religion:"",category:"",caste:"",description:"",remarks:"",customFields:[],tab:"basic"},u="reception/enquiry/",e=h(u),y=z("student.isUniqueIdNumber1Enabled"),q=z("student.isUniqueIdNumber2Enabled"),l=z("student.isUniqueIdNumber3Enabled"),A=z("student.isUniqueIdNumber4Enabled"),R=z("student.isUniqueIdNumber5Enabled"),$=z("student.uniqueIdNumber1Label"),I=z("student.uniqueIdNumber2Label"),E=z("student.uniqueIdNumber3Label"),n=z("student.uniqueIdNumber4Label"),i=z("student.uniqueIdNumber5Label"),j=z("contact.enableLocalityField"),D=z("contact.enableCategoryField"),T=z("contact.enableCasteField"),L=z("student.enableMaritalStatus"),B=z("student.enableAnniversaryDate"),r=P({...d}),G=P({isLoaded:!w.params.uuid}),{customFields:M,setCustomFields:m}=Ve(),ge=()=>{var o,Q,W,ee,Y,te,ae,H,Z,oe,ne,t,ue,de,pe,me;let v=(o=b.enquiry)==null?void 0:o.contact;Object.assign(d,{period:((Q=b.enquiry.period)==null?void 0:Q.uuid)||"",date:((W=b.enquiry.date)==null?void 0:W.value)||"",stage:((ee=b.enquiry.stage)==null?void 0:ee.uuid)||"",type:((Y=b.enquiry.type)==null?void 0:Y.uuid)||"",source:((te=b.enquiry.source)==null?void 0:te.uuid)||"",course:((ae=b.enquiry.course)==null?void 0:ae.uuid)||"",firstName:v.firstName,middleName:v.middleName,thirdName:v.thirdName,lastName:v.lastName,fatherName:v.fatherName,motherName:v.motherName,gender:(H=v.gender)==null?void 0:H.value,birthDate:(Z=v.birthDate)==null?void 0:Z.value,anniversaryDate:(oe=v.anniversaryDate)==null?void 0:oe.value,uniqueIdNumber1:v.uniqueIdNumber1,uniqueIdNumber2:v.uniqueIdNumber2,uniqueIdNumber3:v.uniqueIdNumber3,uniqueIdNumber4:v.uniqueIdNumber4,uniqueIdNumber5:v.uniqueIdNumber5,birthPlace:v.birthPlace,locality:((ne=v.locality)==null?void 0:ne.value)||"",bloodGroup:((t=v.bloodGroup)==null?void 0:t.value)||"",maritalStatus:((ue=v.maritalStatus)==null?void 0:ue.value)||"",nationality:v.nationality,motherTongue:v.motherTongue,religion:((de=v.religion)==null?void 0:de.uuid)||"",category:((pe=v.category)==null?void 0:pe.uuid)||"",caste:((me=v.caste)==null?void 0:me.uuid)||"",description:b.enquiry.description,remarks:b.enquiry.remarks}),m(b.preRequisites.customFields,b.enquiry.customFields),d.customFields=M.value,Object.assign(r,x(d)),G.isLoaded=!0};K(async()=>{ge()});const $e=()=>{S("completed")};return(v,o)=>{const Q=U("BaseSelect"),W=U("DatePicker"),ee=U("BaseSelectSearch"),Y=U("BaseLabel"),te=U("NameInput"),ae=U("BaseRadioGroup"),H=U("BaseInput"),Z=U("BaseTextarea"),oe=U("CustomField"),ne=U("FormAction");return p.enquiry.uuid?(g(),C("div",Ne,[s(ne,{"no-card":"","init-url":u,"no-data-fetch":"","init-form":d,form:r,action:"updateDetail","stay-on":"","submit-text":v.$trans("general.proceed"),"after-submit":$e},{default:f(()=>[c("div",ke,[c("div",Ae,[s(Q,{modelValue:r.period,"onUpdate:modelValue":o[0]||(o[0]=t=>r.period=t),name:"period",label:v.$trans("global.select",{attribute:v.$trans("academic.period.period")}),options:p.preRequisites.periods,"label-prop":"name","value-prop":"uuid",error:a(e).period,"onUpdate:error":o[1]||(o[1]=t=>a(e).period=t),onChange:o[2]||(o[2]=()=>{})},null,8,["modelValue","label","options","error"])]),c("div",Ie,[s(W,{modelValue:r.date,"onUpdate:modelValue":o[3]||(o[3]=t=>r.date=t),name:"date",label:v.$trans("reception.enquiry.props.date"),"no-clear":"",error:a(e).date,"onUpdate:error":o[4]||(o[4]=t=>a(e).date=t)},null,8,["modelValue","label","error"])]),c("div",Le,[s(Q,{modelValue:r.stage,"onUpdate:modelValue":o[5]||(o[5]=t=>r.stage=t),name:"stage",label:v.$trans("reception.enquiry.props.stage"),options:p.preRequisites.stages,"label-prop":"name","value-prop":"uuid",error:a(e).stage,"onUpdate:error":o[6]||(o[6]=t=>a(e).stage=t)},null,8,["modelValue","label","options","error"])]),c("div",De,[s(Q,{modelValue:r.type,"onUpdate:modelValue":o[7]||(o[7]=t=>r.type=t),name:"type",label:v.$trans("reception.enquiry.props.type"),options:p.preRequisites.types,"label-prop":"name","value-prop":"uuid",error:a(e).type,"onUpdate:error":o[8]||(o[8]=t=>a(e).type=t)},null,8,["modelValue","label","options","error"])]),c("div",Te,[s(Q,{modelValue:r.source,"onUpdate:modelValue":o[9]||(o[9]=t=>r.source=t),name:"source",label:v.$trans("reception.enquiry.props.source"),options:p.preRequisites.sources,"label-prop":"name","value-prop":"uuid",error:a(e).source,"onUpdate:error":o[10]||(o[10]=t=>a(e).source=t)},null,8,["modelValue","label","options","error"])]),r.period?(g(),C("div",Fe,[G.isLoaded?(g(),F(ee,{key:0,name:"course",label:v.$trans("global.select",{attribute:v.$trans("academic.course.course")}),modelValue:r.course,"onUpdate:modelValue":o[11]||(o[11]=t=>r.course=t),error:a(e).course,"onUpdate:error":o[12]||(o[12]=t=>a(e).course=t),"value-prop":"uuid","init-search":r.course,"init-search-key":a(w).params.uuid?"uuid":"name","additional-search-query":{period:r.period},"search-action":"academic/course/list"},{selectedOption:f(t=>[k(V(t.value.division.name)+" - "+V(t.value.name),1)]),listOption:f(t=>[k(V(t.option.division.name)+" - "+V(t.option.name),1)]),_:1},8,["label","modelValue","error","init-search","init-search-key","additional-search-query"])):N("",!0)])):N("",!0),c("div",Be,[s(Y,null,{default:f(()=>[k(V(v.$trans("contact.props.name")),1)]),_:1}),c("div",Ce,[s(te,{firstName:r.firstName,"onUpdate:firstName":o[13]||(o[13]=t=>r.firstName=t),middleName:r.middleName,"onUpdate:middleName":o[14]||(o[14]=t=>r.middleName=t),thirdName:r.thirdName,"onUpdate:thirdName":o[15]||(o[15]=t=>r.thirdName=t),lastName:r.lastName,"onUpdate:lastName":o[16]||(o[16]=t=>r.lastName=t),formErrors:a(e),"onUpdate:formErrors":o[17]||(o[17]=t=>re(e)?e.value=t:null)},null,8,["firstName","middleName","thirdName","lastName","formErrors"])])]),c("div",Re,[s(Y,null,{default:f(()=>[k(V(v.$trans("contact.props.gender")),1)]),_:1}),s(ae,{"top-margin":"",options:p.preRequisites.genders,name:"gender",modelValue:r.gender,"onUpdate:modelValue":o[18]||(o[18]=t=>r.gender=t),error:a(e).gender,"onUpdate:error":o[19]||(o[19]=t=>a(e).gender=t),horizontal:""},null,8,["options","modelValue","error"])]),c("div",we,[s(W,{modelValue:r.birthDate,"onUpdate:modelValue":o[20]||(o[20]=t=>r.birthDate=t),name:"birthDate",label:v.$trans("contact.props.birth_date"),"no-clear":"",error:a(e).birthDate,"onUpdate:error":o[21]||(o[21]=t=>a(e).birthDate=t)},null,8,["modelValue","label","error"])]),a(B)?(g(),C("div",Se,[s(W,{modelValue:r.anniversaryDate,"onUpdate:modelValue":o[22]||(o[22]=t=>r.anniversaryDate=t),name:"anniversaryDate",label:v.$trans("contact.props.anniversary_date"),"no-clear":"",error:a(e).anniversaryDate,"onUpdate:error":o[23]||(o[23]=t=>a(e).anniversaryDate=t)},null,8,["modelValue","label","error"])])):N("",!0),a(y)?(g(),C("div",Ee,[s(H,{type:"text",modelValue:r.uniqueIdNumber1,"onUpdate:modelValue":o[24]||(o[24]=t=>r.uniqueIdNumber1=t),name:"uniqueIdNumber1",label:a($),error:a(e).uniqueIdNumber1,"onUpdate:error":o[25]||(o[25]=t=>a(e).uniqueIdNumber1=t)},null,8,["modelValue","label","error"])])):N("",!0),a(q)?(g(),C("div",Me,[s(H,{type:"text",modelValue:r.uniqueIdNumber2,"onUpdate:modelValue":o[26]||(o[26]=t=>r.uniqueIdNumber2=t),name:"uniqueIdNumber2",label:a(I),error:a(e).uniqueIdNumber2,"onUpdate:error":o[27]||(o[27]=t=>a(e).uniqueIdNumber2=t)},null,8,["modelValue","label","error"])])):N("",!0),a(l)?(g(),C("div",je,[s(H,{type:"text",modelValue:r.uniqueIdNumber3,"onUpdate:modelValue":o[28]||(o[28]=t=>r.uniqueIdNumber3=t),name:"uniqueIdNumber3",label:a(E),error:a(e).uniqueIdNumber3,"onUpdate:error":o[29]||(o[29]=t=>a(e).uniqueIdNumber3=t)},null,8,["modelValue","label","error"])])):N("",!0),a(A)?(g(),C("div",Pe,[s(H,{type:"text",modelValue:r.uniqueIdNumber4,"onUpdate:modelValue":o[30]||(o[30]=t=>r.uniqueIdNumber4=t),name:"uniqueIdNumber4",label:a(n),error:a(e).uniqueIdNumber4,"onUpdate:error":o[31]||(o[31]=t=>a(e).uniqueIdNumber4=t)},null,8,["modelValue","label","error"])])):N("",!0),a(R)?(g(),C("div",Oe,[s(H,{type:"text",modelValue:r.uniqueIdNumber5,"onUpdate:modelValue":o[32]||(o[32]=t=>r.uniqueIdNumber5=t),name:"uniqueIdNumber5",label:a(i),error:a(e).uniqueIdNumber5,"onUpdate:error":o[33]||(o[33]=t=>a(e).uniqueIdNumber5=t)},null,8,["modelValue","label","error"])])):N("",!0),c("div",ze,[s(H,{type:"text",modelValue:r.birthPlace,"onUpdate:modelValue":o[34]||(o[34]=t=>r.birthPlace=t),name:"birthPlace",label:v.$trans("contact.props.birth_place"),error:a(e).birthPlace,"onUpdate:error":o[35]||(o[35]=t=>a(e).birthPlace=t)},null,8,["modelValue","label","error"])]),c("div",Ge,[s(H,{type:"text",modelValue:r.nationality,"onUpdate:modelValue":o[36]||(o[36]=t=>r.nationality=t),name:"nationality",label:v.$trans("contact.props.nationality"),error:a(e).nationality,"onUpdate:error":o[37]||(o[37]=t=>a(e).nationality=t)},null,8,["modelValue","label","error"])]),c("div",Qe,[s(H,{type:"text",modelValue:r.motherTongue,"onUpdate:modelValue":o[38]||(o[38]=t=>r.motherTongue=t),name:"motherTongue",label:v.$trans("contact.props.mother_tongue"),error:a(e).motherTongue,"onUpdate:error":o[39]||(o[39]=t=>a(e).motherTongue=t)},null,8,["modelValue","label","error"])]),c("div",He,[G.isLoaded?(g(),F(Q,{key:0,modelValue:r.bloodGroup,"onUpdate:modelValue":o[40]||(o[40]=t=>r.bloodGroup=t),name:"bloodGroup",label:v.$trans("contact.props.blood_group"),options:p.preRequisites.bloodGroups,error:a(e).bloodGroup,"onUpdate:error":o[41]||(o[41]=t=>a(e).bloodGroup=t)},null,8,["modelValue","label","options","error"])):N("",!0)]),a(j)?(g(),C("div",Je,[s(Q,{modelValue:r.locality,"onUpdate:modelValue":o[42]||(o[42]=t=>r.locality=t),name:"locality",label:v.$trans("contact.props.locality"),options:p.preRequisites.localities,"label-prop":"label","value-prop":"value",error:a(e).locality,"onUpdate:error":o[43]||(o[43]=t=>a(e).locality=t)},null,8,["modelValue","label","options","error"])])):N("",!0),a(L)?(g(),C("div",Ke,[G.isLoaded?(g(),F(Q,{key:0,modelValue:r.maritalStatus,"onUpdate:modelValue":o[44]||(o[44]=t=>r.maritalStatus=t),name:"maritalStatus",label:v.$trans("contact.props.marital_status"),options:p.preRequisites.maritalStatuses,error:a(e).maritalStatus,"onUpdate:error":o[45]||(o[45]=t=>a(e).maritalStatus=t)},null,8,["modelValue","label","options","error"])):N("",!0)])):N("",!0),c("div",We,[G.isLoaded?(g(),F(Q,{key:0,name:"religion",label:v.$trans("global.select",{attribute:v.$trans("contact.religion.religion")}),modelValue:r.religion,"onUpdate:modelValue":o[46]||(o[46]=t=>r.religion=t),error:a(e).religion,"onUpdate:error":o[47]||(o[47]=t=>a(e).religion=t),options:p.preRequisites.religions,"label-prop":"name","value-prop":"uuid"},null,8,["label","modelValue","error","options"])):N("",!0)]),a(D)?(g(),C("div",Xe,[G.isLoaded?(g(),F(Q,{key:0,name:"category",label:v.$trans("global.select",{attribute:v.$trans("contact.category.category")}),modelValue:r.category,"onUpdate:modelValue":o[48]||(o[48]=t=>r.category=t),error:a(e).category,"onUpdate:error":o[49]||(o[49]=t=>a(e).category=t),options:p.preRequisites.categories,"label-prop":"name","value-prop":"uuid"},null,8,["label","modelValue","error","options"])):N("",!0)])):N("",!0),a(T)?(g(),C("div",Ye,[G.isLoaded?(g(),F(Q,{key:0,name:"caste",label:v.$trans("global.select",{attribute:v.$trans("contact.caste.caste")}),modelValue:r.caste,"onUpdate:modelValue":o[50]||(o[50]=t=>r.caste=t),error:a(e).caste,"onUpdate:error":o[51]||(o[51]=t=>a(e).caste=t),options:p.preRequisites.castes,"label-prop":"name","value-prop":"uuid"},null,8,["label","modelValue","error","options"])):N("",!0)])):N("",!0),c("div",Ze,[s(Z,{rows:1,modelValue:r.description,"onUpdate:modelValue":o[52]||(o[52]=t=>r.description=t),name:"description",label:v.$trans("reception.enquiry.props.description"),error:a(e).description,"onUpdate:error":o[53]||(o[53]=t=>a(e).description=t)},null,8,["modelValue","label","error"])]),c("div",_e,[s(Z,{rows:1,modelValue:r.remarks,"onUpdate:modelValue":o[54]||(o[54]=t=>r.remarks=t),name:"remarks",label:v.$trans("reception.enquiry.props.remarks"),error:a(e).remarks,"onUpdate:error":o[55]||(o[55]=t=>a(e).remarks=t)},null,8,["modelValue","label","error"])])]),s(oe,{customFields:r.customFields,"onUpdate:customFields":o[56]||(o[56]=t=>r.customFields=t),formErrors:a(e),"onUpdate:formErrors":o[57]||(o[57]=t=>re(e)?e.value=t:null)},null,8,["customFields","formErrors"])]),_:1},8,["form","submit-text"])])):N("",!0)}}}),et={class:"py-4 grid grid-cols-1"},tt={class:"col-span-1"},at={name:"ReceptionEnquiryAvatarForm"},ot=Object.assign(at,{props:{enquiry:{type:Object,required:!0}},emits:["completed"],setup(p,{emit:O}){const w=O,S=p,b=J(),d={photo:""};h("reception/enquiry/");const e=P({...d});P({});const y=P({isLoaded:!b.params.uuid}),q=A=>{w("completed");let R=S.enquiry;e.photo=R==null?void 0:R.photo},l=()=>{w("completed");let A=S.enquiry;e.photo=A==null?void 0:A.photo};return K(()=>{let A=S.enquiry.contact;Object.assign(d,{photo:A.photo}),Object.assign(e,x(d)),y.isLoaded=!0}),Ue(()=>S.enquiry,A=>{A&&(e.photo=A.photo)},{deep:!0}),(A,R)=>{const $=U("ImageUpload");return g(),C("div",et,[c("div",tt,[s($,{label:A.$trans("contact.props.photo"),src:e.photo,"upload-path":`reception/enquiries/${p.enquiry.uuid}/photo`,"remove-path":`reception/enquiries/${p.enquiry.uuid}/photo`,onUploaded:q,onRemoved:l},null,8,["label","src","upload-path","remove-path"])])])}}}),nt={key:0,class:"pb-4 px-2"},st={class:"grid grid-cols-3 gap-6"},rt={class:"col-span-3 sm:col-span-1"},lt={class:"col-span-3 sm:col-span-1"},it={class:"col-span-3 sm:col-span-1"},ut={class:"col-span-3 sm:col-span-1"},dt={class:"col-span-3"},pt={class:"grid grid-cols-3 gap-6"},mt={class:"col-span-3"},ct={class:"grid grid-cols-3 gap-6"},bt={class:"col-span-3 sm:col-span-1"},yt={class:"mt-4 grid grid-cols-3 gap-6"},ft={name:"ReceptionEnquiryContactForm"},qt=Object.assign(ft,{props:{enquiry:{type:Object,default(){return{}}}},emits:["completed"],setup(p,{emit:O}){J(),X(),ie("emitter");const w=O,S=p,b={contactNumber:"",email:"",alternateRecords:{},presentAddress:{},permanentAddress:{},tab:"contact"},d="reception/enquiry/",u=h(d),e=P({...b});K(async()=>{var l,A,R,$,I,E,n,i,j,D,T,L,B,r,G;let q=(l=S.enquiry)==null?void 0:l.contact;Object.assign(b,{contactNumber:q.contactNumber,email:q.email,alternateRecords:{contactNumber:(A=q.alternateRecords)==null?void 0:A.contactNumber,email:(R=q.alternateRecords)==null?void 0:R.email},presentAddress:{addressLine1:($=q.presentAddress)==null?void 0:$.addressLine1,addressLine2:(I=q.presentAddress)==null?void 0:I.addressLine2,city:(E=q.presentAddress)==null?void 0:E.city,state:(n=q.presentAddress)==null?void 0:n.state,zipcode:(i=q.presentAddress)==null?void 0:i.zipcode,country:(j=q.presentAddress)==null?void 0:j.country},permanentAddress:{sameAsPresentAddress:q.sameAsPresentAddress,addressLine1:(D=q.permanentAddress)==null?void 0:D.addressLine1,addressLine2:(T=q.permanentAddress)==null?void 0:T.addressLine2,city:(L=q.permanentAddress)==null?void 0:L.city,state:(B=q.permanentAddress)==null?void 0:B.state,zipcode:(r=q.permanentAddress)==null?void 0:r.zipcode,country:(G=q.permanentAddress)==null?void 0:G.country}}),Object.assign(e,x(b))});const y=()=>{w("completed")};return(q,l)=>{const A=U("BaseInput"),R=U("AddressInput"),$=U("BaseFieldset"),I=U("BaseSwitch"),E=U("FormAction");return p.enquiry.uuid?(g(),C("div",nt,[s(E,{"no-card":"","init-url":d,"no-data-fetch":"","init-form":b,form:e,action:"updateDetail","stay-on":"","after-submit":y},{default:f(()=>[c("div",st,[c("div",rt,[s(A,{type:"text",modelValue:e.contactNumber,"onUpdate:modelValue":l[0]||(l[0]=n=>e.contactNumber=n),name:"contactNumber",label:q.$trans("contact.props.contact_number"),error:a(u).contactNumber,"onUpdate:error":l[1]||(l[1]=n=>a(u).contactNumber=n)},null,8,["modelValue","label","error"])]),c("div",lt,[s(A,{type:"text",modelValue:e.alternateRecords.contactNumber,"onUpdate:modelValue":l[2]||(l[2]=n=>e.alternateRecords.contactNumber=n),name:"alternateContactNumber",label:q.$trans("global.alternate",{attribute:q.$trans("contact.props.contact_number")}),error:a(u).alternateContactNumber,"onUpdate:error":l[3]||(l[3]=n=>a(u).alternateContactNumber=n)},null,8,["modelValue","label","error"])]),l[24]||(l[24]=c("div",{class:"col-span-3 sm:col-span-1"},null,-1)),c("div",it,[s(A,{type:"text",modelValue:e.email,"onUpdate:modelValue":l[4]||(l[4]=n=>e.email=n),name:"email",label:q.$trans("contact.props.email"),error:a(u).email,"onUpdate:error":l[5]||(l[5]=n=>a(u).email=n)},null,8,["modelValue","label","error"])]),c("div",ut,[s(A,{type:"text",modelValue:e.alternateRecords.email,"onUpdate:modelValue":l[6]||(l[6]=n=>e.alternateRecords.email=n),name:"alternateEmail",label:q.$trans("global.alternate",{attribute:q.$trans("contact.props.email")}),error:a(u).alternateEmail,"onUpdate:error":l[7]||(l[7]=n=>a(u).alternateEmail=n)},null,8,["modelValue","label","error"])]),l[25]||(l[25]=c("div",{class:"col-span-3 sm:col-span-1"},null,-1)),c("div",dt,[s($,null,{legend:f(()=>[k(V(q.$trans("contact.props.present_address")),1)]),default:f(()=>[c("div",pt,[s(R,{prefix:"presentAddress",addressLine1:e.presentAddress.addressLine1,"onUpdate:addressLine1":l[8]||(l[8]=n=>e.presentAddress.addressLine1=n),addressLine2:e.presentAddress.addressLine2,"onUpdate:addressLine2":l[9]||(l[9]=n=>e.presentAddress.addressLine2=n),city:e.presentAddress.city,"onUpdate:city":l[10]||(l[10]=n=>e.presentAddress.city=n),state:e.presentAddress.state,"onUpdate:state":l[11]||(l[11]=n=>e.presentAddress.state=n),zipcode:e.presentAddress.zipcode,"onUpdate:zipcode":l[12]||(l[12]=n=>e.presentAddress.zipcode=n),country:e.presentAddress.country,"onUpdate:country":l[13]||(l[13]=n=>e.presentAddress.country=n),formErrors:a(u),"onUpdate:formErrors":l[14]||(l[14]=n=>re(u)?u.value=n:null)},null,8,["addressLine1","addressLine2","city","state","zipcode","country","formErrors"])])]),_:1})]),c("div",mt,[s($,null,{legend:f(()=>[k(V(q.$trans("contact.props.permanent_address")),1)]),default:f(()=>[c("div",ct,[c("div",bt,[s(I,{modelValue:e.permanentAddress.sameAsPresentAddress,"onUpdate:modelValue":l[15]||(l[15]=n=>e.permanentAddress.sameAsPresentAddress=n),name:"sameAsPresentAddress",label:q.$trans("contact.props.same_as_present_address"),error:a(u).sameAsPresentAddress,"onUpdate:error":l[16]||(l[16]=n=>a(u).sameAsPresentAddress=n)},null,8,["modelValue","label","error"])])]),c("div",yt,[e.permanentAddress.sameAsPresentAddress?N("",!0):(g(),F(R,{key:0,prefix:"permanentAddress",addressLine1:e.permanentAddress.addressLine1,"onUpdate:addressLine1":l[17]||(l[17]=n=>e.permanentAddress.addressLine1=n),addressLine2:e.permanentAddress.addressLine2,"onUpdate:addressLine2":l[18]||(l[18]=n=>e.permanentAddress.addressLine2=n),city:e.permanentAddress.city,"onUpdate:city":l[19]||(l[19]=n=>e.permanentAddress.city=n),state:e.permanentAddress.state,"onUpdate:state":l[20]||(l[20]=n=>e.permanentAddress.state=n),zipcode:e.permanentAddress.zipcode,"onUpdate:zipcode":l[21]||(l[21]=n=>e.permanentAddress.zipcode=n),country:e.permanentAddress.country,"onUpdate:country":l[22]||(l[22]=n=>e.permanentAddress.country=n),formErrors:a(u),"onUpdate:formErrors":l[23]||(l[23]=n=>re(u)?u.value=n:null)},null,8,["addressLine1","addressLine2","city","state","zipcode","country","formErrors"]))])]),_:1})])])]),_:1},8,["form"])])):N("",!0)}}}),vt={key:0},gt={key:1},$t={class:"grid grid-cols-3 gap-6"},Ut={class:"col-span-3 sm:col-span-1"},Vt={class:"col-span-3 sm:col-span-1"},Nt={class:"col-span-3 sm:col-span-1"},kt={class:"col-span-3 sm:col-span-1"},At={class:"col-span-3 sm:col-span-1"},It={class:"col-span-3 sm:col-span-1"},Lt={class:"col-span-2 sm:col-span-1"},Dt={class:"col-span-2 sm:col-span-1"},Tt={class:"col-span-3 sm:col-span-1"},Ft={class:"col-span-3 sm:col-span-1"},Bt={class:"col-span-3 sm:col-span-1"},Ct={key:1,class:"col-span-3"},Rt={class:"dark:text-gray-400"},wt={class:"grid grid-cols-1"},St={class:"col"},be="reception/enquiryQualification/",Et={__name:"QualificationForm",props:{enquiry:{type:Object,required:!0},visibility:{type:Boolean,required:!0},qualification:{type:Object,default:()=>({})}},emits:["close","completed"],setup(p,{emit:O}){le();const w=J();X();const S=O,b=p,d={level:"",course:"",session:"",institute:"",instituteAddress:"",affiliatedTo:"",startDate:"",endDate:"",result:"",totalMarks:"",obtainedMarks:"",failedSubjects:"",media:[],mediaUpdated:!1,mediaToken:ce(),mediaHash:[]},u=h(be),e=P({levels:[],results:[]});P({});const y=P({...d}),q=P({level:"",isLoaded:!w.params.uuid}),l=n=>{Object.assign(e,n)},A=()=>{y.mediaToken=ce(),y.mediaHash=[]},R=()=>{S("close")},$=()=>{S("completed")},I=()=>{R(),$()},E=n=>{var i,j,D,T,L;Object.assign(d,{...n,level:(i=n.level)==null?void 0:i.uuid,startDate:((j=n.startDate)==null?void 0:j.value)||"",endDate:((D=n.endDate)==null?void 0:D.value)||"",result:((T=n.result)==null?void 0:T.value)||""}),Object.assign(y,x(d)),q.level=(L=n.level)==null?void 0:L.name,q.isLoaded=!0};return K(async()=>{E(b.qualification)}),(n,i)=>{const j=U("BaseSelect"),D=U("BaseInput"),T=U("AutoSuggest"),L=U("DatePicker"),B=U("HelperText"),r=U("MediaUpload"),G=U("FormAction"),M=U("BaseModal");return g(),F(M,{show:p.visibility,onClose:R},{title:f(()=>[p.qualification.uuid?(g(),C("span",vt,V(n.$trans("global.edit",{attribute:n.$trans("student.qualification.qualification")})),1)):(g(),C("span",gt,V(n.$trans("global.add",{attribute:n.$trans("student.qualification.qualification")})),1))]),default:f(()=>[s(G,{"no-card":"","no-data-fetch":"","pre-requisites":!0,onSetPreRequisites:l,"init-url":be,uuid:a(w).params.uuid,"module-uuid":p.qualification.uuid,action:p.qualification.uuid?"update":"create","init-form":d,form:y,"keep-adding":!1,"after-submit":I,onResetMediaFiles:A},{default:f(()=>[c("div",$t,[c("div",Ut,[q.isLoaded?(g(),F(j,{key:0,modelValue:y.level,"onUpdate:modelValue":i[0]||(i[0]=m=>y.level=m),name:"level",label:n.$trans("student.qualification_level.qualification_level"),"label-prop":"name","value-prop":"uuid",options:e.levels,error:a(u).level,"onUpdate:error":i[1]||(i[1]=m=>a(u).level=m)},null,8,["modelValue","label","options","error"])):N("",!0)]),c("div",Vt,[s(D,{type:"text",modelValue:y.course,"onUpdate:modelValue":i[2]||(i[2]=m=>y.course=m),name:"course",label:n.$trans("student.qualification.props.course"),error:a(u).course,"onUpdate:error":i[3]||(i[3]=m=>a(u).course=m),autofocus:""},null,8,["modelValue","label","error"])]),c("div",Nt,[s(D,{type:"text",modelValue:y.session,"onUpdate:modelValue":i[4]||(i[4]=m=>y.session=m),name:"session",label:n.$trans("student.qualification.props.session"),error:a(u).session,"onUpdate:error":i[5]||(i[5]=m=>a(u).session=m)},null,8,["modelValue","label","error"])]),c("div",kt,[s(T,{type:"text",url:"/app/suggestions/institutes",modelValue:y.institute,"onUpdate:modelValue":i[6]||(i[6]=m=>y.institute=m),name:"institute",label:n.$trans("student.qualification.props.institute"),error:a(u).institute,"onUpdate:error":i[7]||(i[7]=m=>a(u).institute=m)},null,8,["modelValue","label","error"])]),c("div",At,[s(D,{type:"text",modelValue:y.instituteAddress,"onUpdate:modelValue":i[8]||(i[8]=m=>y.instituteAddress=m),name:"instituteAddress",label:n.$trans("student.qualification.props.institute_address"),error:a(u).instituteAddress,"onUpdate:error":i[9]||(i[9]=m=>a(u).instituteAddress=m)},null,8,["modelValue","label","error"])]),c("div",It,[s(T,{type:"text",url:"/app/suggestions/affiliation-bodies",modelValue:y.affiliatedTo,"onUpdate:modelValue":i[10]||(i[10]=m=>y.affiliatedTo=m),name:"affiliatedTo",label:n.$trans("student.qualification.props.affiliated_to"),error:a(u).affiliatedTo,"onUpdate:error":i[11]||(i[11]=m=>a(u).affiliatedTo=m)},null,8,["modelValue","label","error"])]),c("div",Lt,[s(L,{modelValue:y.startDate,"onUpdate:modelValue":i[12]||(i[12]=m=>y.startDate=m),name:"startDate",label:n.$trans("student.qualification.props.start_date"),error:a(u).startDate,"onUpdate:error":i[13]||(i[13]=m=>a(u).startDate=m)},null,8,["modelValue","label","error"])]),c("div",Dt,[s(L,{modelValue:y.endDate,"onUpdate:modelValue":i[14]||(i[14]=m=>y.endDate=m),name:"endDate",label:n.$trans("student.qualification.props.end_date"),error:a(u).endDate,"onUpdate:error":i[15]||(i[15]=m=>a(u).endDate=m)},null,8,["modelValue","label","error"])]),c("div",Tt,[q.isLoaded?(g(),F(j,{key:0,modelValue:y.result,"onUpdate:modelValue":i[16]||(i[16]=m=>y.result=m),name:"result",label:n.$trans("student.qualification.props.result"),options:e.results,error:a(u).result,"onUpdate:error":i[17]||(i[17]=m=>a(u).result=m)},null,8,["modelValue","label","options","error"])):N("",!0)]),y.result=="pass"?(g(),C(_,{key:0},[c("div",Ft,[s(D,{type:"number",step:".01",modelValue:y.totalMarks,"onUpdate:modelValue":i[18]||(i[18]=m=>y.totalMarks=m),name:"totalMarks",label:n.$trans("student.qualification.props.total_marks"),error:a(u).totalMarks,"onUpdate:error":i[19]||(i[19]=m=>a(u).totalMarks=m)},null,8,["modelValue","label","error"])]),c("div",Bt,[s(D,{type:"number",step:".01",modelValue:y.obtainedMarks,"onUpdate:modelValue":i[20]||(i[20]=m=>y.obtainedMarks=m),name:"obtainedMarks",label:n.$trans("student.qualification.props.obtained_marks"),error:a(u).obtainedMarks,"onUpdate:error":i[21]||(i[21]=m=>a(u).obtainedMarks=m)},null,8,["modelValue","label","error"])])],64)):N("",!0),y.result=="reappear"?(g(),C("div",Ct,[s(D,{type:"text",modelValue:y.failedSubjects,"onUpdate:modelValue":i[22]||(i[22]=m=>y.failedSubjects=m),name:"failedSubjects",label:n.$trans("student.qualification.props.failed_subjects"),error:a(u).failedSubjects,"onUpdate:error":i[23]||(i[23]=m=>a(u).failedSubjects=m)},null,8,["modelValue","label","error"]),s(B,null,{default:f(()=>[c("span",Rt,V(n.$trans("student.qualification.props.failed_subject_info")),1)]),_:1})])):N("",!0)]),c("div",wt,[c("div",St,[s(r,{multiple:"",label:n.$trans("general.file"),module:"qualification",media:y.media,"media-token":y.mediaToken,onIsUpdated:i[24]||(i[24]=m=>y.mediaUpdated=!0),onSetHash:i[25]||(i[25]=m=>y.mediaHash.push(m))},null,8,["label","media","media-token"])])])]),_:1},8,["uuid","module-uuid","action","form"])]),_:1},8,["show"])}}},Mt={class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"},jt={__name:"QualificationDetail",props:{enquiry:{type:Object,required:!0},visibility:{type:Boolean,required:!0},qualification:{type:Object,default:()=>({})}},emits:["close","completed"],setup(p,{emit:O}){const w=O,S=()=>{w("close")};return(b,d)=>{const u=U("TextMuted"),e=U("BaseDataView"),y=U("ListMedia"),q=U("BaseModal");return g(),F(q,{show:p.visibility,onClose:S},{title:f(()=>[k(V(b.$trans("global.detail",{attribute:b.$trans("student.qualification.qualification")})),1)]),default:f(()=>{var l,A;return[c("dl",Mt,[s(e,{label:b.$trans("student.qualification.props.course")},{default:f(()=>[k(V(p.qualification.course)+" ",1),s(u,{block:""},{default:f(()=>[k(V(p.qualification.session),1)]),_:1})]),_:1},8,["label"]),s(e,{label:b.$trans("student.qualification.props.institute")},{default:f(()=>[k(V(p.qualification.institute),1)]),_:1},8,["label"]),s(e,{label:b.$trans("student.qualification.props.institute_address")},{default:f(()=>[k(V(p.qualification.instituteAddress),1)]),_:1},8,["label"]),s(e,{label:b.$trans("student.qualification.props.affiliated_to")},{default:f(()=>[k(V(p.qualification.affiliatedTo),1)]),_:1},8,["label"]),s(e,{label:b.$trans("student.qualification.props.result")},{default:f(()=>{var R,$;return[k(V(((R=p.qualification.result)==null?void 0:R.label)||p.qualification.result)+" ",1),p.qualification.percentage&&(($=p.qualification.result)==null?void 0:$.value)=="pass"?(g(),F(u,{key:0,block:""},{default:f(()=>[k(V(p.qualification.percentage)+"% ",1)]),_:1})):N("",!0)]}),_:1},8,["label"]),((l=p.qualification.result)==null?void 0:l.value)=="pass"?(g(),F(e,{key:0,label:b.$trans("student.qualification.props.marks")},{default:f(()=>[k(V(p.qualification.obtainedMarks)+" / "+V(p.qualification.totalMarks),1)]),_:1},8,["label"])):N("",!0),((A=p.qualification.result)==null?void 0:A.value)=="reappear"?(g(),F(e,{key:1,label:b.$trans("student.qualification.props.failed_subjects")},{default:f(()=>[k(V(p.qualification.failedSubjects),1)]),_:1},8,["label"])):N("",!0),s(e,{label:b.$trans("student.qualification.props.start_date")},{default:f(()=>[k(V(p.qualification.startDate.formatted),1)]),_:1},8,["label"]),s(e,{label:b.$trans("student.qualification.props.end_date")},{default:f(()=>[k(V(p.qualification.endDate.formatted),1)]),_:1},8,["label"]),s(e,{class:"col-span-1 sm:col-span-2"},{default:f(()=>[s(y,{"show-preview":!1,media:p.qualification.media,url:`/app/reception/enquiries/${p.enquiry.uuid}/qualifications/${p.qualification.uuid}/`},null,8,["media","url"])]),_:1}),s(e,{label:b.$trans("general.created_at")},{default:f(()=>[k(V(p.qualification.createdAt.formatted),1)]),_:1},8,["label"]),s(e,{label:b.$trans("general.updated_at")},{default:f(()=>[k(V(p.qualification.updatedAt.formatted),1)]),_:1},8,["label"])])]}),_:1},8,["show"])}}},Pt={key:0},Ot={class:"mt-2 pb-4 px-2 flex justify-end"},zt={__name:"QualificationList",props:{enquiry:{type:Object,required:!0}},emits:["completed"],setup(p,{emit:O}){const w=le(),S=J();X();const b=ie("$trans"),d=[{key:"course",label:b("student.qualification.props.course"),visibility:!0},{key:"institute",label:b("student.qualification.props.institute"),visibility:!0},{key:"level",label:b("student.qualification_level.qualification_level"),visibility:!0},{key:"startDate",label:b("student.qualification.props.start_date"),visibility:!0},{key:"endDate",label:b("student.qualification.props.end_date"),visibility:!0},{key:"result",label:b("student.qualification.props.result"),visibility:!0},{key:"action",label:"",visibility:!0}],u=se(!1),e=se(!1),y=se(!1),q=P({qualifications:[],selectedQualification:{}}),l=()=>{A()},A=async()=>{u.value=!0,await w.dispatch("reception/enquiry/showQualifications",{uuid:S.params.uuid}).then(E=>{q.qualifications=E,u.value=!1}).catch(E=>{u.value=!1})},R=E=>{q.selectedQualification=E,y.value=!0},$=E=>{q.selectedQualification=E,e.value=!0},I=async E=>{await ve()&&(u.value=!0,await w.dispatch("reception/enquiryQualification/delete",{uuid:S.params.uuid,moduleUuid:E.uuid}).then(()=>{u.value=!1,A()}).catch(n=>{u.value=!1}))};return K(async()=>{await A()}),(E,n)=>{const i=U("BaseAlert"),j=U("TextMuted"),D=U("DataCell"),T=U("FloatingMenuItem"),L=U("FloatingMenu"),B=U("DataRow"),r=U("SimpleTable"),G=U("BaseButton");return g(),C(_,null,[p.enquiry.uuid?(g(),C("div",Pt,[q.qualifications.length?N("",!0):(g(),F(i,{key:0,design:"info",size:"xs"},{default:f(()=>[k(V(a(b)("general.errors.record_not_found")),1)]),_:1})),q.qualifications.length?(g(),F(r,{key:1,header:d},{default:f(()=>[(g(!0),C(_,null,qe(q.qualifications,M=>(g(),F(B,{key:M.uuid},{default:f(()=>[s(D,{name:"course"},{default:f(()=>[k(V(M.course)+" ",1),s(j,{block:""},{default:f(()=>[k(V(M.session),1)]),_:2},1024)]),_:2},1024),s(D,{name:"institute"},{default:f(()=>[k(V(M.institute),1)]),_:2},1024),s(D,{name:"level"},{default:f(()=>[k(V(M.level.name),1)]),_:2},1024),s(D,{name:"startDate"},{default:f(()=>[k(V(M.startDate.formatted),1)]),_:2},1024),s(D,{name:"endDate"},{default:f(()=>[k(V(M.endDate.formatted),1)]),_:2},1024),s(D,{name:"result"},{default:f(()=>{var m;return[k(V(((m=M.result)==null?void 0:m.label)||M.result)+" ",1),M.percentage?(g(),F(j,{key:0,block:""},{default:f(()=>[k(V(M.percentage)+"% ",1)]),_:2},1024)):N("",!0)]}),_:2},1024),s(D,{name:"action"},{default:f(()=>[s(L,null,{default:f(()=>[s(T,{icon:"fas fa-arrow-circle-right",onClick:m=>R(M)},{default:f(()=>[k(V(a(b)("general.show")),1)]),_:2},1032,["onClick"]),s(T,{icon:"fas fa-edit",onClick:m=>$(M)},{default:f(()=>[k(V(a(b)("general.edit")),1)]),_:2},1032,["onClick"]),s(T,{icon:"fas fa-trash",onClick:m=>I(M)},{default:f(()=>[k(V(a(b)("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):N("",!0),c("div",Ot,[s(G,{design:"primary",onClick:n[0]||(n[0]=M=>e.value=!0)},{default:f(()=>[k(V(a(b)("global.add",{attribute:a(b)("student.qualification.qualification")})),1)]),_:1})])])):N("",!0),y.value?(g(),F(jt,{key:1,visibility:y.value,enquiry:p.enquiry,qualification:q.selectedQualification,onClose:n[1]||(n[1]=M=>y.value=!1),onCompleted:l},null,8,["visibility","enquiry","qualification"])):N("",!0),e.value?(g(),F(Et,{key:2,visibility:e.value,enquiry:p.enquiry,qualification:q.selectedQualification,onClose:n[2]||(n[2]=M=>e.value=!1),onCompleted:l},null,8,["visibility","enquiry","qualification"])):N("",!0)],64)}}},Gt={key:0,class:"pb-4 px-2"},Qt={class:"mt-4 grid grid-cols-4 gap-4"},Ht={class:"col-span-4 sm:col-span-1"},Jt=["onClick"],Kt={class:"col-span-4 sm:col-span-1"},Wt={class:"col-span-4 sm:col-span-1"},Xt={class:"col-span-4 sm:col-span-1"},Yt={class:"mt-2 flex justify-end"},ye="reception/enquiry/",Zt={__name:"GuardianForm",props:{enquiry:{type:Object,required:!0},preRequisites:{type:Object,required:!0}},emits:["completed"],setup(p,{emit:O}){const w=le(),S=J();X();const b=O,d=p,u={guardians:[],tab:"guardian"},e=h(ye);P({});const y=P({...u});P({isLoaded:!S.params.uuid});const q=()=>{y.guardians.push(A())},l=async $=>{await ve()&&y.guardians.splice($,1)},A=()=>({guardianType:"new",guardian:"",name:"",relation:"",contactNumber:"",occupation:""}),R=()=>{b("completed")};return K(async()=>{await w.dispatch("reception/enquiry/showGuardians",{uuid:d.enquiry.uuid}).then($=>{$.forEach(I=>{u.guardians.push({guardianType:"existing",guardian:I.uuid,name:I.contact.name,relation:I.relation.value,contactNumber:I.contact.contactNumber,occupation:I.contact.occupation})}),Object.assign(y,x(u))}).catch($=>{}),y.guardians.length===0&&q()}),($,I)=>{const E=U("BaseLabel"),n=U("BaseInput"),i=U("BaseSelect"),j=U("BaseButton"),D=U("FormAction");return p.enquiry.uuid?(g(),C("div",Gt,[s(D,{"no-card":"","init-url":ye,"init-form":u,form:y,action:"updateDetail","validate-unchanged":!1,"after-submit":R},{default:f(()=>[(g(!0),C(_,null,qe(y.guardians,(T,L)=>(g(),C("div",null,[c("div",Qt,[c("div",Ht,[s(E,null,{default:f(()=>[k(V($.$trans("guardian.props.name"))+" ",1),c("span",{class:"text-danger cursor-pointer",onClick:B=>l(L)},I[1]||(I[1]=[c("i",{class:"fas fa-times-circle"},null,-1)]),8,Jt)]),_:2},1024),s(n,{type:"text",modelValue:T.name,"onUpdate:modelValue":B=>T.name=B,name:"name",placeholder:$.$trans("guardian.props.name"),error:a(e)[`guardians.${L}.name`],"onUpdate:error":B=>a(e)[`guardians.${L}.name`]=B},null,8,["modelValue","onUpdate:modelValue","placeholder","error","onUpdate:error"])]),c("div",Kt,[s(n,{type:"text",modelValue:T.contactNumber,"onUpdate:modelValue":B=>T.contactNumber=B,name:"contactNumber",label:$.$trans("contact.props.contact_number"),error:a(e)[`guardians.${L}.contactNumber`],"onUpdate:error":B=>a(e)[`guardians.${L}.contactNumber`]=B},null,8,["modelValue","onUpdate:modelValue","label","error","onUpdate:error"])]),c("div",Wt,[s(i,{modelValue:T.relation,"onUpdate:modelValue":B=>T.relation=B,name:`guardians.${L}.relation`,label:$.$trans("contact.props.relation"),options:p.preRequisites.relations,"label-prop":"label","value-prop":"value",error:a(e)[`guardians.${L}.relation`],"onUpdate:error":B=>a(e)[`guardians.${L}.relation`]=B},null,8,["modelValue","onUpdate:modelValue","name","label","options","error","onUpdate:error"])]),c("div",Xt,[s(n,{type:"text",modelValue:T.occupation,"onUpdate:modelValue":B=>T.occupation=B,name:"occupation",label:$.$trans("contact.props.occupation"),error:a(e)[`guardians.${L}.occupation`],"onUpdate:error":B=>a(e)[`guardians.${L}.occupation`]=B},null,8,["modelValue","onUpdate:modelValue","label","error","onUpdate:error"])])])]))),256)),c("div",Yt,[s(j,{design:"primary",onClick:I[0]||(I[0]=T=>q())},{default:f(()=>[k(V($.$trans("global.add",{attribute:$.$trans("guardian.guardian")})),1)]),_:1})])]),_:1},8,["form"])])):N("",!0)}}},_t={class:"border-t border-gray-200 dark:border-gray-800"},ht={class:"mt-8 px-4"},fe="reception/enquiry/",ta={__name:"Wizard",setup(p){const O=le(),w=J(),S=X(),b=se(null);P({natures:[],types:[],sources:[],periods:[],localities:[],genders:[],bloodGroups:[],religions:[],categories:[],castes:[],maritalStatuses:[],customFields:[]});const d=P({enquiry:{},activeTab:w.query.tab||"basic"}),u=async()=>{b.value=!0,await O.dispatch(fe+"preRequisite",{uuid:w.params.uuid}).then($=>{d.preRequisites=$,b.value=!1}).catch($=>{b.value=!1,S.push({name:"ReceptionEnquiry"})})},e=async()=>{b.value=!0,await O.dispatch(fe+"get",{uuid:w.params.uuid}).then($=>{if($.nature.value!=="admission"){S.push({name:"ReceptionEnquiry"});return}d.enquiry=$,b.value=!1}).catch($=>{b.value=!1,S.push({name:"ReceptionEnquiry"})})},y=()=>{d.activeTab="avatar",e()},q=()=>{d.activeTab="contact",e()},l=()=>{d.activeTab="guardian",e()},A=()=>{d.activeTab="qualification",e()},R=()=>{d.activeTab="review",e()};return K(async()=>{await u(),await e()}),($,I)=>{const E=U("PageHeaderAction"),n=U("PageHeader"),i=U("TabItem"),j=U("TabGroup"),D=U("BaseCard"),T=U("ParentTransition");return g(),C(_,null,[s(n,{title:$.$trans(a(w).meta.trans,{attribute:$.$trans(a(w).meta.label)}),navs:[{label:$.$trans("reception.reception"),path:"Reception"},{label:$.$trans("reception.enquiry.enquiry"),path:"ReceptionEnquiryList"}]},{default:f(()=>[s(E,{name:"ReceptionEnquiry",title:$.$trans("reception.enquiry.enquiry"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),s(T,{appear:"",visibility:!0},{default:f(()=>[d.enquiry.uuid?(g(),F(D,{key:0,"no-padding":"","no-content-padding":"","is-loading":b.value},{title:f(()=>[k(V(d.enquiry.codeNumber)+" - "+V(d.enquiry.contact.name),1)]),default:f(()=>[c("div",_t,[s(j,null,{default:f(()=>[s(i,{first:"",label:$.$trans("reception.enquiry.wizard.first_step"),onClick:I[0]||(I[0]=L=>d.activeTab="basic"),"is-active":d.activeTab=="basic"},null,8,["label","is-active"]),s(i,{label:$.$trans("reception.enquiry.wizard.second_step"),onClick:I[1]||(I[1]=L=>d.activeTab="avatar"),"is-active":d.activeTab=="avatar"},null,8,["label","is-active"]),s(i,{label:$.$trans("reception.enquiry.wizard.third_step"),onClick:I[2]||(I[2]=L=>d.activeTab="contact"),"is-active":d.activeTab=="contact"},null,8,["label","is-active"]),s(i,{label:$.$trans("reception.enquiry.wizard.fourth_step"),onClick:I[3]||(I[3]=L=>d.activeTab="guardian"),"is-active":d.activeTab=="guardian"},null,8,["label","is-active"]),s(i,{last:"",label:$.$trans("reception.enquiry.wizard.fifth_step"),onClick:I[4]||(I[4]=L=>d.activeTab="qualification"),"is-active":d.activeTab=="qualification"},null,8,["label","is-active"])]),_:1}),c("div",ht,[d.activeTab=="basic"&&d.enquiry?(g(),F(xe,{key:0,enquiry:d.enquiry,"pre-requisites":d.preRequisites,onCompleted:y},null,8,["enquiry","pre-requisites"])):N("",!0),d.activeTab=="avatar"&&d.enquiry?(g(),F(ot,{key:1,enquiry:d.enquiry,onCompleted:q},null,8,["enquiry"])):N("",!0),d.activeTab=="contact"&&d.enquiry?(g(),F(qt,{key:2,enquiry:d.enquiry,onCompleted:l},null,8,["enquiry"])):N("",!0),d.activeTab=="guardian"&&d.enquiry?(g(),F(Zt,{key:3,enquiry:d.enquiry,onCompleted:A,"pre-requisites":d.preRequisites},null,8,["enquiry","pre-requisites"])):N("",!0),d.activeTab=="qualification"&&d.enquiry?(g(),F(zt,{key:4,enquiry:d.enquiry,onCompleted:R},null,8,["enquiry"])):N("",!0)])])]),_:1},8,["is-loading"])):N("",!0)]),_:1})],64)}}};export{ta as default};
