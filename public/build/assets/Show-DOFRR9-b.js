import{j as O,u as U,i as z,k as W,p as q,m as G,r as _,a as b,o as p,e as t,w as e,f as o,d,v as u,x as l,t as f,b as j,F as g,y as H,z as J}from"./app-Cvm44xuh.js";const K={class:"grid grid-cols-1 gap-x-4 gap-y-8 px-4 py-2 sm:grid-cols-4"},M={class:"font-semibold"},Q={class:"font-semibold"},X={class:"mt-4 grid grid-cols-2 border-t border-gray-200 dark:border-gray-700"},Y={class:"col-span-2 border-r border-gray-200 dark:border-gray-700 sm:col-span-1"},Z={class:"text-success"},ee={class:"text-success"},te={class:"text-success text-md font-semibold"},ae={class:"text-success text-md font-semibold"},le={class:"text-success text-xl font-semibold"},oe={class:"text-success text-xl font-semibold"},ne={class:"text-success"},se={class:"text-success"},re={class:"text-success text-xl font-semibold"},de={class:"text-success text-xl font-semibold"},ie={class:"col-span-2 sm:col-span-1"},ue={class:"text-danger"},pe={class:"text-danger"},me={class:"text-danger"},_e={class:"text-danger"},ye={class:"text-danger text-md font-semibold"},ce={class:"text-danger text-md font-semibold"},fe={name:"EmployeePayrollShow"},xe=Object.assign(fe,{setup(be){O();const k=U(),B=z(),n=W("$trans"),L={records:[]},I="employee/payroll/",S=[{key:"payHead",label:n("employee.payroll.pay_head.pay_head"),visibility:!0},{key:"amount",label:n("employee.payroll.props.amount"),visibility:!0}],D=h=>{let r=s.records.filter(m=>m.payHead.category.value=="earning"&&m.payHead.visibility).length,x=s.records.filter(m=>m.payHead.category.value=="deduction"&&m.payHead.visibility).length,v=s.records.filter(m=>m.payHead.category.value=="employee_contribution"&&m.payHead.visibility).length,C=s.records.filter(m=>m.payHead.category.value=="employer_contribution"&&m.payHead.visibility).length;return h=="earning"&&r<x+v?x+v-r:h=="deduction"&&x+C<r?r-(x+C):0},P=q(!1),s=G({...L}),N=h=>{Object.assign(s,h)},R=()=>{window.open(`/app/employee/payrolls/${s.uuid}/export?action=print`)};return(h,r)=>{const x=_("BaseButton"),v=_("PageHeaderAction"),C=_("PageHeader"),m=_("ListItemView"),V=_("ListContainerVertical"),w=_("BaseCard"),c=_("BaseDataView"),i=_("DataCell"),y=_("DataRow"),E=_("SimpleTable"),T=_("ShowButton"),$=_("DetailLayoutVertical"),A=_("ShowItem"),F=_("ParentTransition");return p(),b(g,null,[t(C,{title:o(n)(o(k).meta.trans,{attribute:o(n)(o(k).meta.label)}),navs:[{label:o(n)("employee.employee"),path:"Employee"},{label:o(n)("employee.payroll.payroll"),path:"EmployeePayrollList"}]},{default:e(()=>[t(v,{name:"EmployeePayroll",title:o(n)("employee.payroll.payroll"),actions:["list"]},{default:e(()=>[t(x,{design:"white",onClick:R},{default:e(()=>[r[3]||(r[3]=d("i",{class:"fas fa-print mr-2"},null,-1)),u(" "+l(o(n)("general.print")),1)]),_:1,__:[3]})]),_:1},8,["title"])]),_:1},8,["title","navs"]),t(F,{appear:"",visibility:!0},{default:e(()=>[t(A,{"init-url":I,uuid:o(k).params.uuid,onSetItem:N,onRedirectTo:r[1]||(r[1]=a=>o(B).push({name:"EmployeePayroll"})),refresh:P.value,onRefreshed:r[2]||(r[2]=a=>P.value=!1)},{default:e(()=>[s.uuid?(p(),f($,{key:0},{detail:e(()=>[t(w,{"no-padding":"","no-content-padding":""},{title:e(()=>[u(l(o(n)("employee.payroll.props.code_number"))+" "+l(s.codeNumber),1)]),default:e(()=>[t(V,null,{default:e(()=>[t(m,{label:o(n)("employee.payroll.props.batch_uuid"),truncate:!1},{default:e(()=>[u(l(s.batchUuid),1)]),_:1},8,["label"]),t(m,{label:o(n)("general.created_at")},{default:e(()=>[u(l(s.createdAt.formatted),1)]),_:1},8,["label"]),t(m,{label:o(n)("general.updated_at")},{default:e(()=>[u(l(s.updatedAt.formatted),1)]),_:1},8,["label"])]),_:1})]),_:1}),t(w,{class:"mt-4","no-padding":"","no-content-padding":""},{title:e(()=>[u(l(o(n)("global.summary",{attribute:o(n)("attendance.attendance")})),1)]),default:e(()=>[t(V,null,{default:e(()=>[(p(!0),b(g,null,H(s.attendanceSummary,a=>(p(),f(m,{align:"right",label:a.name+" ("+a.code+")"},{default:e(()=>[u(l(a.count)+" "+l(o(n)("list.durations."+a.unit)),1)]),_:2},1032,["label"]))),256))]),_:1})]),_:1})]),default:e(()=>[t(w,{"no-padding":"","no-content-padding":"","bottom-content-padding":""},{title:e(()=>[u(l(o(n)("employee.payroll.payroll")),1)]),footer:e(()=>[t(T,null,{default:e(()=>[o(J)("payroll:edit")?(p(),f(x,{key:0,design:"primary",onClick:r[0]||(r[0]=a=>o(B).push({name:"EmployeePayrollEdit",params:{uuid:s.uuid}}))},{default:e(()=>[u(l(o(n)("general.edit")),1)]),_:1})):j("",!0)]),_:1})]),default:e(()=>[d("dl",K,[t(c,{label:o(n)("employee.employee")},{default:e(()=>[u(l(s.employee.name),1)]),_:1},8,["label"]),t(c,{label:o(n)("employee.props.code_number")},{default:e(()=>[u(l(s.employee.codeNumber),1)]),_:1},8,["label"]),t(c,{label:o(n)("employee.props.joining_date")},{default:e(()=>[u(l(s.employee.joiningDate.formatted),1)]),_:1},8,["label"]),t(c,{label:o(n)("employee.props.joining_date")},{default:e(()=>[u(l(s.employee.joiningDate.formatted),1)]),_:1},8,["label"]),t(c,{label:o(n)("employee.department.department")},{default:e(()=>[u(l(s.employee.department),1)]),_:1},8,["label"]),t(c,{label:o(n)("employee.designation.designation")},{default:e(()=>[u(l(s.employee.designation),1)]),_:1},8,["label"]),t(c,{label:o(n)("employee.employment_status.employment_status")},{default:e(()=>[u(l(s.employee.employmentStatus),1)]),_:1},8,["label"]),t(c,{class:"col-span-1 sm:col-span-2",label:o(n)("employee.payroll.props.period")},{default:e(()=>[d("span",M,l(s.period),1)]),_:1},8,["label"]),t(c,{class:"col-span-1 sm:col-span-2",label:o(n)("employee.payroll.props.duration")},{default:e(()=>[d("span",Q,l(s.duration),1)]),_:1},8,["label"])]),d("div",X,[d("div",Y,[t(E,{corner:"sharp",header:S},{default:e(()=>[(p(!0),b(g,null,H(s.records.filter(a=>a.payHead.category.value=="earning"&&a.payHead.visibility),a=>(p(),f(y,{key:a.uuid},{default:e(()=>[t(i,{name:"payHead"},{default:e(()=>[d("span",Z,l(a.payHead.name),1)]),_:2},1024),t(i,{name:"amount"},{default:e(()=>[d("span",ee,l(a.amount.formatted),1)]),_:2},1024)]),_:2},1024))),128)),(p(!0),b(g,null,H(D("earning"),a=>(p(),f(y,null,{default:e(()=>[t(i,{name:"payHead"},{default:e(()=>r[4]||(r[4]=[u(" ")])),_:1,__:[4]}),t(i,{name:"amount"},{default:e(()=>r[5]||(r[5]=[u(" ")])),_:1,__:[5]})]),_:1}))),256)),t(y,null,{default:e(()=>[t(i,{name:"payHead"},{default:e(()=>[d("span",te,l(o(n)("employee.payroll.salary_structure.props.net_earning")),1)]),_:1}),t(i,{name:"amount"},{default:e(()=>[d("span",ae,l(s.netEarning.formatted),1)]),_:1})]),_:1}),t(y,null,{default:e(()=>[t(i,{name:"payHead"},{default:e(()=>[d("span",le,l(o(n)("employee.payroll.salary_structure.props.net_salary")),1)]),_:1}),t(i,{name:"amount"},{default:e(()=>[d("span",oe,l(s.total.formatted),1)]),_:1})]),_:1}),(p(!0),b(g,null,H(s.records.filter(a=>a.payHead.category.value=="employer_contribution"&&a.payHead.visibility),a=>(p(),f(y,{key:a.uuid},{default:e(()=>[t(i,{name:"payHead"},{default:e(()=>[d("span",ne,l(a.payHead.name),1)]),_:2},1024),t(i,{name:"amount"},{default:e(()=>[d("span",se,l(a.amount.formatted),1)]),_:2},1024)]),_:2},1024))),128)),t(y,null,{default:e(()=>[t(i,{name:"payHead"},{default:e(()=>[d("span",re,l(o(n)("employee.payroll.salary_structure.props.net_employer_contribution")),1)]),_:1}),t(i,{name:"amount"},{default:e(()=>[d("span",de,l(s.employerContribution.formatted),1)]),_:1})]),_:1})]),_:1})]),d("div",ie,[t(E,{corner:"sharp",header:S},{default:e(()=>[(p(!0),b(g,null,H(s.records.filter(a=>a.payHead.category.value=="deduction"&&a.payHead.visibility),a=>(p(),f(y,{key:a.uuid},{default:e(()=>[t(i,{name:"payHead"},{default:e(()=>[d("span",ue,l(a.payHead.name),1)]),_:2},1024),t(i,{name:"amount"},{default:e(()=>[d("span",pe,l(a.amount.formatted),1)]),_:2},1024)]),_:2},1024))),128)),(p(!0),b(g,null,H(s.records.filter(a=>a.payHead.category.value=="employee_contribution"&&a.payHead.visibility),a=>(p(),f(y,{key:a.uuid},{default:e(()=>[t(i,{name:"payHead"},{default:e(()=>[d("span",me,l(a.payHead.name),1)]),_:2},1024),t(i,{name:"amount"},{default:e(()=>[d("span",_e,l(a.amount.formatted),1)]),_:2},1024)]),_:2},1024))),128)),(p(!0),b(g,null,H(D("deduction"),a=>(p(),f(y,null,{default:e(()=>[t(i,{name:"payHead"},{default:e(()=>r[6]||(r[6]=[u(" ")])),_:1,__:[6]}),t(i,{name:"amount"},{default:e(()=>r[7]||(r[7]=[u(" ")])),_:1,__:[7]})]),_:1}))),256)),t(y,null,{default:e(()=>[t(i,{name:"payHead"},{default:e(()=>[d("span",ye,l(o(n)("employee.payroll.salary_structure.props.net_deduction")),1)]),_:1}),t(i,{name:"amount"},{default:e(()=>[d("span",ce,l(s.netDeductionWithEmployeeContribution.formatted),1)]),_:1})]),_:1}),t(y,null,{default:e(()=>[t(i,{name:"payHead"},{default:e(()=>r[8]||(r[8]=[d("span",{class:"text-success text-xl font-semibold"}," ",-1)])),_:1,__:[8]}),t(i,{name:"amount"},{default:e(()=>r[9]||(r[9]=[u(" ")])),_:1,__:[9]})]),_:1})]),_:1})])])]),_:1})]),_:1})):j("",!0)]),_:1},8,["uuid","refresh"])]),_:1})],64)}}});export{xe as default};
