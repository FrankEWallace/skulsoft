import{u as k,H as $,I as O,g as S,m as q,r as n,t as P,o as m,w as u,d as p,a as b,b as T,e as r,f as l,v as U,x as d,K as h,F as j}from"./app-Cvm44xuh.js";const A={class:"grid grid-cols-2 gap-6"},C={class:"col-span-2 sm:col-span-1"},M={key:0,class:"ml-1"},N={key:0,class:"ml-1"},I={class:"col-span-2 sm:col-span-1"},K={key:0,class:"col-span-2 sm:col-span-1"},z={class:"col-span-2"},G={class:"grid grid-cols-1"},J={class:"col"},Q={name:"EmployeeLeaveRequestForm"},W=Object.assign(Q,{setup(B){const c=k(),o={leaveType:"",startDate:"",endDate:"",isHalfDay:!1,reason:"",media:[],mediaUpdated:!1,mediaToken:$(),mediaHash:[]},g="employee/leave/request/",i=O(g),D=S("employee.allowEmployeeHalfDayLeave"),v=q({types:[]}),t=q({...o}),H=q({leaveType:"",isLoaded:!c.params.uuid}),V=s=>{Object.assign(v,s)},E=()=>{t.mediaToken=$(),t.mediaHash=[]},L=s=>{var a,y,f,_;Object.assign(o,{...s,startDate:((a=s.startDate)==null?void 0:a.value)||"",endDate:((y=s.endDate)==null?void 0:y.value)||"",leaveType:(f=s.leaveType)==null?void 0:f.uuid}),Object.assign(t,h(o)),H.leaveType=(_=s.leaveType)==null?void 0:_.uuid,H.isLoaded=!0};return(s,a)=>{const y=n("BaseSelect"),f=n("DatePicker"),_=n("BaseSwitch"),F=n("BaseTextarea"),R=n("MediaUpload"),w=n("FormAction");return m(),P(w,{"pre-requisites":!0,onSetPreRequisites:V,"init-url":g,"init-form":o,form:t,"set-form":L,redirect:"EmployeeLeaveRequest",onResetMediaFiles:E},{default:u(()=>[p("div",A,[p("div",C,[r(y,{modelValue:t.leaveType,"onUpdate:modelValue":a[0]||(a[0]=e=>t.leaveType=e),name:"leaveType",label:s.$trans("global.select",{attribute:s.$trans("employee.leave.type.type")}),options:v.types,"value-prop":"uuid",error:l(i).leaveType,"onUpdate:error":a[1]||(a[1]=e=>l(i).leaveType=e)},{selectedOption:u(e=>[U(d(e.value.name)+" ",1),e.value.hasBalance?(m(),b("span",M," ("+d(s.$trans("employee.leave.request.props.balance"))+" "+d(e.value.balance)+") ",1)):T("",!0)]),listOption:u(e=>[U(d(e.option.name)+" ",1),e.option.hasBalance?(m(),b("span",N," ("+d(s.$trans("employee.leave.request.props.balance"))+" "+d(e.option.balance)+") ",1)):T("",!0)]),_:1},8,["modelValue","label","options","error"])]),p("div",I,[r(f,{start:t.startDate,"onUpdate:start":a[2]||(a[2]=e=>t.startDate=e),end:t.endDate,"onUpdate:end":a[3]||(a[3]=e=>t.endDate=e),name:"dateBetween",as:"range",label:s.$trans("general.date_between")},null,8,["start","end","label"])]),l(D)?(m(),b("div",K,[r(_,{vertical:"",modelValue:t.isHalfDay,"onUpdate:modelValue":a[4]||(a[4]=e=>t.isHalfDay=e),name:"isHalfDay",label:s.$trans("employee.leave.request.props.half_day"),error:l(i).isHalfDay,"onUpdate:error":a[5]||(a[5]=e=>l(i).isHalfDay=e)},null,8,["modelValue","label","error"])])):T("",!0),p("div",z,[r(F,{modelValue:t.reason,"onUpdate:modelValue":a[6]||(a[6]=e=>t.reason=e),name:"reason",label:s.$trans("employee.leave.request.props.reason"),error:l(i).reason,"onUpdate:error":a[7]||(a[7]=e=>l(i).reason=e)},null,8,["modelValue","label","error"])])]),p("div",G,[p("div",J,[r(R,{multiple:"",label:s.$trans("general.file"),module:"leave_request",media:t.media,"media-token":t.mediaToken,onIsUpdated:a[8]||(a[8]=e=>t.mediaUpdated=!0),onSetHash:a[9]||(a[9]=e=>t.mediaHash.push(e))},null,8,["label","media","media-token"])])])]),_:1},8,["form"])}}}),X={name:"EmployeeLeaveRequestAction"},Z=Object.assign(X,{setup(B){const c=k();return(o,g)=>{const i=n("PageHeaderAction"),D=n("PageHeader"),v=n("ParentTransition");return m(),b(j,null,[r(D,{title:o.$trans(l(c).meta.trans,{attribute:o.$trans(l(c).meta.label)}),navs:[{label:o.$trans("employee.leave.leave"),path:"EmployeeLeave"},{label:o.$trans("employee.leave.request.request"),path:"EmployeeLeaveRequestList"}]},{default:u(()=>[r(i,{name:"EmployeeLeaveRequest",title:o.$trans("employee.leave.request.request"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),r(v,{appear:"",visibility:!0},{default:u(()=>[r(W)]),_:1})],64)}}});export{Z as default};
