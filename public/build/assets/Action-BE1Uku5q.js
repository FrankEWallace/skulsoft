import{u as S,g as K,H as w,m as B,I as G,q as J,r as c,A as Q,t as X,o as d,w as b,d as t,e as n,f as s,a as m,b as u,B as W,v as N,x as v,F as C,N as Y,K as Z}from"./app-Cvm44xuh.js";import{d as h}from"./vuedraggable.umd-CV6Buk_j.js";const x={class:"grid grid-cols-3 gap-6"},ee={class:"col-span-3 sm:col-span-1"},ae={class:"col-span-3 sm:col-span-1"},le={class:"col-span-3 sm:col-span-1"},oe=["onClick"],se={class:"mt-4 grid grid-cols-3 gap-4"},re={class:"col-span-3 sm:col-span-1"},te={key:0,class:"ml-1"},ne={key:0,class:"ml-1"},ie=["onClick"],de={key:0,class:"fas fa-earth-asia"},me={key:1,class:"fas fa-circle-dot"},pe={class:"col-span-3 sm:col-span-2"},ue={class:"mt-4"},be={class:"grid grid-cols-3 gap-6"},ce={class:"col-span-3 sm:col-span-1"},ve={class:"mt-4 grid grid-cols-3 gap-6"},ge={class:"col-span-3 sm:col-span-1"},ye={key:0,class:"col-span-3 sm:col-span-1"},Ve={key:0,class:"mt-4 grid grid-cols-3 gap-6"},qe={class:"col-span-3 sm:col-span-2"},Ue={class:"mt-4 grid grid-cols-3 gap-6"},fe={class:"col-span-3 sm:col-span-1"},$e={key:0,class:"col-span-3 sm:col-span-1"},Re={class:"mt-4 grid grid-cols-3 gap-6"},Ne={class:"col-span-3 sm:col-span-1"},Te={key:0,class:"col-span-3 sm:col-span-1"},Ae={class:"mt-4 grid grid-cols-3 gap-6"},De={class:"col-span-3 sm:col-span-1"},ke={key:0,class:"col-span-3 sm:col-span-1"},Ie={class:"mt-4 grid grid-cols-3 gap-6"},Pe={class:"col-span-3 sm:col-span-1"},Be={key:0,class:"col-span-3 sm:col-span-1"},Ce={class:"mt-4 grid grid-cols-3 gap-6"},Fe={class:"col-span-3 sm:col-span-1"},Me={key:0,class:"col-span-3 sm:col-span-1"},Ee={class:"mt-4 grid grid-cols-3 gap-6"},we={class:"col-span-3 sm:col-span-1"},We={key:0,class:"col-span-3 sm:col-span-1"},Se={class:"mt-4 grid grid-cols-3 gap-6"},Oe={class:"col-span-3 sm:col-span-1"},je={key:0,class:"col-span-3 sm:col-span-1"},He={class:"mt-4 grid grid-cols-3 gap-6"},_e={class:"col-span-3 sm:col-span-1"},Le={key:0,class:"col-span-3 sm:col-span-1"},ze={class:"mt-4 grid grid-cols-3 gap-6"},Ke={class:"col-span-3 sm:col-span-1"},Ge={key:0,class:"col-span-3 sm:col-span-1"},Je={class:"mt-4 grid grid-cols-3 gap-6"},Qe={class:"col-span-3"},Xe={name:"ApprovalTypeForm"},Ye=Object.assign(Xe,{setup(O){const U=S(),V=K("teams"),f={name:"",category:"",department:"",levels:[],isActive:!0,enableFileUpload:!1,isFileUploadRequired:!1,itemBasedType:"item_with_quantity",enableContactNumber:!1,isContactNumberRequired:!1,enableEmail:!1,isEmailRequired:!1,enableWebsite:!1,isWebsiteRequired:!1,enableTaxNumber:!1,isTaxNumberRequired:!1,enableAddress:!1,isAddressRequired:!1,enableInvoiceNumber:!1,isInvoiceNumberRequired:!1,enableInvoiceDate:!1,isInvoiceDateRequired:!1,enablePaymentMode:!1,isPaymentModeRequired:!1,enablePaymentDetails:!1,isPaymentDetailsRequired:!1,description:""},T={uuid:w(),otherTeamMember:!1,employee:"",actions:[]},A="approval/type/",g=B({categories:[],actions:[],departments:[],itemBasedTypes:[]}),F=B({isLoaded:!U.params.uuid,department:""}),r=G(A),l=B({...f}),j=o=>{Object.assign(g,o)},M=()=>{l.levels.push({...T,uuid:w()})},H=async o=>{await Y()&&(l.levels.length==1?l.levels=[T]:l.levels.splice(o,1))},_=o=>{var D,$,k;let a=[];o.levels.forEach(q=>{var P;let I=q.actions.map(i=>i.value);a.push({...q,actions:I,employee:(P=q.employee)==null?void 0:P.uuid})}),Object.assign(f,{...o,levels:a,category:(D=o.category)==null?void 0:D.value,department:($=o.department)==null?void 0:$.uuid}),Object.assign(l,Z(f)),F.department=(k=o.department)==null?void 0:k.uuid,F.isLoaded=!0};return J(async()=>{U.params.uuid||M()}),(o,a)=>{const D=c("BaseInput"),$=c("BaseSelect"),k=c("BaseSelectSearch"),q=c("CustomCheckbox"),I=c("BaseFieldset"),P=c("BaseBadge"),i=c("BaseSwitch"),L=c("BaseTextarea"),z=c("FormAction"),E=Q("tooltip");return d(),X(z,{"pre-requisites":!0,onSetPreRequisites:j,"init-url":A,"init-form":f,form:l,"set-form":_,redirect:"ApprovalType"},{default:b(()=>[t("div",x,[t("div",ee,[n(D,{type:"text",modelValue:l.name,"onUpdate:modelValue":a[0]||(a[0]=e=>l.name=e),name:"name",label:o.$trans("approval.type.props.name"),error:s(r).name,"onUpdate:error":a[1]||(a[1]=e=>s(r).name=e),autofocus:""},null,8,["modelValue","label","error"])]),t("div",ae,[n($,{modelValue:l.category,"onUpdate:modelValue":a[2]||(a[2]=e=>l.category=e),name:"category",label:o.$trans("approval.type.props.category"),options:g.categories,error:s(r).category,"onUpdate:error":a[3]||(a[3]=e=>s(r).category=e)},null,8,["modelValue","label","options","error"])]),t("div",le,[n($,{modelValue:l.department,"onUpdate:modelValue":a[4]||(a[4]=e=>l.department=e),name:"department",label:o.$trans("employee.department.department"),"label-prop":"name","value-prop":"uuid",options:g.departments,error:s(r).department,"onUpdate:error":a[5]||(a[5]=e=>s(r).department=e)},null,8,["modelValue","label","options","error"])])]),n(s(h),{list:l.levels,"item-key":"uuid",handle:".handle"},{item:b(({element:e,index:y})=>[n(I,{class:"mt-4"},{legend:b(()=>[a[53]||(a[53]=t("i",{class:"fas fa-arrows mr-2 cursor-pointer handle"},null,-1)),N(" "+v(o.$trans("approval.type.props.level"))+" "+v(y+1)+". ",1),t("span",{class:"text-danger ml-2 cursor-pointer",onClick:p=>H(y)},a[52]||(a[52]=[t("i",{class:"fas fa-times-circle"},null,-1)]),8,oe)]),default:b(()=>[t("div",se,[t("div",re,[n(k,{name:`levels.${y}.employee`,label:o.$trans("global.select",{attribute:o.$trans("employee.employee")}),modelValue:e.employee,"onUpdate:modelValue":p=>e.employee=p,error:s(r)[`levels.${y}.employee`],"onUpdate:error":p=>s(r)[`levels.${y}.employee`]=p,"value-prop":"uuid","init-search":e.employee,"search-action":"employee/summary","additional-search-query":{other_team_member:e.otherTeamMember}},{selectedOption:b(p=>{var R;return[N(v(p.value.name)+" "+v((R=p.value)==null?void 0:R.codeNumber)+" ",1),e.otherTeamMember?(d(),m("span",te,v(p.value.teamName),1)):u("",!0)]}),listOption:b(p=>{var R;return[N(v(p.option.name)+" "+v((R=p.option)==null?void 0:R.codeNumber)+" ",1),e.otherTeamMember?(d(),m("span",ne,v(p.option.teamName),1)):u("",!0)]}),"additional-label":b(()=>[s(V).length>1?(d(),m("span",{key:0,class:"cursor-pointer",onClick:p=>e.otherTeamMember=!e.otherTeamMember},[e.otherTeamMember?W((d(),m("i",de,null,512)),[[E,o.$trans("global.global",{attribute:o.$trans("employee.employee")})]]):W((d(),m("i",me,null,512)),[[E,o.$trans("team.team_wise",{attribute:o.$trans("employee.employee")})]])],8,ie)):u("",!0)]),_:2},1032,["name","label","modelValue","onUpdate:modelValue","error","onUpdate:error","init-search","additional-search-query"])]),t("div",pe,[n(q,{size:"xs",options:g.actions,modelValue:e.actions,"onUpdate:modelValue":p=>e.actions=p,error:s(r)[`levels.${y}.actions`],"onUpdate:error":p=>s(r)[`levels.${y}.actions`]=p},null,8,["options","modelValue","onUpdate:modelValue","error","onUpdate:error"])])])]),_:2},1024)]),_:1},8,["list"]),t("div",ue,[n(P,{design:"primary",onClick:M,class:"cursor-pointer"},{default:b(()=>[N(v(o.$trans("global.add",{attribute:o.$trans("approval.type.props.level")})),1)]),_:1})]),n(I,{class:"mt-4"},{legend:b(()=>[N(v(o.$trans("approval.config.config")),1)]),default:b(()=>[t("div",be,[t("div",ce,[n(i,{modelValue:l.isActive,"onUpdate:modelValue":a[6]||(a[6]=e=>l.isActive=e),name:"isActive",label:o.$trans("global.is",{attribute:o.$trans("approval.type.statuses.active")}),error:s(r).isActive,"onUpdate:error":a[7]||(a[7]=e=>s(r).isActive=e)},null,8,["modelValue","label","error"])])]),t("div",ve,[t("div",ge,[n(i,{modelValue:l.enableFileUpload,"onUpdate:modelValue":a[8]||(a[8]=e=>l.enableFileUpload=e),name:"enableFileUpload",label:o.$trans("global.enable",{attribute:o.$trans("approval.type.props.file_upload")}),error:s(r).enableFileUpload,"onUpdate:error":a[9]||(a[9]=e=>s(r).enableFileUpload=e)},null,8,["modelValue","label","error"])]),l.enableFileUpload?(d(),m("div",ye,[n(i,{modelValue:l.isFileUploadRequired,"onUpdate:modelValue":a[10]||(a[10]=e=>l.isFileUploadRequired=e),name:"isFileUploadRequired",label:o.$trans("global.required",{attribute:o.$trans("approval.type.props.file_upload")}),error:s(r).isFileUploadRequired,"onUpdate:error":a[11]||(a[11]=e=>s(r).isFileUploadRequired=e)},null,8,["modelValue","label","error"])])):u("",!0)]),l.category=="item_based"?(d(),m("div",Ve,[t("div",qe,[n(q,{size:"xs",limit:1,options:g.itemBasedTypes,modelValue:l.itemBasedType,"onUpdate:modelValue":a[12]||(a[12]=e=>l.itemBasedType=e),error:s(r).itemBasedType,"onUpdate:error":a[13]||(a[13]=e=>s(r).itemBasedType=e)},null,8,["options","modelValue","error"])])])):u("",!0),l.category=="contact_based"?(d(),m(C,{key:1},[t("div",Ue,[t("div",fe,[n(i,{modelValue:l.enableContactNumber,"onUpdate:modelValue":a[14]||(a[14]=e=>l.enableContactNumber=e),name:"enableContactNumber",label:o.$trans("global.enable",{attribute:o.$trans("contact.props.contact_number")}),error:s(r).enableContactNumber,"onUpdate:error":a[15]||(a[15]=e=>s(r).enableContactNumber=e)},null,8,["modelValue","label","error"])]),l.enableContactNumber?(d(),m("div",$e,[n(i,{modelValue:l.isContactNumberRequired,"onUpdate:modelValue":a[16]||(a[16]=e=>l.isContactNumberRequired=e),name:"isContactNumberRequired",label:o.$trans("global.required",{attribute:o.$trans("contact.props.contact_number")}),error:s(r).isContactNumberRequired,"onUpdate:error":a[17]||(a[17]=e=>s(r).isContactNumberRequired=e)},null,8,["modelValue","label","error"])])):u("",!0)]),t("div",Re,[t("div",Ne,[n(i,{modelValue:l.enableEmail,"onUpdate:modelValue":a[18]||(a[18]=e=>l.enableEmail=e),name:"enableEmail",label:o.$trans("global.enable",{attribute:o.$trans("contact.props.email")}),error:s(r).enableEmail,"onUpdate:error":a[19]||(a[19]=e=>s(r).enableEmail=e)},null,8,["modelValue","label","error"])]),l.enableEmail?(d(),m("div",Te,[n(i,{modelValue:l.isEmailRequired,"onUpdate:modelValue":a[20]||(a[20]=e=>l.isEmailRequired=e),name:"isEmailRequired",label:o.$trans("global.required",{attribute:o.$trans("contact.props.email")}),error:s(r).isEmailRequired,"onUpdate:error":a[21]||(a[21]=e=>s(r).isEmailRequired=e)},null,8,["modelValue","label","error"])])):u("",!0)]),t("div",Ae,[t("div",De,[n(i,{modelValue:l.enableWebsite,"onUpdate:modelValue":a[22]||(a[22]=e=>l.enableWebsite=e),name:"enableWebsite",label:o.$trans("global.enable",{attribute:o.$trans("contact.props.website")}),error:s(r).enableWebsite,"onUpdate:error":a[23]||(a[23]=e=>s(r).enableWebsite=e)},null,8,["modelValue","label","error"])]),l.enableWebsite?(d(),m("div",ke,[n(i,{modelValue:l.isWebsiteRequired,"onUpdate:modelValue":a[24]||(a[24]=e=>l.isWebsiteRequired=e),name:"isWebsiteRequired",label:o.$trans("global.required",{attribute:o.$trans("contact.props.website")}),error:s(r).isWebsiteRequired,"onUpdate:error":a[25]||(a[25]=e=>s(r).isWebsiteRequired=e)},null,8,["modelValue","label","error"])])):u("",!0)]),t("div",Ie,[t("div",Pe,[n(i,{modelValue:l.enableTaxNumber,"onUpdate:modelValue":a[26]||(a[26]=e=>l.enableTaxNumber=e),name:"enableTaxNumber",label:o.$trans("global.enable",{attribute:o.$trans("contact.props.tax_number")}),error:s(r).enableTaxNumber,"onUpdate:error":a[27]||(a[27]=e=>s(r).enableTaxNumber=e)},null,8,["modelValue","label","error"])]),l.enableTaxNumber?(d(),m("div",Be,[n(i,{modelValue:l.isTaxNumberRequired,"onUpdate:modelValue":a[28]||(a[28]=e=>l.isTaxNumberRequired=e),name:"isTaxNumberRequired",label:o.$trans("global.required",{attribute:o.$trans("contact.props.tax_number")}),error:s(r).isTaxNumberRequired,"onUpdate:error":a[29]||(a[29]=e=>s(r).isTaxNumberRequired=e)},null,8,["modelValue","label","error"])])):u("",!0)]),t("div",Ce,[t("div",Fe,[n(i,{modelValue:l.enableAddress,"onUpdate:modelValue":a[30]||(a[30]=e=>l.enableAddress=e),name:"enableAddress",label:o.$trans("global.enable",{attribute:o.$trans("contact.props.address.address")}),error:s(r).enableAddress,"onUpdate:error":a[31]||(a[31]=e=>s(r).enableAddress=e)},null,8,["modelValue","label","error"])]),l.enableAddress?(d(),m("div",Me,[n(i,{modelValue:l.isAddressRequired,"onUpdate:modelValue":a[32]||(a[32]=e=>l.isAddressRequired=e),name:"isAddressRequired",label:o.$trans("global.required",{attribute:o.$trans("contact.props.address.address")}),error:s(r).isAddressRequired,"onUpdate:error":a[33]||(a[33]=e=>s(r).isAddressRequired=e)},null,8,["modelValue","label","error"])])):u("",!0)])],64)):u("",!0),l.category=="payment_based"?(d(),m(C,{key:2},[t("div",Ee,[t("div",we,[n(i,{modelValue:l.enableInvoiceNumber,"onUpdate:modelValue":a[34]||(a[34]=e=>l.enableInvoiceNumber=e),name:"enableInvoiceNumber",label:o.$trans("global.enable",{attribute:o.$trans("finance.transaction.props.invoice_number")}),error:s(r).enableInvoiceNumber,"onUpdate:error":a[35]||(a[35]=e=>s(r).enableInvoiceNumber=e)},null,8,["modelValue","label","error"])]),l.enableInvoiceNumber?(d(),m("div",We,[n(i,{modelValue:l.isInvoiceNumberRequired,"onUpdate:modelValue":a[36]||(a[36]=e=>l.isInvoiceNumberRequired=e),name:"isInvoiceNumberRequired",label:o.$trans("global.required",{attribute:o.$trans("finance.transaction.props.invoice_number")}),error:s(r).isInvoiceNumberRequired,"onUpdate:error":a[37]||(a[37]=e=>s(r).isInvoiceNumberRequired=e)},null,8,["modelValue","label","error"])])):u("",!0)]),t("div",Se,[t("div",Oe,[n(i,{modelValue:l.enableInvoiceDate,"onUpdate:modelValue":a[38]||(a[38]=e=>l.enableInvoiceDate=e),name:"enableInvoiceDate",label:o.$trans("global.enable",{attribute:o.$trans("finance.transaction.props.invoice_date")}),error:s(r).enableInvoiceDate,"onUpdate:error":a[39]||(a[39]=e=>s(r).enableInvoiceDate=e)},null,8,["modelValue","label","error"])]),l.enableInvoiceDate?(d(),m("div",je,[n(i,{modelValue:l.isInvoiceDateRequired,"onUpdate:modelValue":a[40]||(a[40]=e=>l.isInvoiceDateRequired=e),name:"isInvoiceDateRequired",label:o.$trans("global.required",{attribute:o.$trans("finance.transaction.props.invoice_date")}),error:s(r).isInvoiceDateRequired,"onUpdate:error":a[41]||(a[41]=e=>s(r).isInvoiceDateRequired=e)},null,8,["modelValue","label","error"])])):u("",!0)]),t("div",He,[t("div",_e,[n(i,{modelValue:l.enablePaymentMode,"onUpdate:modelValue":a[42]||(a[42]=e=>l.enablePaymentMode=e),name:"enablePaymentMode",label:o.$trans("global.enable",{attribute:o.$trans("finance.transaction.props.mode")}),error:s(r).enablePaymentMode,"onUpdate:error":a[43]||(a[43]=e=>s(r).enablePaymentMode=e)},null,8,["modelValue","label","error"])]),l.enablePaymentMode?(d(),m("div",Le,[n(i,{modelValue:l.isPaymentModeRequired,"onUpdate:modelValue":a[44]||(a[44]=e=>l.isPaymentModeRequired=e),name:"isModeRequired",label:o.$trans("global.required",{attribute:o.$trans("finance.transaction.props.mode")}),error:s(r).isPaymentModeRequired,"onUpdate:error":a[45]||(a[45]=e=>s(r).isPaymentModeRequired=e)},null,8,["modelValue","label","error"])])):u("",!0)]),t("div",ze,[t("div",Ke,[n(i,{modelValue:l.enablePaymentDetails,"onUpdate:modelValue":a[46]||(a[46]=e=>l.enablePaymentDetails=e),name:"enablePaymentDetails",label:o.$trans("global.enable",{attribute:o.$trans("finance.transaction.props.details")}),error:s(r).enablePaymentDetails,"onUpdate:error":a[47]||(a[47]=e=>s(r).enablePaymentDetails=e)},null,8,["modelValue","label","error"])]),l.enablePaymentDetails?(d(),m("div",Ge,[n(i,{modelValue:l.isPaymentDetailsRequired,"onUpdate:modelValue":a[48]||(a[48]=e=>l.isPaymentDetailsRequired=e),name:"isPaymentDetailsRequired",label:o.$trans("global.required",{attribute:o.$trans("finance.transaction.props.details")}),error:s(r).isPaymentDetailsRequired,"onUpdate:error":a[49]||(a[49]=e=>s(r).isPaymentDetailsRequired=e)},null,8,["modelValue","label","error"])])):u("",!0)])],64)):u("",!0)]),_:1}),t("div",Je,[t("div",Qe,[n(L,{modelValue:l.description,"onUpdate:modelValue":a[50]||(a[50]=e=>l.description=e),name:"description",label:o.$trans("approval.type.props.description"),error:s(r).description,"onUpdate:error":a[51]||(a[51]=e=>s(r).description=e)},null,8,["modelValue","label","error"])])])]),_:1},8,["form"])}}}),Ze={name:"ApprovalTypeAction"},ea=Object.assign(Ze,{setup(O){const U=S();return(V,f)=>{const T=c("PageHeaderAction"),A=c("PageHeader"),g=c("ParentTransition");return d(),m(C,null,[n(A,{title:V.$trans(s(U).meta.trans,{attribute:V.$trans(s(U).meta.label)}),navs:[{label:V.$trans("approval.approval"),path:"Approval"}]},{default:b(()=>[n(T,{name:"ApprovalType",title:V.$trans("approval.type.type"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),n(g,{appear:"",visibility:!0},{default:b(()=>[n(Ye)]),_:1})],64)}}});export{ea as default};
