import{u as D,H as _,I as F,m as v,r as d,t as P,o as h,w as g,d as i,e as n,f as s,K as H,a as L,F as S}from"./app-Cvm44xuh.js";const j={class:"grid grid-cols-3 gap-6"},A={class:"col-span-3 sm:col-span-1"},O={class:"col-span-3 sm:col-span-1"},q={class:"col-span-3 sm:col-span-1"},y={class:"col-span-3 sm:col-span-1"},I={class:"col-span-3 sm:col-span-1"},M={class:"col-span-3 sm:col-span-1"},E={class:"col-span-3"},N={class:"grid grid-cols-1"},w={class:"col"},C={name:"TransportVehicleServiceRecordForm"},K=Object.assign(C,{setup(f){const m=D(),l={vehicle:"",date:"",amount:"",log:"",nextDueDate:"",nextDueLog:"",remarks:"",media:[],mediaUpdated:!1,mediaToken:_(),mediaHash:[]},p="transport/vehicle/serviceRecord/",a=F(p),u=v({vehicles:[]}),t=v({...l}),b=v({vehicle:"",isLoaded:!m.params.uuid}),U=o=>{Object.assign(u,o)},k=()=>{t.mediaToken=_(),t.mediaHash=[]},$=o=>{var e;Object.assign(l,{...o,amount:o.amount.value,date:o.date.value,nextDueDate:o.nextDueDate.value,vehicle:(e=o.vehicle)==null?void 0:e.uuid}),Object.assign(t,H(l)),b.vehicle=o.vehicle.name,b.isLoaded=!0};return(o,e)=>{const T=d("BaseSelect"),V=d("DatePicker"),c=d("BaseInput"),R=d("BaseTextarea"),x=d("MediaUpload"),B=d("FormAction");return h(),P(B,{"pre-requisites":!0,onSetPreRequisites:U,"init-url":p,"init-form":l,form:t,"set-form":$,redirect:"TransportVehicleServiceRecord",onResetMediaFiles:k},{default:g(()=>[i("div",j,[i("div",A,[n(T,{modelValue:t.vehicle,"onUpdate:modelValue":e[0]||(e[0]=r=>t.vehicle=r),name:"vehicle",label:o.$trans("transport.vehicle.vehicle"),"label-prop":"nameWithRegistrationNumber","value-prop":"uuid",options:u.vehicles,error:s(a).vehicle,"onUpdate:error":e[1]||(e[1]=r=>s(a).vehicle=r)},null,8,["modelValue","label","options","error"])]),i("div",O,[n(V,{modelValue:t.date,"onUpdate:modelValue":e[2]||(e[2]=r=>t.date=r),name:"date",label:o.$trans("transport.vehicle.service_record.props.date"),"no-clear":"",error:s(a).date,"onUpdate:error":e[3]||(e[3]=r=>s(a).date=r)},null,8,["modelValue","label","error"])]),i("div",q,[n(c,{currency:"",modelValue:t.amount,"onUpdate:modelValue":e[4]||(e[4]=r=>t.amount=r),name:"amount",label:o.$trans("transport.vehicle.service_record.props.amount"),error:s(a).amount,"onUpdate:error":e[5]||(e[5]=r=>s(a).amount=r)},null,8,["modelValue","label","error"])]),i("div",y,[n(c,{type:"number",modelValue:t.log,"onUpdate:modelValue":e[6]||(e[6]=r=>t.log=r),"trailing-text":o.$trans("list.unit.km"),name:"log",label:o.$trans("transport.vehicle.service_record.props.log"),error:s(a).log,"onUpdate:error":e[7]||(e[7]=r=>s(a).log=r)},null,8,["modelValue","trailing-text","label","error"])]),i("div",I,[n(V,{modelValue:t.nextDueDate,"onUpdate:modelValue":e[8]||(e[8]=r=>t.nextDueDate=r),name:"nextDueDate",label:o.$trans("transport.vehicle.service_record.props.next_due_date"),"no-clear":"",error:s(a).nextDueDate,"onUpdate:error":e[9]||(e[9]=r=>s(a).nextDueDate=r)},null,8,["modelValue","label","error"])]),i("div",M,[n(c,{type:"number",modelValue:t.nextDueLog,"onUpdate:modelValue":e[10]||(e[10]=r=>t.nextDueLog=r),"trailing-text":o.$trans("list.unit.km"),name:"nextDueLog",label:o.$trans("transport.vehicle.service_record.props.next_due_log"),error:s(a).nextDueLog,"onUpdate:error":e[11]||(e[11]=r=>s(a).nextDueLog=r)},null,8,["modelValue","trailing-text","label","error"])]),i("div",E,[n(R,{modelValue:t.remarks,"onUpdate:modelValue":e[12]||(e[12]=r=>t.remarks=r),name:"remarks",label:o.$trans("transport.vehicle.service_record.props.remarks"),error:s(a).remarks,"onUpdate:error":e[13]||(e[13]=r=>s(a).remarks=r)},null,8,["modelValue","label","error"])])]),i("div",N,[i("div",w,[n(x,{multiple:"",label:o.$trans("general.file"),module:"vehicle_service_record",media:t.media,"media-token":t.mediaToken,onIsUpdated:e[14]||(e[14]=r=>t.mediaUpdated=!0),onSetHash:e[15]||(e[15]=r=>t.mediaHash.push(r))},null,8,["label","media","media-token"])])])]),_:1},8,["form"])}}}),W={name:"TransportVehicleServiceRecordAction"},G=Object.assign(W,{setup(f){const m=D();return(l,p)=>{const a=d("PageHeaderAction"),u=d("PageHeader"),t=d("ParentTransition");return h(),L(S,null,[n(u,{title:l.$trans(s(m).meta.trans,{attribute:l.$trans(s(m).meta.label)}),navs:[{label:l.$trans("transport.transport"),path:"Transport"},{label:l.$trans("transport.vehicle.vehicle"),path:"TransportVehicle"},{label:l.$trans("transport.vehicle.service_record.service_record"),path:"TransportVehicleServiceRecordList"}]},{default:g(()=>[n(a,{name:"TransportVehicleServiceRecord",title:l.$trans("transport.vehicle.service_record.service_record"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),n(t,{appear:"",visibility:!0},{default:g(()=>[n(K)]),_:1})],64)}}});export{G as default};
