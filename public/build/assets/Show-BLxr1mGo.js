import{r as f,t as l,o as s,w as n,d as t,e as d,f as b,ak as T,x as a,al as A,am as L,a as v,F as M,y as V,an as E,n as F,ao as U,u as q,i as z,j as D,k as O,p as I,m as G,L as P,q as Q,s as H,b as i,v as c}from"./app-Cvm44xuh.js";const J={class:"flex w-full justify-between items-center"},K={class:"flex min-w-0 items-center justify-between space-x-3"},W={class:"flex-1 flex flex-col min-w-0"},X={class:"text-gray-400 text-sm font-medium truncate"},Y={class:"py-1"},Z=["onClick"],ee={name:"StudentRecord"},te=Object.assign(ee,{props:{records:{type:Array,default:[]}},emits:["updateRecord"],setup(k,{emit:g}){const h=g;return(_,y)=>{const S=f("EllipsisVerticalIcon");return s(),l(b(U),{as:"div",class:"px-3 relative inline-block text-left"},{default:n(()=>[t("div",null,[d(b(T),{class:"group w-full bg-black rounded-md px-3.5 py-2 text-sm text-left font-medium hover:bg-gray-900 focus:outline-none"},{default:n(()=>[t("span",J,[t("span",K,[t("span",W,[t("span",X,a(_.$trans("global.choose",{attribute:_.$trans("student.record.record")})),1)])]),d(S,{class:"flex-shrink-0 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"})])]),_:1})]),d(A,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:n(()=>[d(b(L),{class:"z-10 mx-3 origin-top absolute right-0 left-0 mt-1 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-gray-200 focus:outline-none"},{default:n(()=>[t("div",Y,[(s(!0),v(M,null,V(k.records,r=>(s(),l(b(E),{key:r.uuid},{default:n(({active:e})=>[t("a",{href:"#",onClick:w=>h("updateRecord",r.uuid),class:F([e?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"])},a(r.periodName)+" "+a(r.courseName)+" "+a(r.batchName),11,Z)]),_:2},1024))),128))])]),_:1})]),_:1})]),_:1})}}}),ae={key:0,class:"mb-4"},ne={class:"-mt-12 flex w-full justify-center sm:-mt-16"},se=["src"],oe={class:"mt-4 text-center text-white"},ie={class:"font-bold"},le={key:1,class:"mt-2"},re={key:0,class:"mt-4 flex justify-center"},ce={name:"StudentShow"},de=Object.assign(ce,{setup(k){const g=q(),h=z(),_=D(),y=O("emitter"),S=[{name:"StudentShowBasic",icon:"fas fa-chevron-right",label:"general.basic"},{name:"StudentShowContact",icon:"fas fa-chevron-right",label:"contact.contact"},{name:"StudentShowLogin",icon:"fas fa-chevron-right",label:"contact.login.login"},{name:"StudentGuardian",icon:"fas fa-chevron-right",label:"guardian.guardian"},{name:"StudentSibling",icon:"fas fa-chevron-right",label:"student.sibling.sibling"},{name:"StudentRecord",icon:"fas fa-chevron-right",label:"student.record.record"},{name:"StudentShowFee",icon:"fas fa-chevron-right",label:"student.fee.fee"},{name:"StudentFeeRefund",icon:"fas fa-chevron-right",label:"student.fee_refund.fee_refund"},{name:"StudentShowAttendance",icon:"fas fa-chevron-right",label:"student.attendance.attendance"},{name:"StudentShowExamReport",icon:"fas fa-chevron-right",label:"exam.exam_report"},{name:"StudentShowSubject",icon:"fas fa-chevron-right",label:"academic.subject.subject"},{name:"StudentDialogue",icon:"fas fa-chevron-right",label:"student.dialogue.dialogue"},{name:"StudentDocument",icon:"fas fa-chevron-right",label:"student.document.document"},{name:"StudentQualification",icon:"fas fa-chevron-right",label:"student.qualification.qualification"},{name:"StudentAccount",icon:"fas fa-chevron-right",label:"student.account.account"}],r=I(!1),e=G({records:[]}),w=async()=>{r.value=!0,await _.dispatch("student/get",{uuid:g.params.uuid}).then(o=>{Object.assign(e,o),r.value=!1}).catch(o=>{r.value=!1,h.push({name:"StudentList"})})},B=async o=>{await h.push({params:{uuid:o}})};return P(()=>g.params.uuid,(o,u)=>{o!=null&&o!=u&&location.reload()},{deep:!0}),Q(async()=>{y.on("studentUpdated",()=>{w()}),await w()}),H(()=>{y.all.delete("studentUpdated")}),(o,u)=>{const p=f("BaseBadge"),x=f("TextMuted"),N=f("BaseLoader"),R=f("router-view"),C=f("ModuleConfig");return s(),l(C,{navigations:S,"use-uuid":""},{header:n(()=>[d(N,null,{default:n(()=>{var $,j;return[e.uuid?(s(),v("div",ae,[u[2]||(u[2]=t("img",{class:"h-32 w-full object-cover lg:h-48",src:"/images/user-cover.jpeg",alt:""},null,-1)),t("div",ne,[t("img",{class:"h-24 w-24 rounded-full ring-4 ring-white sm:h-32 sm:w-32",src:e.contact.photo,alt:""},null,8,se)]),t("div",oe,[t("h1",ie,a(e.contact.name),1),e.isProvisional?(s(),l(p,{key:0,design:"info"},{default:n(()=>[c(a(o.$trans("student.admission.provisional_admission")),1)]),_:1})):i("",!0),t("p",null,[c(a(e.courseName)+" "+a(e.batchName)+" ",1),d(x,{black:"",block:""},{default:n(()=>[c(a(e.codeNumber),1)]),_:1}),($=e.enrollmentType)!=null&&$.uuid?(s(),l(x,{key:0,black:"",block:""},{default:n(()=>{var m;return[c(a((m=e.enrollmentType)==null?void 0:m.name),1)]}),_:1})):i("",!0),(j=e.enrollmentStatus)!=null&&j.uuid?(s(),l(x,{key:1,black:"",block:""},{default:n(()=>{var m;return[c(a((m=e.enrollmentStatus)==null?void 0:m.name),1)]}),_:1})):i("",!0)]),t("p",null,[u[0]||(u[0]=t("i",{class:"fas fa-mobile-alt"},null,-1)),c(" "+a(e.contact.contactNumber),1)]),e.isAlumni||e.isTransferred||e.cancelledAt.value?(s(),v("div",le,[e.isAlumni?(s(),l(p,{key:0,design:"info",size:"lg"},{default:n(()=>[u[1]||(u[1]=t("i",{class:"fas fa-graduation-cap fa-lg"},null,-1)),c(" "+a(o.$trans("student.alumni.alumni")),1)]),_:1,__:[1]})):i("",!0),e.isTransferred?(s(),l(p,{key:1,design:"danger"},{default:n(()=>[c(a(o.$trans("student.statuses.transferred")),1)]),_:1})):i("",!0),e.cancelledAt.value?(s(),l(p,{key:2,design:"danger"},{default:n(()=>[c(a(o.$trans("student.statuses.cancelled")),1)]),_:1})):i("",!0)])):i("",!0)]),e.records.length>0?(s(),v("div",re,[d(te,{records:e.records,onUpdateRecord:B},null,8,["records"])])):i("",!0)])):i("",!0)]}),_:1})]),default:n(()=>[e.uuid?(s(),l(R,{key:0,student:e},null,8,["student"])):i("",!0)]),_:1})}}});export{de as default};
