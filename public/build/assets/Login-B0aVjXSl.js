import{u as z,j as E,k as P,z as w,c as F,g as I,p as O,r as o,a as g,o as n,t as c,b,e as l,w as e,f as t,v as d,x as p,d as S,F as x,y as V}from"./app-Cvm44xuh.js";const R={key:1,class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-3"},U={class:"space-x-1"},q={class:"flex flex-wrap gap-2"},G={name:"StudentShowLogin"},M=Object.assign(G,{props:{student:{type:Object,default(){return{}}}},setup(m){const A=z(),j=E(),a=P("$trans"),H=P("emitter"),f=m;let v=[];w("student:edit")&&v.push({label:a("global.edit",{attribute:a("contact.login.login")}),path:{name:"StudentEditLogin",params:{uuid:f.student.uuid}}});const i=F(()=>{var r,s;return(s=(r=f.student)==null?void 0:r.contact)==null?void 0:s.user}),L=I("periods"),y=O(!1),N=r=>{var s;r.id!=((s=i.value)==null?void 0:s.currentPeriodId)&&(y.value=!0,j.dispatch("student/updateCurrentPeriod",{uuid:f.student.uuid,form:{period_id:r.id}}).then(()=>{H.emit("studentUpdated")}).catch(()=>{}).finally(()=>{y.value=!1}))};return(r,s)=>{const D=o("PageHeaderAction"),T=o("PageHeader"),$=o("BaseAlert"),_=o("BaseDataView"),B=o("BaseBadge"),h=o("BaseCard"),k=o("ParentTransition");return n(),g(x,null,[m.student.uuid?(n(),c(T,{key:0,title:t(a)(t(A).meta.label),navs:[{label:t(a)("student.student"),path:"Student"},{label:m.student.contact.name,path:{name:"StudentShow",params:{uuid:m.student.uuid}}}]},{default:e(()=>[l(D,{"additional-actions":t(v)},null,8,["additional-actions"])]),_:1},8,["title","navs"])):b("",!0),l(k,{appear:"",visibility:!0},{default:e(()=>[m.student.uuid?(n(),c(h,{key:0},{default:e(()=>[i.value?(n(),g("dl",R,[l(_,{label:t(a)("contact.login.props.email")},{default:e(()=>[d(p(i.value.email),1)]),_:1},8,["label"]),l(_,{label:t(a)("contact.login.props.username")},{default:e(()=>[d(p(i.value.username),1)]),_:1},8,["label"]),l(_,{label:t(a)("contact.login.props.password")},{default:e(()=>s[0]||(s[0]=[d(" xxxxxxxxx ")])),_:1,__:[0]},8,["label"]),l(_,{label:t(a)("team.config.role.role")},{default:e(()=>[S("div",U,[(n(!0),g(x,null,V(i.value.roles,u=>(n(),c(B,{design:"primary"},{default:e(()=>[d(p(u.label),1)]),_:2},1024))),256))])]),_:1},8,["label"])])):(n(),c($,{key:0,design:"error"},{default:e(()=>[d(p(t(a)("contact.login.no_login_found")),1)]),_:1}))]),_:1})):b("",!0)]),_:1}),t(w)("student:edit")?(n(),c(k,{key:1,appear:"",visibility:!0},{default:e(()=>[l(h,null,{title:e(()=>[d(p(t(a)("global.update",{attribute:t(a)("academic.period.current_period")})),1)]),default:e(()=>[S("div",q,[(n(!0),g(x,null,V(t(L),u=>{var C;return n(),c(B,{key:u.id,size:"md",design:u.id==((C=i.value)==null?void 0:C.currentPeriodId)?"success":"info",class:"cursor-pointer",onClick:J=>N(u)},{default:e(()=>[d(p(u.name),1)]),_:2},1032,["design","onClick"])}),128))])]),_:1})]),_:1})):b("",!0)],64)}}});export{M as default};
