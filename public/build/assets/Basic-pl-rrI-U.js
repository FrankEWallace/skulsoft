import{j as K,I as M,p as J,m as _,L as Q,q as W,r as f,t as r,o as s,w as t,a as I,b as i,F,y as j,v as n,x as u,f as e,z as O,K as X,u as Y,k as P,g as y,e as m,d as x}from"./app-Cvm44xuh.js";import{_ as Z}from"./EditRequestInfo-BB3-mCqh.js";const ee={key:0,class:"space-x-1"},ae={name:"EmployeeTagList"},te=Object.assign(ae,{props:{employee:{type:Object,default(){return{}}}},emits:["refresh"],setup(a,{emit:U}){K();const o=U,B=a,g={tags:[]},E="employee/",v=M(E),h=J(!1),N=_({...g}),q=_({tags:[],isLoaded:!1}),L=b=>{Object.assign(g,{tags:b.map(d=>d.uuid)}),Object.assign(N,X(g)),q.tags=b.map(d=>d.uuid),q.isLoaded=!0},C=()=>{h.value=!1,o("refresh")};return Q(()=>B.employee.tags,b=>{L(b)}),W(()=>{var b;L(((b=B.employee)==null?void 0:b.tags)||[])}),(b,d)=>{const V=f("BaseBadge"),w=f("BaseSelectSearch"),D=f("FormAction"),$=f("BaseDataView");return s(),r($,{class:"col-span-1 sm:col-span-4"},{label:t(()=>[n(u(b.$trans("general.tags"))+" ",1),e(O)("employee:edit")?(s(),I("i",{key:0,class:"fas fa-edit cursor-pointer",onClick:d[0]||(d[0]=p=>h.value=!0)})):i("",!0)]),default:t(()=>[h.value?i("",!0):(s(),I("div",ee,[(s(!0),I(F,null,j(a.employee.tags||[],p=>(s(),r(V,{design:"primary"},{default:t(()=>[n(u(p.name),1)]),_:2},1024))),256))])),h.value?(s(),r(D,{key:1,"no-card":"","no-data-fetch":"","cancel-action":"",action:"updateTags","keep-adding":!1,"init-url":E,"init-form":g,form:N,"after-submit":C,onCancelled:d[3]||(d[3]=p=>h.value=!1)},{default:t(()=>[q.isLoaded?(s(),r(w,{key:0,tags:"",name:"tags",placeholder:b.$trans("global.select",{attribute:b.$trans("general.tag")}),modelValue:N.tags,"onUpdate:modelValue":d[1]||(d[1]=p=>N.tags=p),error:e(v).tags,"onUpdate:error":d[2]||(d[2]=p=>e(v).tags=p),"init-search":q.tags,"search-action":"tag/list"},null,8,["placeholder","modelValue","error","init-search"])):i("",!0)]),_:1},8,["form"])):i("",!0)]),_:1})}}}),le={class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-3"},oe={class:"flex flex-wrap gap-2"},ne={name:"EmployeeShowBasic"},re=Object.assign(ne,{props:{employee:{type:Object,default(){return{}}}},setup(a){const U=Y(),o=P("$trans"),B=P("emitter"),g=a,E=y("employee.isUniqueIdNumber1Enabled"),v=y("employee.isUniqueIdNumber2Enabled"),h=y("employee.isUniqueIdNumber3Enabled"),N=y("employee.isUniqueIdNumber4Enabled"),q=y("employee.isUniqueIdNumber5Enabled"),L=y("employee.uniqueIdNumber1Label"),C=y("employee.uniqueIdNumber2Label"),b=y("employee.uniqueIdNumber3Label"),d=y("employee.uniqueIdNumber4Label"),V=y("employee.uniqueIdNumber5Label"),w=y("contact.enableLocalityField"),D=y("contact.enableCategoryField"),$=y("contact.enableCasteField");let p=[];O("employee:edit")&&!g.employee.self&&(p.push({label:o("global.edit",{attribute:o("employee.employee")}),path:{name:"EmployeeEditBasic",params:{uuid:g.employee.uuid}}}),p.push({label:o("global.edit",{attribute:o("contact.props.photo")}),path:{name:"EmployeeEditPhoto",params:{uuid:g.employee.uuid}}}));const T=()=>{B.emit("employeeUpdated")};return(ue,ce)=>{const A=f("PageHeaderAction"),H=f("PageHeader"),c=f("BaseDataView"),R=f("BaseBadge"),z=f("BaseCard"),G=f("ParentTransition");return s(),I(F,null,[a.employee.uuid?(s(),r(H,{key:0,title:e(o)(e(U).meta.label),navs:[{label:e(o)("employee.employee"),path:"Employee"},{label:a.employee.contact.name,path:{name:"EmployeeShow",params:{uuid:a.employee.uuid}}}]},{default:t(()=>[m(A,{"additional-actions":e(p)},null,8,["additional-actions"])]),_:1},8,["title","navs"])):i("",!0),m(G,{appear:"",visibility:!0},{default:t(()=>[a.employee.uuid?(s(),r(z,{key:0},{default:t(()=>{var S;return[m(Z,{employee:a.employee},null,8,["employee"]),x("dl",le,[m(c,{label:e(o)("employee.props.code_number")},{default:t(()=>[n(u(a.employee.codeNumber),1)]),_:1},8,["label"]),m(c,{label:e(o)("employee.props.joining_date")},{default:t(()=>[n(u(a.employee.joiningDate.formatted),1)]),_:1},8,["label"]),a.employee.leavingDate.value?(s(),r(c,{key:0,label:e(o)("employee.props.leaving_date")},{default:t(()=>[n(u(a.employee.leavingDate.formatted),1)]),_:1},8,["label"])):i("",!0),m(c,{label:e(o)("employee.department.department")},{default:t(()=>{var l,k;return[n(u((k=(l=a.employee.lastRecord)==null?void 0:l.department)==null?void 0:k.name),1)]}),_:1},8,["label"]),m(c,{label:e(o)("employee.designation.designation")},{default:t(()=>{var l,k;return[n(u((k=(l=a.employee.lastRecord)==null?void 0:l.designation)==null?void 0:k.name),1)]}),_:1},8,["label"]),m(c,{label:e(o)("contact.props.birth_date")},{default:t(()=>[n(u(a.employee.contact.birthDate.formatted),1)]),_:1},8,["label"]),m(c,{label:e(o)("contact.props.gender")},{default:t(()=>[n(u(a.employee.contact.gender.label),1)]),_:1},8,["label"]),m(c,{label:e(o)("contact.props.father_name")},{default:t(()=>[n(u(a.employee.contact.fatherName),1)]),_:1},8,["label"]),m(c,{label:e(o)("contact.props.mother_name")},{default:t(()=>[n(u(a.employee.contact.motherName),1)]),_:1},8,["label"]),e(E)?(s(),r(c,{key:1,label:e(L)},{default:t(()=>[n(u(a.employee.contact.uniqueIdNumber1),1)]),_:1},8,["label"])):i("",!0),e(v)?(s(),r(c,{key:2,label:e(C)},{default:t(()=>[n(u(a.employee.contact.uniqueIdNumber2),1)]),_:1},8,["label"])):i("",!0),e(h)?(s(),r(c,{key:3,label:e(b)},{default:t(()=>[n(u(a.employee.contact.uniqueIdNumber3),1)]),_:1},8,["label"])):i("",!0),e(N)?(s(),r(c,{key:4,label:e(d)},{default:t(()=>[n(u(a.employee.contact.uniqueIdNumber4),1)]),_:1},8,["label"])):i("",!0),e(q)?(s(),r(c,{key:5,label:e(V)},{default:t(()=>[n(u(a.employee.contact.uniqueIdNumber5),1)]),_:1},8,["label"])):i("",!0),m(c,{label:e(o)("contact.props.birth_place")},{default:t(()=>[n(u(a.employee.contact.birthPlace),1)]),_:1},8,["label"]),m(c,{label:e(o)("contact.props.nationality")},{default:t(()=>[n(u(a.employee.contact.nationality),1)]),_:1},8,["label"]),m(c,{label:e(o)("contact.props.mother_tongue")},{default:t(()=>[n(u(a.employee.contact.motherTongue),1)]),_:1},8,["label"]),m(c,{label:e(o)("contact.props.blood_group")},{default:t(()=>{var l;return[n(u(((l=a.employee.contact.bloodGroup)==null?void 0:l.label)||"-"),1)]}),_:1},8,["label"]),e(w)?(s(),r(c,{key:6,label:e(o)("contact.props.locality")},{default:t(()=>{var l;return[n(u(((l=a.employee.contact.locality)==null?void 0:l.label)||"-"),1)]}),_:1},8,["label"])):i("",!0),m(c,{label:e(o)("contact.props.marital_status")},{default:t(()=>{var l;return[n(u(((l=a.employee.contact.maritalStatus)==null?void 0:l.label)||"-"),1)]}),_:1},8,["label"]),m(c,{label:e(o)("contact.religion.religion")},{default:t(()=>{var l;return[n(u(((l=a.employee.contact.religion)==null?void 0:l.name)||"-"),1)]}),_:1},8,["label"]),e($)?(s(),r(c,{key:7,label:e(o)("contact.caste.caste")},{default:t(()=>{var l;return[n(u(((l=a.employee.contact.caste)==null?void 0:l.name)||"-"),1)]}),_:1},8,["label"])):i("",!0),e(D)?(s(),r(c,{key:8,label:e(o)("contact.category.category")},{default:t(()=>{var l;return[n(u(((l=a.employee.contact.category)==null?void 0:l.name)||"-"),1)]}),_:1},8,["label"])):i("",!0),m(c,{label:e(o)("employee.type")},{default:t(()=>{var l;return[n(u(((l=a.employee.type)==null?void 0:l.label)||"-"),1)]}),_:1},8,["label"]),(s(!0),I(F,null,j(((S=a.employee.contact)==null?void 0:S.customFields)||[],l=>(s(),r(c,{key:l.uuid,label:l.label},{default:t(()=>[n(u(l.formattedValue),1)]),_:2},1032,["label"]))),128)),m(te,{employee:a.employee,onRefresh:T},null,8,["employee"]),m(c,{label:e(o)("employee.group.group")},{default:t(()=>[x("div",oe,[(s(!0),I(F,null,j(a.employee.groups,l=>(s(),r(R,{design:"primary",key:l.uuid},{default:t(()=>[n(u(l.name),1)]),_:2},1024))),128))])]),_:1},8,["label"])])]}),_:1})):i("",!0)]),_:1})],64)}}});export{re as default};
