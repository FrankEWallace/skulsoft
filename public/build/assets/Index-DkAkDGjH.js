import{m as I,r as l,t as b,o as p,w as e,d as y,e as n,u as j,i as L,k as N,z as $,p as O,f as u,a as w,F as B,y as E,v as s,x as o,b as D}from"./app-Cvm44xuh.js";const z={class:"grid grid-cols-3 gap-6"},x={class:"col-span-3 sm:col-span-1"},G={class:"col-span-3 sm:col-span-1"},J={class:"col-span-3 sm:col-span-1"},K={__name:"Filter",emits:["hide"],setup(d,{emit:F}){const v=F,_={course:"",institute:"",affiliatedTo:""},r=I({..._});return(k,i)=>{const c=l("BaseInput"),S=l("FilterForm");return p(),b(S,{"init-form":_,form:r,onHide:i[3]||(i[3]=a=>v("hide"))},{default:e(()=>[y("div",z,[y("div",x,[n(c,{type:"text",modelValue:r.course,"onUpdate:modelValue":i[0]||(i[0]=a=>r.course=a),name:"course",label:k.$trans("student.qualification.props.course")},null,8,["modelValue","label"])]),y("div",G,[n(c,{type:"text",modelValue:r.institute,"onUpdate:modelValue":i[1]||(i[1]=a=>r.institute=a),name:"institute",label:k.$trans("student.qualification.props.institute")},null,8,["modelValue","label"])]),y("div",J,[n(c,{type:"text",modelValue:r.affiliatedTo,"onUpdate:modelValue":i[2]||(i[2]=a=>r.affiliatedTo=a),name:"affiliatedTo",label:k.$trans("student.qualification.props.affiliated_to")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},W={name:"StudentQualificationList"},Y=Object.assign(W,{props:{student:{type:Object,default(){return{}}}},setup(d){const F=j(),v=L(),_=N("emitter");let r=["filter"];($("student:edit")||$("student-record:manage"))&&r.unshift("create");const k="student/qualification/",i=O(!1),c=I({}),S=a=>{Object.assign(c,a)};return(a,m)=>{const Q=l("PageHeaderAction"),H=l("PageHeader"),V=l("ParentTransition"),h=l("TextMuted"),f=l("DataCell"),C=l("FloatingMenuItem"),M=l("FloatingMenu"),P=l("DataRow"),R=l("BaseButton"),A=l("DataTable"),U=l("ListItem");return p(),b(U,{"init-url":k,uuid:u(F).params.uuid,onSetItems:S},{header:e(()=>[d.student.uuid?(p(),b(H,{key:0,title:a.$trans("student.qualification.qualification"),navs:[{label:a.$trans("student.student"),path:"Student"},{label:d.student.contact.name,path:{name:"StudentShow",params:{uuid:d.student.uuid}}}]},{default:e(()=>[n(Q,{url:`students/${d.student.uuid}/qualifications/`,name:"StudentQualification",title:a.$trans("student.qualification.qualification"),actions:u(r),"dropdown-actions":["print","pdf","excel"],onToggleFilter:m[0]||(m[0]=t=>i.value=!i.value)},null,8,["url","title","actions"])]),_:1},8,["title","navs"])):D("",!0)]),filter:e(()=>[n(V,{appear:"",visibility:i.value},{default:e(()=>[n(K,{onRefresh:m[1]||(m[1]=t=>u(_).emit("listItems")),onHide:m[2]||(m[2]=t=>i.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[n(V,{appear:"",visibility:!0},{default:e(()=>[n(A,{header:c.headers,meta:c.meta,module:"student.qualification",onRefresh:m[4]||(m[4]=t=>u(_).emit("listItems"))},{actionButton:e(()=>[u($)("student:edit")||u($)("student-record:manage")?(p(),b(R,{key:0,onClick:m[3]||(m[3]=t=>u(v).push({name:"StudentQualificationCreate"}))},{default:e(()=>[s(o(a.$trans("global.add",{attribute:a.$trans("student.qualification.qualification")})),1)]),_:1})):D("",!0)]),default:e(()=>[(p(!0),w(B,null,E(c.data,t=>(p(),b(P,{key:t.uuid,onDoubleClick:g=>u(v).push({name:"StudentQualificationShow",params:{uuid:d.student.uuid,muuid:t.uuid}})},{default:e(()=>[n(f,{name:"course"},{default:e(()=>[s(o(t.course)+" ",1),n(h,{block:""},{default:e(()=>[s(o(t.session),1)]),_:2},1024)]),_:2},1024),n(f,{name:"institute"},{default:e(()=>[s(o(t.institute),1)]),_:2},1024),n(f,{name:"level"},{default:e(()=>[s(o(t.level.name),1)]),_:2},1024),n(f,{name:"startDate"},{default:e(()=>[s(o(t.startDate.formatted),1)]),_:2},1024),n(f,{name:"endDate"},{default:e(()=>[s(o(t.endDate.formatted),1)]),_:2},1024),n(f,{name:"result"},{default:e(()=>{var g,T;return[s(o(((g=t.result)==null?void 0:g.label)||t.result)+" ",1),t.percentage&&((T=t.result)==null?void 0:T.value)=="pass"?(p(),b(h,{key:0,block:""},{default:e(()=>[s(o(t.percentage)+"% ",1)]),_:2},1024)):D("",!0)]}),_:2},1024),n(f,{name:"createdAt"},{default:e(()=>[s(o(t.createdAt.formatted),1)]),_:2},1024),n(f,{name:"action"},{default:e(()=>[n(M,null,{default:e(()=>[n(C,{icon:"fas fa-arrow-circle-right",onClick:g=>u(v).push({name:"StudentQualificationShow",params:{uuid:d.student.uuid,muuid:t.uuid}})},{default:e(()=>[s(o(a.$trans("general.show")),1)]),_:2},1032,["onClick"]),u($)("student:edit")||u($)("student-record:manage")?(p(),w(B,{key:0},[n(C,{icon:"fas fa-edit",onClick:g=>u(v).push({name:"StudentQualificationEdit",params:{uuid:d.student.uuid,muuid:t.uuid}})},{default:e(()=>[s(o(a.$trans("general.edit")),1)]),_:2},1032,["onClick"]),n(C,{icon:"fas fa-copy",onClick:g=>u(v).push({name:"StudentQualificationDuplicate",params:{uuid:d.student.uuid,muuid:t.uuid}})},{default:e(()=>[s(o(a.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),n(C,{icon:"fas fa-trash",onClick:g=>u(_).emit("deleteItem",{uuid:d.student.uuid,moduleUuid:t.uuid})},{default:e(()=>[s(o(a.$trans("general.delete")),1)]),_:2},1032,["onClick"])],64)):D("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDoubleClick"]))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1},8,["uuid"])}}});export{Y as default};
