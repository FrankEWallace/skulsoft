import{u as L,i as N,j as U,p as y,I as C,m as v,q,r as i,t as H,o as f,w as d,a as F,b as k,e as r,d as p,f as l,v as A,x as S,F as O}from"./app-Cvm44xuh.js";const R={key:0,class:"grid grid-cols-3 gap-6"},T={class:"col-span-3 sm:col-span-1"},j={class:"col-span-3 sm:col-span-1"},E={class:"flex items-center gap-2"},I={key:0,class:"grid grid-cols-3 gap-6"},h={class:"col-span-3 sm:col-span-1"},D={class:"col-span-3 sm:col-span-1"},M={__name:"Filter",props:{initUrl:{type:String,default:""},preRequisites:{type:Object,default(){return{}}}},emits:["hide"],setup($,{emit:b}){L();const _=N();U();const V=b,P=$,m={startNumber:"",endNumber:"",column:1,labelPerPage:10};y(!1);const s=y(!1),a=C(P.initUrl),n=v({...m});v({for:null});const c=v({isLoaded:!0});return q(async()=>{c.isLoaded=!0}),(t,e)=>{const u=i("BaseInput"),w=i("BaseSwitch"),g=i("BaseFieldset"),B=i("FilterForm");return f(),H(B,{"init-form":m,multiple:[],form:n,onHide:e[7]||(e[7]=o=>V("hide")),"no-action-on-cancel":"",onCancel:e[8]||(e[8]=o=>l(_).push({name:"Library"}))},{default:d(()=>[c.isLoaded?(f(),F("div",R,[p("div",T,[r(u,{modelValue:n.startNumber,"onUpdate:modelValue":e[0]||(e[0]=o=>n.startNumber=o),label:t.$trans("library.book.props.start_number"),error:l(a).startNumber},null,8,["modelValue","label","error"])]),p("div",j,[r(u,{modelValue:n.endNumber,"onUpdate:modelValue":e[1]||(e[1]=o=>n.endNumber=o),label:t.$trans("library.book.props.end_number"),error:l(a).endNumber},null,8,["modelValue","label","error"])])])):k("",!0),r(g,{class:"mt-4"},{legend:d(()=>[p("div",E,[A(S(t.$trans("global.show",{attribute:t.$trans("general.options")}))+" ",1),r(w,{reverse:"",modelValue:s.value,"onUpdate:modelValue":e[2]||(e[2]=o=>s.value=o),name:"showOptions"},null,8,["modelValue"])])]),default:d(()=>[s.value?(f(),F("div",I,[p("div",h,[r(u,{type:"number",modelValue:n.column,"onUpdate:modelValue":e[3]||(e[3]=o=>n.column=o),name:"column",label:t.$trans("print.column"),error:l(a).column,"onUpdate:error":e[4]||(e[4]=o=>l(a).column=o)},null,8,["modelValue","label","error"])]),p("div",D,[r(u,{type:"number",modelValue:n.labelPerPage,"onUpdate:modelValue":e[5]||(e[5]=o=>n.labelPerPage=o),name:"labelPerPage",label:t.$trans("library.book.label_per_page"),error:l(a).labelPerPage,"onUpdate:error":e[6]||(e[6]=o=>l(a).labelPerPage=o)},null,8,["modelValue","label","error"])])])):k("",!0)]),_:1})]),_:1},8,["form"])}}},z={name:"LibraryBookLabel"},J=Object.assign(z,{setup($){const b=L();N();const _=U();let V=[],P=[];const m="library/bookLabel/",s=y(!0),a=y(!1),n=v({}),c=async()=>{a.value=!0,await _.dispatch(m+"print",{params:b.query}).then(t=>{a.value=!1,window.open("/print").document.write(t)}).catch(t=>{a.value=!1})};return q(async()=>{}),(t,e)=>{const u=i("PageHeaderAction"),w=i("PageHeader"),g=i("ParentTransition"),B=i("BaseCard");return f(),F(O,null,[r(w,{title:t.$trans(l(b).meta.label),navs:[{label:t.$trans("library.library"),path:"Library"}]},{default:d(()=>[r(u,{name:"LibraryBookLabel",title:t.$trans("library.book.label"),actions:l(V),"dropdown-actions":l(P),onToggleFilter:e[0]||(e[0]=o=>s.value=!s.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"]),r(g,{appear:"",visibility:s.value},{default:d(()=>[r(M,{"is-loading":a.value,onAfterFilter:c,"init-url":m,"pre-requisites":n,onHide:e[1]||(e[1]=o=>s.value=!1)},null,8,["is-loading","pre-requisites"])]),_:1},8,["visibility"]),r(g,{appear:"",visibility:!0},{default:d(()=>[r(B,{"no-padding":"","no-content-padding":"","is-loading":a.value},null,8,["is-loading"])]),_:1})],64)}}});export{J as default};
