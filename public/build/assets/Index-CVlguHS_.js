import{j as F,I as w,p as k,m as x,q as j,r as t,t as N,o as d,w as a,e as s,f as r,n as S,a as g,b as q,F as E,y as M,d as m,v as O,x as P,K as A}from"./app-Cvm44xuh.js";import{d as D}from"./vuedraggable.umd-CV6Buk_j.js";const H={class:"flex items-center"},L={class:"flex items-center"},R={class:"ml-2"},$={key:0,class:"grid grid-cols-3 gap-4 pl-4"},z={name:"ConfigModule"},J=Object.assign(z,{setup(K){const h=F(),u="config/",i=w(u),p=k(!1),l={modules:[]},f=x({...l}),y=async()=>{p.value=!0,await h.dispatch(u+"modulePreRequisite").then(n=>{p.value=!1,Object.assign(l,n),Object.assign(f,A(l))}).catch(n=>{p.value=!1})};return j(async()=>{await y()}),(n,c)=>{const V=t("CardHeader"),v=t("BaseSwitch"),C=t("BaseFieldset"),U=t("FormAction"),b=t("ConfigPage");return d(),N(b,null,{action:a(()=>c[0]||(c[0]=[])),default:a(()=>[s(U,{"no-card":"","init-url":u,"init-form":l,form:f,action:"storeModule","stay-on":"",redirect:"Config"},{default:a(()=>[s(V,{first:"",title:n.$trans("config.module.module_config"),description:n.$trans("config.module.module_info")},null,8,["title","description"]),s(r(D),{list:f.modules,"item-key":"name",handle:".handle"},{item:a(({element:o,index:B})=>[s(C,{class:S({"mt-4":B>0})},{legend:a(()=>[m("div",H,[c[1]||(c[1]=m("i",{class:"fas fa-arrows mr-2 cursor-pointer handle"},null,-1)),m("span",L,[O(P(o.label)+" ",1),m("span",R,[s(v,{reverse:"",modelValue:o.visibility,"onUpdate:modelValue":e=>o.visibility=e,name:o.name,error:r(i)[o.name],"onUpdate:error":e=>r(i)[o.name]=e},null,8,["modelValue","onUpdate:modelValue","name","error","onUpdate:error"])])])])]),default:a(()=>[o.children.length>0&&o.visibility?(d(),g("div",$,[(d(!0),g(E,null,M(o.children,e=>(d(),g("div",{class:"col-span-3 sm:col-span-1",key:e.name},[s(v,{reverse:"",modelValue:e.visibility,"onUpdate:modelValue":_=>e.visibility=_,name:e.name,label:e.label,error:r(i)[e.name],"onUpdate:error":_=>r(i)[e.name]=_},null,8,["modelValue","onUpdate:modelValue","name","label","error","onUpdate:error"])]))),128))])):q("",!0)]),_:2},1032,["class"])]),_:1},8,["list"])]),_:1},8,["form"])]),_:1})}}});export{J as default};
