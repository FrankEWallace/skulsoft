import{u as L,m as F,q as S,r as i,t as _,o as m,w as e,d as B,e as a,i as E,k as V,z as A,p as q,f as u,a as x,F as U,y as O,v as n,b as w,x as o}from"./app-Cvm44xuh.js";const z={class:"grid grid-cols-3 gap-6"},G={class:"col-span-3 sm:col-span-1"},J={__name:"Filter",emits:["hide"],setup(h,{emit:g}){L();const v=g,b={startDate:"",endDate:""},d=F({...b}),D=F({isLoaded:!0});return S(async()=>{D.isLoaded=!0}),(f,s)=>{const y=i("DatePicker"),l=i("FilterForm");return m(),_(l,{"init-form":b,form:d,multiple:[],onHide:s[2]||(s[2]=r=>v("hide"))},{default:e(()=>[B("div",z,[B("div",G,[a(y,{start:d.startDate,"onUpdate:start":s[0]||(s[0]=r=>d.startDate=r),end:d.endDate,"onUpdate:end":s[1]||(s[1]=r=>d.endDate=r),name:"dateBetween",as:"range",label:f.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},K={name:"RecruitmentApplicationList"},W=Object.assign(K,{setup(h){const g=E(),v=V("emitter");let b=["filter"];A("job-application:create")&&b.unshift("create");let d=[];A("job-application:export")&&(d=["print","pdf","excel"]);const D="recruitment/application/",f=q(!1),s=F({}),y=l=>{Object.assign(s,l)};return(l,r)=>{const I=i("PageHeaderAction"),M=i("PageHeader"),C=i("ParentTransition"),k=i("TextMuted"),N=i("BaseBadge"),c=i("DataCell"),$=i("FloatingMenuItem"),P=i("FloatingMenu"),T=i("DataRow"),j=i("DataTable"),H=i("ListItem");return m(),_(H,{"init-url":D,"additional-query":{},onSetItems:y},{header:e(()=>[a(M,{title:l.$trans("recruitment.application.application"),navs:[{label:l.$trans("recruitment.recruitment"),path:"Recruitment"}]},{default:e(()=>[a(I,{url:"recruitment/applications/",name:"RecruitmentApplication",title:l.$trans("recruitment.application.application"),actions:u(b),"dropdown-actions":u(d),onToggleFilter:r[0]||(r[0]=t=>f.value=!f.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[a(C,{appear:"",visibility:f.value},{default:e(()=>[a(J,{onRefresh:r[1]||(r[1]=t=>u(v).emit("listItems")),onHide:r[2]||(r[2]=t=>f.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[a(C,{appear:"",visibility:!0},{default:e(()=>[a(j,{header:s.headers,meta:s.meta,module:"recruitment.application",onRefresh:r[3]||(r[3]=t=>u(v).emit("listItems"))},{actionButton:e(()=>r[4]||(r[4]=[])),default:e(()=>[(m(!0),x(U,null,O(s.data,t=>(m(),_(T,{key:t.uuid,onDoubleClick:p=>u(g).push({name:"RecruitmentApplicationShow",params:{uuid:t.uuid}})},{default:e(()=>[a(c,{name:"vacancy"},{default:e(()=>{var p;return[n(o(((p=t.vacancy)==null?void 0:p.titleExcerpt)||"N/A")+" ",1),a(k,{block:""},{default:e(()=>{var R;return[n(o(((R=t.vacancy)==null?void 0:R.codeNumber)||"N/A"),1)]}),_:2},1024),t.isManual?(m(),_(N,{key:0,color:"primary"},{default:e(()=>[n(o(l.$trans("recruitment.application.manual")),1)]),_:1})):w("",!0)]}),_:2},1024),a(c,{name:"designation"},{default:e(()=>[n(o(t.designation.name),1)]),_:2},1024),a(c,{name:"applicant"},{default:e(()=>[n(o(t.contact.name)+" ",1),a(k,{block:""},{default:e(()=>[n(o(t.qualificationSummary),1)]),_:2},1024)]),_:2},1024),a(c,{name:"contact"},{default:e(()=>[n(o(t.contact.contactNumber)+" ",1),a(k,{block:""},{default:e(()=>[n(o(t.contact.email),1)]),_:2},1024)]),_:2},1024),a(c,{name:"address"},{default:e(()=>[n(o(t.contact.presentAddress.city)+" ",1),a(k,{block:""},{default:e(()=>[n(o(t.contact.presentAddress.state),1)]),_:2},1024)]),_:2},1024),a(c,{name:"applicationDate"},{default:e(()=>[n(o(t.applicationDate.formatted)+" ",1),a(k,{block:""},{default:e(()=>[n(o(t.availabilityDate.formatted),1)]),_:2},1024)]),_:2},1024),a(c,{name:"createdAt"},{default:e(()=>[n(o(t.createdAt.formatted),1)]),_:2},1024),a(c,{name:"action"},{default:e(()=>[a(P,null,{default:e(()=>[a($,{icon:"fas fa-arrow-circle-right",onClick:p=>u(g).push({name:"RecruitmentApplicationShow",params:{uuid:t.uuid}})},{default:e(()=>[n(o(l.$trans("general.show")),1)]),_:2},1032,["onClick"]),t.isEditable?(m(),_($,{key:0,icon:"fas fa-edit",onClick:p=>u(g).push({name:"RecruitmentApplicationEdit",params:{uuid:t.uuid}})},{default:e(()=>[n(o(l.$trans("general.edit")),1)]),_:2},1032,["onClick"])):w("",!0),u(A)("job-application:delete")?(m(),_($,{key:1,icon:"fas fa-trash",onClick:p=>u(v).emit("deleteItem",{uuid:t.uuid})},{default:e(()=>[n(o(l.$trans("general.delete")),1)]),_:2},1032,["onClick"])):w("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDoubleClick"]))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{W as default};
