import{j as O,u as U,i as q,I as E,p as N,c as S,m as w,r as s,a as d,o as u,e as o,w as l,d as A,t as C,b as I,f as m,v as c,x as f,F as L}from"./app-Cvm44xuh.js";const T={class:"space-y-6"},j={key:1},D={key:2},v="auth/user/",P={__name:"EmailOtp",setup(G){O();const _=U(),g=q(),i=E(v),a=N(!1),B=S(()=>a.value?"confirmOtp":"requestOtp"),p={method:"email",email:"",otp:""},n=w({...p}),k=()=>{a.value?(Object.assign(n,p),g.push(_.query.ref?_.query.ref:{name:"Dashboard"})):a.value=!0};return(r,e)=>{const V=s("GuestHeader"),b=s("BaseInput"),h=s("BaseLink"),y=s("BaseButton"),F=s("FormAction"),$=s("ParentTransition");return u(),d(L,null,[o(V,{label:r.$trans("auth.login.email_otp_login")},null,8,["label"]),o($,{appear:"",visibility:!0},{default:l(()=>[o(F,{"no-card":"","no-action-button":"","init-url":v,"init-form":p,form:n,action:B.value,"stay-on":"","after-submit":k},{default:l(()=>[A("div",T,[o(b,{type:"text","leading-icon":"fas fa-envelope",modelValue:n.email,"onUpdate:modelValue":e[0]||(e[0]=t=>n.email=t),name:"email",label:r.$trans("auth.password.props.email"),error:m(i).email,"onUpdate:error":e[1]||(e[1]=t=>m(i).email=t),readonly:a.value,autofocus:""},null,8,["modelValue","label","error","readonly"]),a.value?(u(),C(b,{key:0,type:"text","leading-icon":"fas fa-keyboard",modelValue:n.otp,"onUpdate:modelValue":e[2]||(e[2]=t=>n.otp=t),name:"otp",label:r.$trans("auth.login.props.otp"),error:m(i).otp,"onUpdate:error":e[3]||(e[3]=t=>m(i).otp=t)},null,8,["modelValue","label","error"])):I("",!0),o(h,{to:"Login"},{default:l(()=>[c(f(r.$trans("auth.login.login_title")),1)]),_:1}),a.value?(u(),d("div",j,[o(y,{type:"submit",block:""},{default:l(()=>[c(f(r.$trans("auth.login.verify_otp")),1)]),_:1})])):(u(),d("div",D,[o(y,{type:"submit",block:""},{default:l(()=>[c(f(r.$trans("auth.login.request_otp")),1)]),_:1})]))])]),_:1},8,["form","action"])]),_:1})],64)}}};export{P as default};
