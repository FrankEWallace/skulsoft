import{u as T,m as g,q as j,r as n,t as h,o as b,w as e,d as V,e as t,i as M,k as N,p as O,f as i,a as U,F as E,y as z,v as r,x as u,b as G}from"./app-Cvm44xuh.js";import{u as J}from"./useColumnVisibility-BfQRdpHQ.js";const K={class:"grid grid-cols-3 gap-6"},Q={class:"col-span-3 sm:col-span-1"},W={class:"col-span-3 sm:col-span-1"},X={class:"col-span-3 sm:col-span-1"},Y={__name:"Filter",props:{preRequisites:{type:Object,default(){return{}}}},emits:["hide"],setup(R,{emit:p}){T();const f=p,v=R,y={label:"",form:"",type:""},d=g({...y}),c=g({forms:v.preRequisites.forms,types:v.preRequisites.types}),C=g({isLoaded:!0});return j(async()=>{C.isLoaded=!0}),(m,l)=>{const F=n("BaseInput"),$=n("BaseSelect"),s=n("FilterForm");return b(),h(s,{"init-form":y,form:d,multiple:[],onHide:l[3]||(l[3]=o=>f("hide"))},{default:e(()=>[V("div",K,[V("div",Q,[t(F,{type:"text",modelValue:d.label,"onUpdate:modelValue":l[0]||(l[0]=o=>d.label=o),name:"label",label:m.$trans("custom_field.props.label")},null,8,["modelValue","label"])]),V("div",W,[t($,{modelValue:d.form,"onUpdate:modelValue":l[1]||(l[1]=o=>d.form=o),name:"form",label:m.$trans("custom_field.props.form"),options:c.forms},null,8,["modelValue","label","options"])]),V("div",X,[t($,{modelValue:d.type,"onUpdate:modelValue":l[2]||(l[2]=o=>d.type=o),name:"type",label:m.$trans("custom_field.props.type"),options:c.types},null,8,["modelValue","label","options"])])])]),_:1},8,["form"])}}},Z={name:"CustomFieldList"},te=Object.assign(Z,{setup(R){const p=M(),f=N("emitter");let v=["create","filter"],y=["print","pdf","excel"];const d="customField/",c=O(!1),C=g({forms:[],types:[]}),m=g({}),{applyVisibility:l}=J("CustomField"),F=s=>{s.headers=l(s.headers),Object.assign(m,s)},$=s=>{Object.assign(C,s)};return(s,o)=>{const w=n("PageHeaderAction"),D=n("PageHeader"),q=n("ParentTransition"),_=n("DataCell"),I=n("BaseBadge"),k=n("FloatingMenuItem"),P=n("FloatingMenu"),S=n("DataRow"),A=n("BaseButton"),H=n("DataTable"),L=n("ListItem");return b(),h(L,{"pre-requisites":!0,onSetPreRequisites:$,"init-url":d,onSetItems:F},{header:e(()=>[t(D,{title:s.$trans("custom_field.custom_field"),navs:[]},{default:e(()=>[t(w,{url:"custom-fields/",name:"CustomField",title:s.$trans("custom_field.custom_field"),actions:i(v),"dropdown-actions":i(y),headers:m.headers,onToggleFilter:o[0]||(o[0]=a=>c.value=!c.value)},null,8,["title","actions","dropdown-actions","headers"])]),_:1},8,["title"])]),filter:e(()=>[t(q,{appear:"",visibility:c.value},{default:e(()=>[t(Y,{"pre-requisites":C,onRefresh:o[1]||(o[1]=a=>i(f).emit("listItems")),onHide:o[2]||(o[2]=a=>c.value=!1)},null,8,["pre-requisites"])]),_:1},8,["visibility"])]),default:e(()=>[t(q,{appear:"",visibility:!0},{default:e(()=>[t(H,{header:m.headers,meta:m.meta,module:"custom_field",onRefresh:o[4]||(o[4]=a=>i(f).emit("listItems"))},{actionButton:e(()=>[t(A,{onClick:o[3]||(o[3]=a=>i(p).push({name:"CustomFieldCreate"}))},{default:e(()=>[r(u(s.$trans("global.add",{attribute:s.$trans("custom_field.custom_field")})),1)]),_:1})]),default:e(()=>[(b(!0),U(E,null,z(m.data,a=>(b(),h(S,{key:a.uuid,onDoubleClick:B=>i(p).push({name:"CustomFieldShow",params:{uuid:a.uuid}})},{default:e(()=>[t(_,{name:"form"},{default:e(()=>[r(u(a.form.label),1)]),_:2},1024),t(_,{name:"type"},{default:e(()=>[r(u(a.type.label),1)]),_:2},1024),t(_,{name:"label"},{default:e(()=>[r(u(a.label)+" ",1),a.isRequired?(b(),h(I,{key:0,design:"primary"},{default:e(()=>[r(u(s.$trans("custom_field.props.required")),1)]),_:1})):G("",!0)]),_:2},1024),t(_,{name:"createdAt"},{default:e(()=>[r(u(a.createdAt.formatted),1)]),_:2},1024),t(_,{name:"action"},{default:e(()=>[t(P,null,{default:e(()=>[t(k,{icon:"fas fa-arrow-circle-right",onClick:B=>i(p).push({name:"CustomFieldShow",params:{uuid:a.uuid}})},{default:e(()=>[r(u(s.$trans("general.show")),1)]),_:2},1032,["onClick"]),t(k,{icon:"fas fa-edit",onClick:B=>i(p).push({name:"CustomFieldEdit",params:{uuid:a.uuid}})},{default:e(()=>[r(u(s.$trans("general.edit")),1)]),_:2},1032,["onClick"]),t(k,{icon:"fas fa-copy",onClick:B=>i(p).push({name:"CustomFieldDuplicate",params:{uuid:a.uuid}})},{default:e(()=>[r(u(s.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),t(k,{icon:"fas fa-trash",onClick:B=>i(f).emit("deleteItem",{uuid:a.uuid})},{default:e(()=>[r(u(s.$trans("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDoubleClick"]))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{te as default};
