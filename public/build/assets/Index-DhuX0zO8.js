import{u as ie,i as Ne,j as ue,I as de,m as Y,q as Ce,r as V,t as C,o as l,w as s,d as c,b as p,e as r,f as e,J as ke,k as me,p as se,a as y,v as m,x as o,F as A,z as X,M as De,D as Ue,y as ae,H as ce,L as Se,E as Ge,c as ye,A as xe,C as ne,B as je,n as Ve,aq as Le,N as ze}from"./app-Cvm44xuh.js";import{f as Fe}from"./currency-B2avElsq.js";import{_ as We}from"./OnlinePaymentForm-BQ6YFZrI.js";import"./Billdesk-CjG2zd7T.js";const Je={class:"mt-6 grid grid-cols-3 gap-4"},Ke={class:"col-span-3 sm:col-span-1"},Qe={class:"col-span-3 sm:col-span-1"},Xe={class:"col-span-3 sm:col-span-1"},Ye={class:"col-span-3 sm:col-span-1"},Ze={class:"col-span-3"},et={name:"StudentFeeEditPayment"},tt=Object.assign(et,{props:{transaction:{type:Object,default(){return{}}},preRequisites:{type:Object,default(){return{}}}},emits:["close","refresh"],setup(d,{emit:te}){const Q=ie();Ne(),ue();const z=te,M=d,k={date:"",codeNumber:"",ledger:"",paymentMethod:"",instrumentNumber:"",instrumentDate:"",clearingDate:"",bankDetail:"",referenceNumber:"",remarks:""},a="student/payment/",D=de(a),b=Y({selectedPaymentMethod:{}}),f=Y({...k}),i=F=>{f.paymentMethod=F?F.uuid:{},b.selectedPaymentMethod=F||{}},j=()=>{b.selectedPaymentMethod={},z("close"),z("refresh")};return Ce(()=>{var G,B,g;let F=M.transaction,u=F.payments[0];k.codeNumber=F.codeNumber,k.date=(G=F.date)==null?void 0:G.value,k.ledger=u.ledgerUuid,k.paymentMethod=u.methodUuid,k.instrumentNumber=u.instrumentNumber||"",k.instrumentDate=((B=u.instrumentDate)==null?void 0:B.value)||"",k.clearingDate=((g=u.clearingDate)==null?void 0:g.value)||"",k.bankDetail=u.bankDetail||"",k.referenceNumber=u.referenceNumber||"",k.remarks=F.remarks,b.selectedPaymentMethod={uuid:u.methodUuid,name:u.methodName,hasBankDetail:u.hasBankDetail,hasInstrumentNumber:u.hasInstrumentNumber,hasInstrumentDate:u.hasInstrumentDate,hasClearingDate:u.hasClearingDate,hasReferenceNumber:u.hasReferenceNumber},Object.assign(f,k)}),(F,u)=>{const G=V("BaseInput"),B=V("DatePicker"),g=V("BaseSelect"),I=V("PaymentMethodInput"),w=V("BaseTextarea"),v=V("FormAction");return l(),C(v,{"no-card":"","no-data-fetch":"","is-modal":"",confirmation:"",uuid:e(Q).params.uuid,"module-uuid":d.transaction.uuid,action:"updatePayment","init-url":a,"init-form":k,form:f,"keep-adding":!1,"cancel-action":!1,"submit-text":F.$trans("global.update",{attribute:F.$trans("student.payment.payment")}),onRedirectTo:j,onCancelled:j},{default:s(()=>[c("div",Je,[c("div",Ke,[r(G,{modelValue:f.codeNumber,"onUpdate:modelValue":u[0]||(u[0]=n=>f.codeNumber=n),name:"codeNumber",label:F.$trans("finance.transaction.props.code_number"),error:e(D).codeNumber,"onUpdate:error":u[1]||(u[1]=n=>e(D).codeNumber=n)},null,8,["modelValue","label","error"])]),c("div",Qe,[r(B,{modelValue:f.date,"onUpdate:modelValue":u[2]||(u[2]=n=>f.date=n),name:"date","no-clear":"",label:F.$trans("student.fee.props.date"),error:e(D).date,"onUpdate:error":u[3]||(u[3]=n=>e(D).date=n)},null,8,["modelValue","label","error"])]),c("div",Xe,[r(g,{modelValue:f.ledger,"onUpdate:modelValue":u[4]||(u[4]=n=>f.ledger=n),name:"ledger",label:F.$trans("finance.ledger.ledger"),options:d.preRequisites.ledgers,"label-prop":"name","value-prop":"uuid",error:e(D).ledger,"onUpdate:error":u[5]||(u[5]=n=>e(D).ledger=n)},null,8,["modelValue","label","options","error"])]),c("div",Ye,[r(g,{modelValue:b.selectedPaymentMethod,"onUpdate:modelValue":u[6]||(u[6]=n=>b.selectedPaymentMethod=n),name:"paymentMethod",label:F.$trans("finance.payment_method.payment_method"),options:d.preRequisites.paymentMethods,"object-prop":!0,"label-prop":"name","value-prop":"uuid",error:e(D).paymentMethod,"onUpdate:error":u[7]||(u[7]=n=>e(D).paymentMethod=n),onChange:i},null,8,["modelValue","label","options","error"])]),b.selectedPaymentMethod?(l(),C(I,{key:0,"selected-payment-method":b.selectedPaymentMethod,instrumentNumber:f.instrumentNumber,"onUpdate:instrumentNumber":u[8]||(u[8]=n=>f.instrumentNumber=n),instrumentDate:f.instrumentDate,"onUpdate:instrumentDate":u[9]||(u[9]=n=>f.instrumentDate=n),clearingDate:f.clearingDate,"onUpdate:clearingDate":u[10]||(u[10]=n=>f.clearingDate=n),bankDetail:f.bankDetail,"onUpdate:bankDetail":u[11]||(u[11]=n=>f.bankDetail=n),referenceNumber:f.referenceNumber,"onUpdate:referenceNumber":u[12]||(u[12]=n=>f.referenceNumber=n),formErrors:e(D),"onUpdate:formErrors":u[13]||(u[13]=n=>ke(D)?D.value=n:null)},null,8,["selected-payment-method","instrumentNumber","instrumentDate","clearingDate","bankDetail","referenceNumber","formErrors"])):p("",!0),c("div",Ze,[r(w,{rows:1,modelValue:f.remarks,"onUpdate:modelValue":u[14]||(u[14]=n=>f.remarks=n),name:"remarks",label:F.$trans("student.payment.props.remarks"),error:e(D).remarks,"onUpdate:error":u[15]||(u[15]=n=>e(D).remarks=n)},null,8,["modelValue","label","error"])])])]),_:1},8,["uuid","module-uuid","form","submit-text"])}}}),at={key:0,class:"mb-4"},nt={class:"grid grid-cols-1 sm:grid-cols-3 gap-x-4 gap-y-8"},st={class:"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-x-4 gap-y-8"},lt={class:"mt-6 grid grid-cols-1 sm:grid-cols-3 gap-4"},ot={class:"col-span-3"},rt={class:"col-span-3 sm:col-span-1"},it={class:"col-span-3 sm:col-span-1"},ut={class:"col-span-3 sm:col-span-1"},dt={class:"col-span-3"},mt={key:1,class:"col-span-3"},ct={key:3,class:"mt-8 flex justify-between"},ft={class:"flex space-x-2 sm:space-x-4"},pt={class:"flex space-x-2 sm:space-x-4"},bt={name:"StudentFeePaymentDetail"},gt=Object.assign(bt,{props:{visibility:{type:Boolean,default:!1},transaction:{type:Object,default(){return{}}},preRequisites:{type:Object,default(){return{}}}},emits:["close","refresh"],setup(d,{emit:te}){const Q=ie(),z=ue(),M=te,k=d,a=me("$trans"),D={isRejected:!1,rejectedDate:"",rejectionCharge:"",customFeeHead:"",rejectionRemarks:"",cancellationRemarks:""},b="student/payment/",f=de(b),i=se(!1),j=se(!1),F=se(!1);Y({});const u=Y({isPaymentPreRequisiteSet:!1}),G=Y({paymentMethods:[],ledgers:[]}),B=Y({...D}),g=()=>{M("close")},I=async()=>{u.isPaymentPreRequisiteSet||await w(),j.value=!0},w=async()=>{i.value=!0,await z.dispatch("student/payment/preRequisite",{uuid:Q.params.uuid}).then(t=>{Object.assign(G,t),u.isPaymentPreRequisiteSet=!0,i.value=!1}).catch(t=>{i.value=!1})},v=()=>{window.open(`/app/students/${Q.params.uuid}/transactions/${k.transaction.uuid}/export?action=print`)},n=()=>{j.value=!1,F.value=!1,Object.assign(B,D),M("close"),M("refresh")};return(t,h)=>{const q=V("BaseBadge"),Z=V("BaseAlert"),J=V("BaseDataView"),R=V("PaymentMethodDetail"),le=V("BaseSwitch"),oe=V("DatePicker"),re=V("BaseInput"),U=V("BaseSelect"),S=V("BaseTextarea"),K=V("FormAction"),$=V("BaseButton"),W=V("BaseModal");return d.transaction.uuid?(l(),C(W,{key:0,"is-loading":i.value,show:d.visibility,onClose:g},{title:s(()=>[m(o(e(a)("global.detail",{attribute:e(a)("student.payment.payment")}))+" ",1),d.transaction.isCancelled?(l(),C(q,{key:0,design:"danger"},{default:s(()=>[m(o(e(a)("general.cancelled")),1)]),_:1})):p("",!0),d.transaction.isRejected?(l(),C(q,{key:1,design:"warning"},{default:s(()=>[m(o(e(a)("general.rejected")),1)]),_:1})):p("",!0)]),default:s(()=>[d.transaction.records.length>1?(l(),y("div",at,[r(Z,{size:"xs",design:"info"},{default:s(()=>[m(o(e(a)("student.fee.multi_installment_payment_info")),1)]),_:1})])):p("",!0),c("dl",nt,[r(J,{label:e(a)("finance.transaction.props.code_number")},{default:s(()=>[m(o(d.transaction.codeNumber),1)]),_:1},8,["label"]),r(J,{label:e(a)("finance.transaction.props.date")},{default:s(()=>[m(o(d.transaction.date.formatted),1)]),_:1},8,["label"]),r(J,{label:e(a)("finance.transaction.props.amount")},{default:s(()=>[m(o(d.transaction.amount.formatted),1)]),_:1},8,["label"]),r(J,{label:e(a)("finance.payment_method.payment_method")},{default:s(()=>[r(R,{payments:d.transaction.payments},null,8,["payments"])]),_:1},8,["label"])]),c("dl",st,[d.transaction.remarks?(l(),C(J,{key:0,label:e(a)("student.payment.props.remarks"),class:"col-span-1 sm:col-span-3"},{default:s(()=>[m(o(d.transaction.remarks),1)]),_:1},8,["label"])):p("",!0),d.transaction.isRejected?(l(),y(A,{key:1},[r(J,{label:e(a)("finance.transaction.props.rejected_date")},{default:s(()=>[m(o(d.transaction.rejectedDate.formatted),1)]),_:1},8,["label"]),r(J,{label:e(a)("finance.transaction.props.rejection_charge")},{default:s(()=>[m(o(d.transaction.rejectionCharge.formatted),1)]),_:1},8,["label"]),r(J,{label:e(a)("finance.transaction.props.rejection_remarks"),class:"col-span-1 sm:col-span-3"},{default:s(()=>[m(o(d.transaction.rejectionRemarks),1)]),_:1},8,["label"])],64)):p("",!0),d.transaction.cancellationRemarks?(l(),C(J,{key:2,label:e(a)("finance.transaction.props.cancellation_remarks"),class:"col-span-1 sm:col-span-3"},{default:s(()=>[m(o(d.transaction.cancellationRemarks),1)]),_:1},8,["label"])):p("",!0),r(J,{label:e(a)("user.user")},{default:s(()=>[m(o(d.transaction.userName),1)]),_:1},8,["label"]),r(J,{label:e(a)("general.created_at")},{default:s(()=>[m(o(d.transaction.createdAt.formatted),1)]),_:1},8,["label"]),r(J,{label:e(a)("general.updated_at")},{default:s(()=>[m(o(d.transaction.updatedAt.formatted),1)]),_:1},8,["label"])]),F.value?(l(),C(K,{key:1,"no-card":"","no-data-fetch":"","is-modal":"",confirmation:"",uuid:e(Q).params.uuid,"module-uuid":d.transaction.uuid,action:"cancelPayment","init-url":b,"init-form":D,form:B,"keep-adding":!1,"cancel-action":!1,"submit-text":e(a)("global.cancel",{attribute:e(a)("student.payment.payment")}),onRedirectTo:n,onCancelled:h[12]||(h[12]=N=>F.value=!1)},{default:s(()=>[c("div",lt,[c("div",ot,[r(le,{vertical:"",modelValue:B.isRejected,"onUpdate:modelValue":h[0]||(h[0]=N=>B.isRejected=N),name:"isRejected",label:e(a)("finance.transaction.props.payment_rejected"),error:e(f).isRejected,"onUpdate:error":h[1]||(h[1]=N=>e(f).isRejected=N)},null,8,["modelValue","label","error"])]),B.isRejected?(l(),y(A,{key:0},[c("div",rt,[r(oe,{modelValue:B.rejectedDate,"onUpdate:modelValue":h[2]||(h[2]=N=>B.rejectedDate=N),name:"rejectedDate",label:e(a)("finance.transaction.props.rejected_date"),"no-clear":"",error:e(f).rejectedDate,"onUpdate:error":h[3]||(h[3]=N=>e(f).rejectedDate=N)},null,8,["modelValue","label","error"])]),c("div",it,[r(re,{currency:"",modelValue:B.rejectionCharge,"onUpdate:modelValue":h[4]||(h[4]=N=>B.rejectionCharge=N),name:"rejectionCharge",label:e(a)("finance.transaction.props.rejection_charge"),error:e(f).rejectionCharge,"onUpdate:error":h[5]||(h[5]=N=>e(f).rejectionCharge=N)},null,8,["modelValue","label","error"])]),c("div",ut,[r(U,{modelValue:B.customFeeHead,"onUpdate:modelValue":h[6]||(h[6]=N=>B.customFeeHead=N),name:"customFeeHead",label:e(a)("student.fee.custom_fee"),"label-prop":"name","value-prop":"uuid",options:d.preRequisites.customFeeHeads,error:e(f).customFeeHead,"onUpdate:error":h[7]||(h[7]=N=>e(f).customFeeHead=N)},null,8,["modelValue","label","options","error"])]),c("div",dt,[r(S,{modelValue:B.rejectionRemarks,"onUpdate:modelValue":h[8]||(h[8]=N=>B.rejectionRemarks=N),name:"rejectionRemarks",label:e(a)("finance.transaction.props.rejection_remarks"),error:e(f).rejectionRemarks,"onUpdate:error":h[9]||(h[9]=N=>e(f).rejectionRemarks=N)},null,8,["modelValue","label","error"])])],64)):(l(),y("div",mt,[r(S,{modelValue:B.cancellationRemarks,"onUpdate:modelValue":h[10]||(h[10]=N=>B.cancellationRemarks=N),name:"cancellationRemarks",label:e(a)("finance.transaction.props.cancellation_remarks"),error:e(f).cancellationRemarks,"onUpdate:error":h[11]||(h[11]=N=>e(f).cancellationRemarks=N)},null,8,["modelValue","label","error"])]))])]),_:1},8,["uuid","module-uuid","form","submit-text"])):p("",!0),j.value?(l(),C(tt,{key:2,transaction:d.transaction,"pre-requisites":G,onClose:h[13]||(h[13]=N=>j.value=!1),onRefresh:n},null,8,["transaction","pre-requisites"])):p("",!0),!F.value&&!j.value?(l(),y("div",ct,[c("div",ft,[e(X)("fee:cancel-payment")&&!d.transaction.isCancelled&&!d.transaction.isRejected&&!d.transaction.isOnline?(l(),C($,{key:0,design:"danger",onClick:h[14]||(h[14]=N=>F.value=!0)},{default:s(()=>[m(o(e(a)("global.cancel",{attribute:e(a)("student.payment.payment")})),1)]),_:1})):p("",!0)]),c("div",pt,[d.transaction.isEditable&&e(X)("fee:edit-payment")?(l(),C($,{key:0,design:"primary",onClick:I},{default:s(()=>[m(o(e(a)("general.edit")),1)]),_:1})):p("",!0),r($,{design:"success",onClick:v},{default:s(()=>[m(o(e(a)("general.print")),1)]),_:1})])])):p("",!0)]),_:1},8,["is-loading","show"])):p("",!0)}}}),yt={class:"grid grid-cols-1 sm:grid-cols-3 gap-x-4 gap-y-8 mb-4"},kt={class:"grid grid-cols-3 gap-4"},ht={class:"col-span-3 sm:col-span-1"},vt={key:0,class:"far fa-check-circle text-success"},_t={key:1,class:"far fa-times-circle text-danger"},$t={key:0,class:"col-span-3 sm:col-span-1"},Vt={key:1,class:"col-span-3 sm:col-span-1"},Ct={class:"mt-4 grid grid-cols-3 gap-4"},Dt={class:"col-span-3 sm:col-span-1"},Ut={class:"col-span-3 sm:col-span-1"},Ft={class:"mt-4 grid grid-cols-3 gap-4"},wt={class:"col-span-3 sm:col-span-1"},Bt={class:"col-span-3 sm:col-span-1"},Pt={class:"mt-4 grid grid-cols-3 gap-4"},Mt={class:"col-span-3 sm:col-span-1"},jt={class:"col-span-3 sm:col-span-1"},Nt={class:"mt-4 grid grid-cols-3 gap-4"},St={class:"col-span-3 sm:col-span-1"},Rt={class:"col-span-3 sm:col-span-1"},Tt={class:"col-span-3 sm:col-span-1"},At={class:"col-span-3"},It={name:"StudentFeePaymentForm"},qt=Object.assign(It,{props:{visibility:{type:Boolean,default:!1},date:{type:Object,default(){return{}}},fee:{type:Object,default(){return{}}},feeGroup:{type:Object,default(){return{}}},fees:{type:Array,default(){return[]}},feeHead:{type:Object,default(){return{}}},preRequisites:{type:Object,default(){return{}}}},emits:["close","completed"],setup(d,{emit:te}){const Q=ie(),z=ue(),M=te,k=d,a={codeNumber:"",feeHead:null,feeGroup:null,feeInstallments:[],feeInstallment:null,additionalCharges:[],additionalDiscounts:[],date:"",lateFee:0,amount:"",ledger:"",paymentMethod:"",instrumentNumber:"",instrumentDate:"",clearingDate:"",bankDetail:"",referenceNumber:"",remarks:""},D="student/payment/",b=de(D),f=Y({initialAmount:0,showAdditionalCharge:!1,showAdditionalDiscount:!1,selectedPaymentMethod:{},disableVoucherNumber:!0,multipleInstallmentTitle:""}),i=Y({...a}),j=w=>{i.paymentMethod=w?w.uuid:{},f.selectedPaymentMethod=w||{}},F=()=>{G(),M("close")},u=()=>{G(),M("completed")},G=()=>{a.lateFee=0,a.date="",a.feeGroup=null,a.feeHead=null,a.feeInstallment=null,a.feeInstallments=[],a.amount="",f.selectedPaymentMethod={},f.showAdditionalCharge=!1,f.showAdditionalDiscount=!1,Object.assign(i,a),z.dispatch(D+"resetFormErrors")},B=w=>{let v=parseFloat(f.initialAmount);i.lateFee&&(v+=parseFloat(i.lateFee)),i.additionalCharges.forEach(n=>{n.amount&&(v+=parseFloat(n.amount))}),i.additionalDiscounts.forEach(n=>{n.amount&&(v-=parseFloat(n.amount))}),i.amount=v},g=()=>{f.selectedPaymentMethod={},I(),Object.assign(i,a)},I=()=>{a.additionalCharges=[],a.additionalCharges.push({uuid:ce(),label:"",amount:0}),a.additionalDiscounts=[],a.additionalDiscounts.push({uuid:ce(),label:"",amount:0})};return De(()=>{var w,v,n;if(k.feeGroup.uuid){a.feeGroup=k.feeGroup.uuid;let t=k.feeGroup.lateFee.value;t>0&&(a.lateFee=t),a.amount=k.feeGroup.balance.value}else if(k.feeHead.uuid)a.feeHead=k.feeHead.uuid,a.amount=k.feeHead.balance.value;else if(k.fee.uuid){a.feeInstallment=k.fee.uuid;let t=((v=(w=k.fee.lateFee)==null?void 0:w.amount)==null?void 0:v.value)||0;t>0&&(a.lateFee=t),a.amount=k.fee.balance.value}else if(k.fees.length>0){a.feeInstallments=k.fees.map(h=>h.uuid),a.amount=k.fees.reduce((h,q)=>h+q.balance.value,0);let t=k.fees.reduce((h,q)=>{var Z,J;return h+(((J=(Z=q.lateFee)==null?void 0:Z.amount)==null?void 0:J.value)||0)},0);a.lateFee=t,f.multipleInstallmentTitle=k.fees.map(h=>h.installment.title).join(", ")}f.initialAmount=a.amount-a.lateFee,a.date=(n=k.date)==null?void 0:n.value,I(),Object.assign(i,a)}),Ue(()=>{G()}),(w,v)=>{const n=V("BaseDataView"),t=V("BaseInput"),h=V("DatePicker"),q=V("BaseSwitch"),Z=V("BaseFieldset"),J=V("BaseSelect"),R=V("PaymentMethodInput"),le=V("BaseTextarea"),oe=V("FormAction"),re=V("BaseModal");return l(),C(re,{show:d.visibility,onClose:F},{title:s(()=>[m(o(w.$trans("global.pay",{attribute:w.$trans("student.fee.fee")})),1)]),default:s(()=>[c("dl",yt,[r(n,{label:w.$trans("general.date")},{default:s(()=>[m(o(d.date.formatted),1)]),_:1},8,["label"]),d.feeGroup.uuid?(l(),y(A,{key:0},[r(n,{label:w.$trans("finance.fee_group.fee_group")},{default:s(()=>[m(o(d.feeGroup.name),1)]),_:1},8,["label"]),r(n,{label:w.$trans("finance.fee.balance")},{default:s(()=>[m(o(d.feeGroup.balance.formatted),1)]),_:1},8,["label"])],64)):d.feeHead.uuid?(l(),y(A,{key:1},[r(n,{label:w.$trans("finance.fee_head.fee_head")},{default:s(()=>[m(o(d.feeHead.name),1)]),_:1},8,["label"]),r(n,{label:w.$trans("finance.fee.balance")},{default:s(()=>[m(o(d.feeHead.balance.formatted),1)]),_:1},8,["label"])],64)):d.fee.uuid?(l(),y(A,{key:2},[r(n,{label:w.$trans("finance.fee_structure.installment")},{default:s(()=>[m(o(d.fee.installment.title),1)]),_:1},8,["label"]),r(n,{label:w.$trans("finance.fee.balance")},{default:s(()=>[m(o(d.fee.balance.formatted),1)]),_:1},8,["label"])],64)):d.fees.length>0?(l(),y(A,{key:3},[r(n,{label:w.$trans("finance.fee_structure.installment")},{default:s(()=>[m(o(f.multipleInstallmentTitle),1)]),_:1},8,["label"]),r(n,{label:w.$trans("finance.fee.balance")},{default:s(()=>[m(o(e(Fe)(i.amount)),1)]),_:1},8,["label"])],64)):p("",!0)]),r(oe,{"no-card":"","no-data-fetch":"","is-modal":"",uuid:e(Q).params.uuid,action:"makePayment","init-url":D,"init-form":a,form:i,"keep-adding":!1,"cancel-action":!0,"after-reset":g,onRedirectTo:u,onCancelled:F},{default:s(()=>[c("div",kt,[c("div",ht,[r(t,{disabled:f.disableVoucherNumber,modelValue:i.codeNumber,"onUpdate:modelValue":v[1]||(v[1]=U=>i.codeNumber=U),name:"codeNumber",label:w.$trans("finance.transaction.props.code_number"),error:e(b).codeNumber,"onUpdate:error":v[2]||(v[2]=U=>e(b).codeNumber=U)},{"additional-label":s(()=>[c("span",{onClick:v[0]||(v[0]=U=>f.disableVoucherNumber=!f.disableVoucherNumber),class:"cursor-pointer"},[f.disableVoucherNumber?(l(),y("i",vt)):(l(),y("i",_t))])]),_:1},8,["disabled","modelValue","label","error"])]),e(X)("fee:change-payment-date")?(l(),y("div",$t,[r(h,{modelValue:i.date,"onUpdate:modelValue":v[3]||(v[3]=U=>i.date=U),name:"date","no-clear":"",label:w.$trans("student.fee.props.date"),error:e(b).date,"onUpdate:error":v[4]||(v[4]=U=>e(b).date=U)},null,8,["modelValue","label","error"])])):p("",!0),e(X)("fee:customize-late-fee")?(l(),y("div",Vt,[r(t,{modelValue:i.lateFee,"onUpdate:modelValue":v[5]||(v[5]=U=>i.lateFee=U),name:"lateFee",currency:"",label:w.$trans("finance.fee.default_fee_heads.late_fee"),error:e(b).lateFee,"onUpdate:error":v[6]||(v[6]=U=>e(b).lateFee=U),onChange:B},null,8,["modelValue","label","error"])])):p("",!0)]),c("div",Ct,[c("div",Dt,[r(q,{vertical:"",modelValue:f.showAdditionalCharge,"onUpdate:modelValue":v[7]||(v[7]=U=>f.showAdditionalCharge=U),name:"showAdditionalCharge",label:w.$trans("global.show",{attribute:w.$trans("student.fee.props.additional_charge")})},null,8,["modelValue","label"])]),c("div",Ut,[r(q,{vertical:"",modelValue:f.showAdditionalDiscount,"onUpdate:modelValue":v[8]||(v[8]=U=>f.showAdditionalDiscount=U),name:"showAdditionalDiscount",label:w.$trans("global.show",{attribute:w.$trans("student.fee.props.additional_discount")})},null,8,["modelValue","label"])])]),f.showAdditionalCharge?(l(!0),y(A,{key:0},ae(i.additionalCharges,(U,S)=>(l(),C(Z,{class:"mt-4",key:U.uuid},{legend:s(()=>[m(o(w.$trans("student.fee.props.additional_charge")),1)]),default:s(()=>[c("div",Ft,[c("div",wt,[r(t,{modelValue:U.label,"onUpdate:modelValue":K=>U.label=K,name:`additionalCharges.${S}.label`,label:w.$trans("student.fee.props.additional_charge_label"),error:e(b)[`additionalCharges.${S}.label`],"onUpdate:error":K=>e(b)[`additionalCharges.${S}.label`]=K},null,8,["modelValue","onUpdate:modelValue","name","label","error","onUpdate:error"])]),c("div",Bt,[r(t,{modelValue:U.amount,"onUpdate:modelValue":K=>U.amount=K,name:`additionalCharges.${S}.amount`,label:w.$trans("student.fee.props.additional_charge_amount"),currency:"",onChange:B,error:e(b)[`additionalCharges.${S}.amount`],"onUpdate:error":K=>e(b)[`additionalCharges.${S}.amount`]=K},null,8,["modelValue","onUpdate:modelValue","name","label","error","onUpdate:error"])])])]),_:2},1024))),128)):p("",!0),f.showAdditionalDiscount?(l(!0),y(A,{key:1},ae(i.additionalDiscounts,(U,S)=>(l(),C(Z,{class:"mt-4",key:U.uuid},{legend:s(()=>[m(o(w.$trans("student.fee.props.additional_discount")),1)]),default:s(()=>[c("div",Pt,[c("div",Mt,[r(t,{modelValue:U.label,"onUpdate:modelValue":K=>U.label=K,name:`additionalDiscounts.${S}.label`,label:w.$trans("student.fee.props.additional_discount_label"),error:e(b)[`additionalDiscounts.${S}.label`],"onUpdate:error":K=>e(b)[`additionalDiscounts.${S}.label`]=K},null,8,["modelValue","onUpdate:modelValue","name","label","error","onUpdate:error"])]),c("div",jt,[r(t,{modelValue:U.amount,"onUpdate:modelValue":K=>U.amount=K,name:`additionalDiscounts.${S}.amount`,label:w.$trans("student.fee.props.additional_discount_amount"),currency:"",onChange:B,error:e(b)[`additionalDiscounts.${S}.amount`],"onUpdate:error":K=>e(b)[`additionalDiscounts.${S}.amount`]=K},null,8,["modelValue","onUpdate:modelValue","name","label","error","onUpdate:error"])])])]),_:2},1024))),128)):p("",!0),c("div",Nt,[c("div",St,[r(t,{disabled:!e(X)("fee:partial-payment")||k.fees.length>0,modelValue:i.amount,"onUpdate:modelValue":v[9]||(v[9]=U=>i.amount=U),name:"amount",label:w.$trans("student.fee.props.amount"),currency:"",error:e(b).amount,"onUpdate:error":v[10]||(v[10]=U=>e(b).amount=U)},null,8,["disabled","modelValue","label","error"])]),c("div",Rt,[r(J,{modelValue:i.ledger,"onUpdate:modelValue":v[11]||(v[11]=U=>i.ledger=U),name:"ledger",label:w.$trans("finance.ledger.ledger"),options:d.preRequisites.ledgers,"label-prop":"name","value-prop":"uuid",error:e(b).ledger,"onUpdate:error":v[12]||(v[12]=U=>e(b).ledger=U)},null,8,["modelValue","label","options","error"])]),c("div",Tt,[r(J,{modelValue:f.selectedPaymentMethod,"onUpdate:modelValue":v[13]||(v[13]=U=>f.selectedPaymentMethod=U),name:"paymentMethod",label:w.$trans("finance.payment_method.payment_method"),options:d.preRequisites.paymentMethods,"object-prop":!0,"label-prop":"name","value-prop":"uuid",error:e(b).paymentMethod,"onUpdate:error":v[14]||(v[14]=U=>e(b).paymentMethod=U),onChange:j},null,8,["modelValue","label","options","error"])]),f.selectedPaymentMethod?(l(),C(R,{key:0,"selected-payment-method":f.selectedPaymentMethod,instrumentNumber:i.instrumentNumber,"onUpdate:instrumentNumber":v[15]||(v[15]=U=>i.instrumentNumber=U),instrumentDate:i.instrumentDate,"onUpdate:instrumentDate":v[16]||(v[16]=U=>i.instrumentDate=U),clearingDate:i.clearingDate,"onUpdate:clearingDate":v[17]||(v[17]=U=>i.clearingDate=U),bankDetail:i.bankDetail,"onUpdate:bankDetail":v[18]||(v[18]=U=>i.bankDetail=U),referenceNumber:i.referenceNumber,"onUpdate:referenceNumber":v[19]||(v[19]=U=>i.referenceNumber=U),formErrors:e(b),"onUpdate:formErrors":v[20]||(v[20]=U=>ke(b)?b.value=U:null)},null,8,["selected-payment-method","instrumentNumber","instrumentDate","clearingDate","bankDetail","referenceNumber","formErrors"])):p("",!0),c("div",At,[r(le,{rows:1,modelValue:i.remarks,"onUpdate:modelValue":v[21]||(v[21]=U=>i.remarks=U),name:"remarks",label:w.$trans("student.payment.props.remarks"),error:e(b).remarks,"onUpdate:error":v[22]||(v[22]=U=>e(b).remarks=U)},null,8,["modelValue","label","error"])])])]),_:1},8,["uuid","form"])]),_:1},8,["show"])}}}),Ot={class:"grid grid-cols-2 gap-4"},Et={class:"col-span-2 sm:col-span-1"},Ht={class:"text-sm dark:text-gray-400"},Gt={class:"col-span-2 sm:col-span-1"},xt={class:"col-span-2"},Lt={class:"dark:text-gray-400"},zt={class:"col-span-2"},Wt={name:"StudentFeeCustomConcessionForm"},Jt=Object.assign(Wt,{props:{visibility:{type:Boolean,required:!0},fee:{type:Object,required:!0}},emits:["close","refresh"],setup(d,{emit:te}){const Q=ie(),z=d,M=te,k="student/fee/",a=de(k),D={fee:"",heads:[],applyToAllInstallments:!1,remarks:""};Y({});const b=Y({...D}),f=()=>{M("close")},i=()=>{D.heads=[],Object.assign(b,D),f(),M("refresh")},j=()=>{D.heads=[],D.fee=z.fee.uuid,D.remarks=z.fee.customConcessionRemarks,z.fee.records.forEach(F=>{var u;D.heads.push({uuid:F.uuid,name:F.feeHeadName,amount:F.amount,concessionAmount:((u=F.concession)==null?void 0:u.value)||0})}),Object.assign(b,D)};return Ce(()=>{}),Se(()=>z.visibility,F=>{F&&j()},{immediate:!0}),(F,u)=>{const G=V("BaseInput"),B=V("BaseSwitch"),g=V("HelperText"),I=V("BaseTextarea"),w=V("FormAction"),v=V("BaseModal");return l(),C(v,{show:d.visibility,onClose:f},{title:s(()=>[m(o(F.$trans("global.custom",{attribute:F.$trans("finance.fee_concession.fee_concession")})),1)]),default:s(()=>[r(w,{"no-card":"","no-data-fetch":"","is-modal":"",uuid:e(Q).params.uuid,action:"setCustomConcession","init-url":k,"init-form":D,form:b,"keep-adding":!1,"cancel-action":!0,"validate-unchanged":!1,onRedirectTo:i,onCancelled:f},{default:s(()=>[c("div",Ot,[(l(!0),y(A,null,ae(b.heads,(n,t)=>(l(),y(A,null,[c("div",Et,[c("span",Ht,o(n.name)+" ("+o(n.amount.formatted)+") ",1)]),c("div",Gt,[r(G,{modelValue:n.concessionAmount,"onUpdate:modelValue":h=>n.concessionAmount=h,name:`heads.${t}.concessionAmount`,currency:"",label:F.$trans("finance.fee.concession_amount"),error:e(a)[`heads.${t}.concessionAmount`],"onUpdate:error":h=>e(a)[`heads.${t}.concessionAmount`]=h,onChange:u[0]||(u[0]=()=>{})},null,8,["modelValue","onUpdate:modelValue","name","label","error","onUpdate:error"])])],64))),256)),c("div",xt,[r(B,{modelValue:b.applyToAllInstallments,"onUpdate:modelValue":u[1]||(u[1]=n=>b.applyToAllInstallments=n),name:"applyToAllInstallments",label:F.$trans("finance.fee_concession.apply_to_all_installments"),error:e(a).applyToAllInstallments,"onUpdate:error":u[2]||(u[2]=n=>e(a).applyToAllInstallments=n)},null,8,["modelValue","label","error"]),r(g,null,{default:s(()=>[c("span",Lt,o(F.$trans("finance.fee_concession.apply_to_all_installments_info")),1)]),_:1})]),c("div",zt,[r(I,{rows:1,modelValue:b.remarks,"onUpdate:modelValue":u[3]||(u[3]=n=>b.remarks=n),name:"remarks",label:F.$trans("finance.fee.concession_remarks"),error:e(a).remarks,"onUpdate:error":u[4]||(u[4]=n=>e(a).remarks=n)},null,8,["modelValue","label","error"])])])]),_:1},8,["uuid","form"])]),_:1},8,["show"])}}}),Kt={class:"grid grid-cols-1 sm:grid-cols-3 gap-x-4 gap-y-8 mb-4"},Qt={class:"mt-4 grid grid-cols-3 gap-4"},Xt={class:"col-span-3 sm:col-span-1"},Yt={class:"col-span-3"},Zt={class:"mt-4 grid grid-cols-1"},ea={class:"col"},ta={name:"StudentFeeBankTransferForm"},aa=Object.assign(ta,{props:{visibility:{type:Boolean,default:!1},date:{type:Object,default(){return{}}},fee:{type:Object,default(){return{}}},feeGroup:{type:Object,default(){return{}}},fees:{type:Array,default(){return[]}},feeHead:{type:Object,default(){return{}}},preRequisites:{type:Object,default(){return{}}}},emits:["close","completed"],setup(d,{emit:te}){const Q=ie(),z=ue(),M=te,k=d,a={amount:"",remarks:"",media:[],mediaUpdated:!1,mediaToken:ce(),mediaHash:[]},D="student/payment/",b=de(D),f=Y({multipleInstallmentTitle:""}),i=Y({...a}),j=()=>{u(),M("close")},F=()=>{u(),M("completed")},u=()=>{a.amount=0,a.remarks="",a.media=[],a.mediaUpdated=!1,a.mediaToken=ce(),a.mediaHash=[],Object.assign(i,a),z.dispatch(D+"resetFormErrors")},G=()=>{Object.assign(i,a)};return De(()=>{var B;k.feeGroup.uuid?(a.feeGroup=k.feeGroup.uuid,a.amount=k.feeGroup.balance.value):k.feeHead.uuid?(a.feeHead=k.feeHead.uuid,a.amount=k.feeHead.balance.value):k.fee.uuid?(a.feeInstallment=k.fee.uuid,a.amount=k.fee.balance.value):k.fees.length>0&&(a.feeInstallments=k.fees.map(g=>g.uuid),a.amount=k.fees.reduce((g,I)=>g+I.balance.value,0),f.multipleInstallmentTitle=k.fees.map(g=>g.installment.title).join(", ")),a.date=(B=k.date)==null?void 0:B.value,Object.assign(i,a)}),Ue(()=>{u()}),(B,g)=>{const I=V("BaseDataView"),w=V("BaseInput"),v=V("BaseTextarea"),n=V("MediaUpload"),t=V("FormAction"),h=V("BaseModal");return l(),C(h,{show:d.visibility,onClose:j},{title:s(()=>[m(o(B.$trans("student.fee.bank_transfer")),1)]),default:s(()=>[c("dl",Kt,[r(I,{label:B.$trans("general.date")},{default:s(()=>[m(o(d.date.formatted),1)]),_:1},8,["label"]),d.feeGroup.uuid?(l(),y(A,{key:0},[r(I,{label:B.$trans("finance.fee_group.fee_group")},{default:s(()=>[m(o(d.feeGroup.name),1)]),_:1},8,["label"]),r(I,{label:B.$trans("finance.fee.balance")},{default:s(()=>[m(o(d.feeGroup.balance.formatted),1)]),_:1},8,["label"])],64)):d.feeHead.uuid?(l(),y(A,{key:1},[r(I,{label:B.$trans("finance.fee_head.fee_head")},{default:s(()=>[m(o(d.feeHead.name),1)]),_:1},8,["label"]),r(I,{label:B.$trans("finance.fee.balance")},{default:s(()=>[m(o(d.feeHead.balance.formatted),1)]),_:1},8,["label"])],64)):d.fee.uuid?(l(),y(A,{key:2},[r(I,{label:B.$trans("finance.fee_structure.installment")},{default:s(()=>[m(o(d.fee.installment.title),1)]),_:1},8,["label"]),r(I,{label:B.$trans("finance.fee.balance")},{default:s(()=>[m(o(d.fee.balance.formatted),1)]),_:1},8,["label"])],64)):d.fees.length>0?(l(),y(A,{key:3},[r(I,{label:B.$trans("finance.fee_structure.installment")},{default:s(()=>[m(o(f.multipleInstallmentTitle),1)]),_:1},8,["label"]),r(I,{label:B.$trans("finance.fee.balance")},{default:s(()=>[m(o(e(Fe)(i.amount)),1)]),_:1},8,["label"])],64)):p("",!0)]),r(t,{"no-card":"","no-data-fetch":"","is-modal":"",uuid:e(Q).params.uuid,action:"bankTransfer","init-url":D,"init-form":a,form:i,"keep-adding":!1,"cancel-action":!0,"after-reset":G,onRedirectTo:F,onCancelled:j},{default:s(()=>[c("div",Qt,[c("div",Xt,[r(w,{disabled:!e(X)("fee:partial-payment")||k.fees.length>0,modelValue:i.amount,"onUpdate:modelValue":g[0]||(g[0]=q=>i.amount=q),name:"amount",label:B.$trans("student.fee.props.amount"),currency:"",error:e(b).amount,"onUpdate:error":g[1]||(g[1]=q=>e(b).amount=q)},null,8,["disabled","modelValue","label","error"])]),c("div",Yt,[r(v,{rows:1,modelValue:i.remarks,"onUpdate:modelValue":g[2]||(g[2]=q=>i.remarks=q),name:"remarks",label:B.$trans("student.payment.props.remarks"),error:e(b).remarks,"onUpdate:error":g[3]||(g[3]=q=>e(b).remarks=q)},null,8,["modelValue","label","error"])])]),c("div",Zt,[c("div",ea,[r(n,{multiple:"",label:B.$trans("general.file"),module:"bank_transfer",media:i.media,"media-token":i.mediaToken,onIsUpdated:g[4]||(g[4]=q=>i.mediaUpdated=!0),onSetHash:g[5]||(g[5]=q=>i.mediaHash.push(q))},null,8,["label","media","media-token"])])])]),_:1},8,["uuid","form"])]),_:1},8,["show"])}}}),na={class:"grid grid-cols-1 sm:grid-cols-3 gap-x-4 gap-y-8"},sa={class:"mt-4 grid grid-cols-3 gap-4"},la={class:"col-span-3 sm:col-span-1"},oa={class:"col-span-3 sm:col-span-1"},ra={class:"col-span-3 sm:col-span-1"},ia={class:"col-span-3"},ua={name:"StudentFeeBankTransferDetail"},da=Object.assign(ua,{props:{visibility:{type:Boolean,default:!1},bankTransfer:{type:Object,default(){return{}}},preRequisites:{type:Object,default(){return{}}}},emits:["close","refresh"],setup(d,{emit:te}){const Q=ie();ue();const z=te,M=me("$trans"),k={status:"",ledger:"",paymentMethod:"",instrumentNumber:"",instrumentDate:"",clearingDate:"",bankDetail:"",referenceNumber:"",comment:""},a="student/payment/",D=de(a),b=se(!1),f=Y({selectedPaymentMethod:{}});Y({isPaymentPreRequisiteSet:!1}),Y({paymentMethods:[],ledgers:[]});const i=Y({...k}),j=B=>{i.paymentMethod=B?B.uuid:{},f.selectedPaymentMethod=B||{}},F=()=>{z("close")},u=()=>{Object.assign(i,k)},G=()=>{Object.assign(i,k),z("close"),z("refresh")};return(B,g)=>{const I=V("BaseBadge"),w=V("BaseDataView"),v=V("ListMedia"),n=V("CustomCheckbox"),t=V("BaseSelect"),h=V("PaymentMethodInput"),q=V("BaseTextarea"),Z=V("FormAction"),J=V("BaseModal");return d.bankTransfer.uuid?(l(),C(J,{key:0,"is-loading":b.value,show:d.visibility,onClose:F},{title:s(()=>[m(o(e(M)("global.detail",{attribute:e(M)("student.fee.bank_transfer")}))+" ",1),d.bankTransfer.status.value=="pending"?(l(),C(I,{key:0,design:"info"},{default:s(()=>[m(o(e(M)("finance.bank_transfer.statuses.pending")),1)]),_:1})):p("",!0),d.bankTransfer.status.value=="approved"?(l(),C(I,{key:1,design:"success"},{default:s(()=>[m(o(e(M)("finance.bank_transfer.statuses.approved")),1)]),_:1})):p("",!0),d.bankTransfer.status.value=="rejected"?(l(),C(I,{key:2,design:"danger"},{default:s(()=>[m(o(e(M)("finance.bank_transfer.statuses.rejected")),1)]),_:1})):p("",!0)]),default:s(()=>[c("dl",na,[r(w,{label:e(M)("finance.bank_transfer.props.code_number")},{default:s(()=>[m(o(d.bankTransfer.codeNumber),1)]),_:1},8,["label"]),r(w,{label:e(M)("finance.fee_structure.installment")},{default:s(()=>[(l(!0),y(A,null,ae(d.bankTransfer.feeDetails,R=>(l(),y("div",{key:R},o(R),1))),128))]),_:1},8,["label"]),r(w,{label:e(M)("finance.bank_transfer.props.date")},{default:s(()=>[m(o(d.bankTransfer.date.formatted),1)]),_:1},8,["label"]),r(w,{label:e(M)("finance.bank_transfer.props.amount")},{default:s(()=>[m(o(d.bankTransfer.amount.formatted),1)]),_:1},8,["label"]),r(w,{label:e(M)("finance.bank_transfer.props.remarks")},{default:s(()=>[m(o(d.bankTransfer.remarks),1)]),_:1},8,["label"]),d.bankTransfer.comment?(l(),C(w,{key:0,label:e(M)("finance.bank_transfer.props.comment")},{default:s(()=>[m(o(d.bankTransfer.comment),1)]),_:1},8,["label"])):p("",!0),r(w,{class:"col-span-1 sm:col-span-2"},{default:s(()=>[r(v,{media:d.bankTransfer.media,url:`/app/finance/bank-transfers/${d.bankTransfer.uuid}/`},null,8,["media","url"])]),_:1})]),e(X)("fee:bank-transfer-action")&&d.bankTransfer.status.value=="pending"?(l(),C(Z,{key:0,"no-card":"","no-data-fetch":"","is-modal":"",uuid:e(Q).params.uuid,"module-uuid":d.bankTransfer.uuid,action:"bankTransferAction","init-url":a,"init-form":k,form:i,"keep-adding":!1,"cancel-action":!0,"after-reset":u,onRedirectTo:G,onCancelled:F},{default:s(()=>[c("div",sa,[c("div",la,[r(n,{label:e(M)("finance.bank_transfer.props.status"),options:[{label:e(M)("finance.bank_transfer.statuses.approved"),value:"approved"},{label:e(M)("finance.bank_transfer.statuses.rejected"),value:"rejected"}],modelValue:i.status,"onUpdate:modelValue":g[0]||(g[0]=R=>i.status=R),error:e(D).status,"onUpdate:error":g[1]||(g[1]=R=>e(D).status=R)},null,8,["label","options","modelValue","error"])]),i.status=="approved"?(l(),y(A,{key:0},[c("div",oa,[r(t,{modelValue:i.ledger,"onUpdate:modelValue":g[2]||(g[2]=R=>i.ledger=R),name:"ledger",label:e(M)("finance.ledger.ledger"),options:d.preRequisites.ledgers,"label-prop":"name","value-prop":"uuid",error:e(D).ledger,"onUpdate:error":g[3]||(g[3]=R=>e(D).ledger=R)},null,8,["modelValue","label","options","error"])]),c("div",ra,[r(t,{modelValue:f.selectedPaymentMethod,"onUpdate:modelValue":g[4]||(g[4]=R=>f.selectedPaymentMethod=R),name:"paymentMethod",label:e(M)("finance.payment_method.payment_method"),options:d.preRequisites.paymentMethods,"object-prop":!0,"label-prop":"name","value-prop":"uuid",error:e(D).paymentMethod,"onUpdate:error":g[5]||(g[5]=R=>e(D).paymentMethod=R),onChange:j},null,8,["modelValue","label","options","error"])]),f.selectedPaymentMethod?(l(),C(h,{key:0,"selected-payment-method":f.selectedPaymentMethod,instrumentNumber:i.instrumentNumber,"onUpdate:instrumentNumber":g[6]||(g[6]=R=>i.instrumentNumber=R),instrumentDate:i.instrumentDate,"onUpdate:instrumentDate":g[7]||(g[7]=R=>i.instrumentDate=R),clearingDate:i.clearingDate,"onUpdate:clearingDate":g[8]||(g[8]=R=>i.clearingDate=R),bankDetail:i.bankDetail,"onUpdate:bankDetail":g[9]||(g[9]=R=>i.bankDetail=R),referenceNumber:i.referenceNumber,"onUpdate:referenceNumber":g[10]||(g[10]=R=>i.referenceNumber=R),formErrors:e(D),"onUpdate:formErrors":g[11]||(g[11]=R=>ke(D)?D.value=R:null)},null,8,["selected-payment-method","instrumentNumber","instrumentDate","clearingDate","bankDetail","referenceNumber","formErrors"])):p("",!0)],64)):p("",!0),c("div",ia,[r(q,{rows:1,modelValue:i.comment,"onUpdate:modelValue":g[12]||(g[12]=R=>i.comment=R),name:"comment",label:e(M)("finance.bank_transfer.props.comment"),error:e(D).comment,"onUpdate:error":g[13]||(g[13]=R=>e(D).comment=R)},null,8,["modelValue","label","error"])])])]),_:1},8,["uuid","module-uuid","form"])):p("",!0)]),_:1},8,["is-loading","show"])):p("",!0)}}}),ma={class:"flex justify-start"},ca={key:0},fa={class:"text-right sm:text-left"},pa={key:0},ba={key:1,class:"text-xs"},ga={key:2,class:"text-xs text-success"},ya={key:3,class:"text-xs text-warning"},ka={class:"mt-4 justify-end md:justify-start flex flex-wrap gap-1"},ha={key:0},va={key:1},_a={key:4,class:"mt-4 justify-end md:justify-start flex flex-wrap gap-1"},$a={key:0,class:"fas fa-circle text-danger mr-1"},Va={key:1,class:"fas fa-circle text-success mr-1"},Ca=["checked","disabled","onChange"],Da={class:"text-right sm:text-left"},Ua={class:"ml-2"},Fa={key:1},wa={key:2,class:"text-xs"},Ba={key:0,class:"flex justify-between"},Pa={key:0,class:"line-through mr-2"},Ma={key:0,class:"flex justify-between"},ja={key:0,class:"flex justify-between"},Na={class:"truncate"},Sa={key:0,class:"flex justify-between"},Ra={class:"truncate"},Ta={class:"flex justify-start"},Aa={key:1,class:"flex justify-between items-center mt-4 px-4"},Ia={class:"dark:text-gray-400"},qa={class:"flex gap-2"},Oa={name:"StudentFeeGroupList"},Ea=Object.assign(Oa,{props:{state:{type:Object,default(){return{}}}},emits:["setIsLoading","refresh"],setup(d,{emit:te}){const Q=ie(),z=ue(),M=te,k=d,a=me("$trans"),{screenSize:D}=Ge(),b=[{key:"title",label:a("finance.fee_structure.props.title"),visibility:!0},{key:"dueDate",label:a("finance.fee_structure.props.due_date"),visibility:!0},{key:"fee",label:a("student.fee.fee"),visibility:!0},{key:"total",label:a("finance.fee.total"),visibility:!0,align:"right"},{key:"paid",label:a("finance.fee.paid"),visibility:!0,align:"right"},{key:"balance",label:a("finance.fee.balance"),visibility:!0,align:"right"},{key:"action",label:"",visibility:!0}],f=T=>k.state.fees.filter(O=>O.installment.group.uuid==T.uuid),i=T=>k.state.transactions.filter(O=>O.records.filter(L=>L.studentFeeUuid==T.uuid).length>0),j=se([]),F=se(null);se(!1);const u=se(!1),G=se(!1),B=se(!1),g=se(!1),I=se(!1),w=se(!1),v=Y({isPaymentPreRequisiteSet:!1,isPreRequisiteSet:!1});Y({directions:[],transportCircles:[],feeConcessions:[],frequencies:[]});const n=Y({paymentMethods:[],ledgers:[]}),t=Y({feeGroup:{},fee:{},fees:[],transaction:{},bankTransfer:{}}),h=(T,O,L)=>{if(T.balance.value===0)return!1;if(O===0)return!0;const x=L[O-1];return x&&(x.balance.value===0||j.value.includes(x.uuid))},q=(T,O,L,x)=>{if(F.value&&F.value!==O.uuid||!h(T,L,x))return!0;const ee=j.value.indexOf(T.uuid);return ee!==-1&&ee!==j.value.length-1},Z=ye(()=>k.state.fees.filter(T=>j.value.includes(T.uuid)).reduce((T,O)=>T+O.balance.value,0)),J=(T,O,L)=>{L?(F.value||(F.value=O.uuid),j.value.push(T.uuid)):(j.value=j.value.filter(x=>x!==T.uuid),k.state.fees.some(x=>j.value.includes(x.uuid)&&x.installment.group.uuid===O.uuid)||(F.value=null))},R=async(T="payment")=>{M("setIsLoading",!0),await z.dispatch("student/payment/preRequisite",{uuid:Q.params.uuid,type:T}).then(O=>{Object.assign(n,O),v.isPaymentPreRequisiteSet=!0,M("setIsLoading",!1)}).catch(O=>{M("setIsLoading",!1)})},le=()=>{j.value=[],oe(),M("refresh")},oe=()=>{G.value=!1},re=T=>{let O=k.state.transactions.filter(x=>x.records.filter(ee=>ee.additionalCharges.length>0).length>0),L=[];return O.filter(x=>!x.isCancelled&&!x.isRejected).forEach(x=>{x.records.forEach(ee=>{ee.studentFeeUuid==T.uuid&&L.push(...ee.additionalCharges)})}),L},U=T=>{let O=k.state.transactions.filter(x=>x.records.filter(ee=>ee.additionalDiscounts.length>0).length>0),L=[];return O.filter(x=>!x.isCancelled&&!x.isRejected).forEach(x=>{x.records.forEach(ee=>{ee.studentFeeUuid==T.uuid&&L.push(...ee.additionalDiscounts)})}),L},S=async(T={})=>{v.isPaymentPreRequisiteSet||await R("custom_fee"),t.transaction=T,g.value=!0},K=async(T={})=>{v.isPaymentPreRequisiteSet||await R(),t.bankTransfer=T,I.value=!0},$=async(T={})=>{v.isPaymentPreRequisiteSet||await R(),t.feeGroup={},t.fee=T,t.fees=[],u.value=!0},W=async(T={})=>{t.fee=T,t.feeGroup={},t.fees=[],G.value=!0},N=async(T={})=>{t.feeGroup=T,t.fee={},t.fees=[],G.value=!0},fe=async(T={})=>{v.isPaymentPreRequisiteSet||await R(),t.fee={},t.feeGroup=T,t.fees=[],u.value=!0},pe=async(T={})=>{v.isPaymentPreRequisiteSet||await R(),t.feeGroup={},t.fee=T,t.fees=[],B.value=!0},be=async(T={})=>{v.isPaymentPreRequisiteSet||await R(),t.fee={},t.feeGroup=T,t.fees=[],B.value=!0},Re=async()=>{v.isPaymentPreRequisiteSet||await R(),t.fee={},t.feeGroup={},t.fees=j.value.map(T=>k.state.fees.find(O=>O.uuid==T)),u.value=!0},Te=async()=>{v.isPaymentPreRequisiteSet||await R(),t.fee={},t.feeGroup={},t.fees=j.value.map(T=>k.state.fees.find(O=>O.uuid==T)),B.value=!0},Ae=async()=>{t.fee={},t.feeGroup={},t.fees=j.value.map(T=>k.state.fees.find(O=>O.uuid==T)),G.value=!0},he=()=>{u.value=!1,B.value=!1,t.fee={},t.feeGroup={},t.fees=[],j.value=[]},Ie=()=>{t.transaction={},g.value=!1},qe=()=>{t.bankTransfer={},I.value=!1},we=()=>{t.fee={},t.feeGroup={},t.fees=[],j.value=[],he(),M("refresh")},Oe=(T={})=>{t.fee=T,w.value=!0},Ee=()=>{w.value=!1};return(T,O)=>{const L=V("DataCell"),x=V("BaseButton"),ee=V("FloatingMenuItem"),Be=V("FloatingMenu"),ve=V("DataRow"),_e=V("BaseBadge"),He=V("SimpleTable"),Pe=xe("tooltip");return l(),y(A,null,[d.state.fees.length>0?(l(),C(He,{key:0,corner:"sharp",header:b},{default:s(()=>[(l(!0),y(A,null,ae(d.state.feeGroups,E=>(l(),y(A,null,[r(ve,{"is-heading":""},{default:s(()=>[r(L,{name:"title",colspan:3,"is-heading":""},{default:s(()=>[c("div",ma,[c("span",null,[E.status.value=="paid"?(l(),y("span",ca,O[3]||(O[3]=[c("i",{class:"fas fa-check-circle text-success mr-1"},null,-1)]))):p("",!0),m(" "+o(E.name),1)])])]),_:2},1024),r(L,{name:"total",align:"right","is-heading":""},{default:s(()=>[m(o(E.total.formatted),1)]),_:2},1024),r(L,{name:"paid",align:"right","is-heading":""},{default:s(()=>[m(o(E.paid.formatted),1)]),_:2},1024),r(L,{name:"balance",align:"right","is-heading":""},{default:s(()=>[m(o(E.balance.formatted),1)]),_:2},1024),r(L,{streched:""},{default:s(()=>[e(X)("fee:payment")?(l(),y(A,{key:0},[!e(ne)(["student","guardian"],"any")&&e(D).small&&E.balance.value>0?(l(),C(x,{key:0,block:"",onClick:P=>fe(E)},{default:s(()=>[m(o(e(a)("global.pay",{attribute:e(a)("finance.fee_group.fee_group")})),1)]),_:2},1032,["onClick"])):p("",!0),e(D).small&&E.balance.value>0?(l(),C(x,{key:1,block:"",onClick:P=>be(E)},{default:s(()=>[m(o(e(a)("finance.payment.online")),1)]),_:2},1032,["onClick"])):p("",!0),e(D).small&&E.balance.value>0&&e(X)("fee:bank-transfer")&&e(ne)(["student","guardian"],"any")?(l(),C(x,{key:2,block:"",onClick:P=>N(E)},{default:s(()=>[m(o(e(a)("student.fee.bank_transfer")),1)]),_:2},1032,["onClick"])):p("",!0)],64)):p("",!0),e(D).small?p("",!0):(l(),C(Be,{key:1,slim:""},{default:s(()=>[e(X)("fee:payment")||e(X)("fee:bank-transfer")?(l(),y(A,{key:0},[!e(ne)(["student","guardian"],"any")&&E.balance.value>0?(l(),C(ee,{key:0,onClick:P=>fe(E)},{default:s(()=>[m(o(e(a)("global.pay",{attribute:e(a)("finance.fee_group.fee_group")})),1)]),_:2},1032,["onClick"])):p("",!0),E.balance.value>0?(l(),C(ee,{key:1,onClick:P=>be(E)},{default:s(()=>[m(o(e(a)("finance.payment.online")),1)]),_:2},1032,["onClick"])):p("",!0),e(X)("fee:bank-transfer")&&E.balance.value>0&&e(ne)(["student","guardian"],"any")?(l(),C(ee,{key:2,onClick:P=>N(E)},{default:s(()=>[m(o(e(a)("student.fee.bank_transfer")),1)]),_:2},1032,["onClick"])):p("",!0)],64)):p("",!0)]),_:2},1024))]),_:2},1024)]),_:2},1024),(l(!0),y(A,null,ae(f(E),(P,$e)=>(l(),C(ve,{key:P.uuid},{default:s(()=>[r(L,{name:"title"},{default:s(()=>[c("div",fa,[P.status.value=="paid"?(l(),y("span",pa,O[4]||(O[4]=[c("i",{class:"fas fa-check-circle text-success mr-1"},null,-1)]))):p("",!0),m(" "+o(P.installment.title)+" ",1),P.transportCircle?(l(),y("p",ba,o(P.transportCircle.name),1)):p("",!0),P.concession?(l(),y("p",ga,o(P.concession.name),1)):p("",!0),P.hasCustomConcession?je((l(),y("p",ya,[m(o(e(a)("finance.fee_concession.custom_concession")),1)])),[[Pe,P.customConcessionRemarks]]):p("",!0),c("div",ka,[(l(!0),y(A,null,ae(i(P),H=>(l(),C(_e,{key:H.uuid,size:"sm",clickable:"",design:H.design,onClick:ge=>S(H)},{default:s(()=>[H.pendingClearance?je((l(),y("span",ha,[m(o(H.codeNumber),1)])),[[Pe,e(a)("finance.transaction.pending_clearance")]]):(l(),y("span",va,o(H.codeNumber),1))]),_:2},1032,["design","onClick"]))),128))]),P.bankTransfers.length>0?(l(),y("div",_a,[(l(!0),y(A,null,ae(P.bankTransfers,H=>(l(),C(_e,{key:H.uuid,size:"sm",design:"outline",clickable:"",onClick:ge=>K(H)},{default:s(()=>[c("span",null,[H.status.value=="rejected"?(l(),y("i",$a)):p("",!0),H.status.value=="approved"?(l(),y("i",Va)):p("",!0),m(" "+o(H.codeNumber),1)])]),_:2},1032,["onClick"]))),128))])):p("",!0)]),d.state.enableMultiInstallmentPayment&&e(X)("fee:payment")&&P.balance.value>0?(l(),y("input",{key:0,type:"checkbox",class:Ve(["text-primary dark:text-dark-body border-primary h-4 w-4 rounded focus:ring-0 dark:border-gray-700",{"cursor-pointer":!q(P,E,$e,f(E)),"text-gray-400 dark:text-gray-500":q(P,E,$e,f(E))}]),checked:j.value.includes(P.uuid),disabled:q(P,E,$e,f(E)),onChange:H=>J(P,E,H.target.checked)},null,42,Ca)):p("",!0)]),_:2},1024),r(L,{name:"dueDate"},{default:s(()=>[c("div",Da,[P.overdue?(l(),C(_e,{key:0,design:"error"},{default:s(()=>[m(o(P.dueDate.formatted)+" ",1),c("span",Ua,"("+o(P.overdue+" "+e(a)("list.durations.day"))+")",1)]),_:2},1024)):p("",!0),P.overdue===0?(l(),y("p",Fa,o(P.dueDate.formatted),1)):p("",!0),P.lateFeeApplicable?(l(),y("p",wa,o(e(a)("finance.fee_structure.props.late_fee"))+" "+o(P.lateFee.formatted),1)):p("",!0)])]),_:2},1024),r(L,{name:"fee",streched:"",table:""},{default:s(()=>[(l(!0),y(A,null,ae(P.records,H=>{var ge,Me;return l(),y(A,null,[H.amount.value>0?(l(),y("div",Ba,[m(o(((ge=H.head)==null?void 0:ge.name)||((Me=H.defaultFeeHead)==null?void 0:Me.label)||"-")+" ",1),c("div",null,[H.concession.value>0?(l(),y("span",Pa,o(H.amount.formatted),1)):p("",!0),c("span",null,o(H.amountWithConcession.formatted),1)])])):p("",!0)],64)}),256)),P.lateFee.amount.value>0?(l(),y("div",Ma,[m(o(e(a)("finance.fee_structure.late_fee"))+" ",1),c("div",null,[c("span",null,o(P.lateFee.amount.formatted),1)])])):p("",!0),(l(!0),y(A,null,ae(re(P),H=>(l(),y(A,null,[H.amount.value>0?(l(),y("div",ja,[c("span",Na,o(H.label),1),c("div",null,[c("span",null,o(H.amount.formatted),1)])])):p("",!0)],64))),256)),(l(!0),y(A,null,ae(U(P),H=>(l(),y(A,null,[H.amount.value>0?(l(),y("div",Sa,[c("span",Ra,o(H.label),1),c("div",null,[c("span",null,"(-)"+o(H.amount.formatted),1)])])):p("",!0)],64))),256))]),_:2},1024),r(L,{align:"right",name:"total"},{default:s(()=>[m(o(P.total.formatted),1)]),_:2},1024),r(L,{align:"right",name:"paid"},{default:s(()=>[m(o(P.paid.formatted),1)]),_:2},1024),r(L,{align:"right",name:"balance"},{default:s(()=>[m(o(P.balance.formatted),1)]),_:2},1024),r(L,{name:"action",streched:""},{default:s(()=>[e(X)("fee:payment")?(l(),y(A,{key:0},[!e(ne)(["student","guardian"],"any")&&e(D).small&&P.balance.value>0?(l(),C(x,{key:0,block:"",onClick:H=>$(P)},{default:s(()=>[m(o(e(a)("global.pay",{attribute:e(a)("finance.fee_structure.installment")})),1)]),_:2},1032,["onClick"])):p("",!0),e(D).small&&P.balance.value>0?(l(),C(x,{key:1,block:"",onClick:H=>pe(P)},{default:s(()=>[m(o(e(a)("finance.payment.online")),1)]),_:2},1032,["onClick"])):p("",!0),e(D).small&&P.balance.value>0&&e(X)("fee:bank-transfer")&&e(ne)(["student","guardian"],"any")?(l(),C(x,{key:2,block:"",onClick:H=>W(P)},{default:s(()=>[m(o(e(a)("student.fee.bank_transfer")),1)]),_:2},1032,["onClick"])):p("",!0)],64)):p("",!0),!e(D).small&&P.balance.value>0?(l(),C(Be,{key:1},{default:s(()=>[e(X)("fee:custom-concession")&&!e(ne)(["student","guardian"],"any")&&!P.concession&&P.balance.value>0?(l(),C(ee,{key:0,onClick:H=>Oe(P),icon:"fas fa-tag"},{default:s(()=>[m(o(e(a)("global.custom",{attribute:e(a)("finance.fee_concession.fee_concession")})),1)]),_:2},1032,["onClick"])):p("",!0),e(X)("fee:bank-transfer")&&P.balance.value>0&&e(ne)(["student","guardian"],"any")?(l(),C(ee,{key:1,icon:"fas fa-building",onClick:H=>W(P)},{default:s(()=>[m(o(e(a)("student.fee.bank_transfer")),1)]),_:2},1032,["onClick"])):p("",!0),e(X)("fee:payment")?(l(),y(A,{key:2},[!e(ne)(["student","guardian"],"any")&&P.balance.value>0?(l(),C(ee,{key:0,icon:"fas fa-credit-card",onClick:H=>$(P)},{default:s(()=>[m(o(e(a)("global.pay",{attribute:e(a)("finance.fee_structure.installment")})),1)]),_:2},1032,["onClick"])):p("",!0),P.balance.value>0?(l(),C(ee,{key:1,icon:"fas fa-credit-card",onClick:H=>pe(P)},{default:s(()=>[m(o(e(a)("finance.payment.online")),1)]),_:2},1032,["onClick"])):p("",!0)],64)):p("",!0)]),_:2},1024)):p("",!0)]),_:2},1024)]),_:2},1024))),128))],64))),256)),d.state.summary?(l(),C(ve,{key:0,"is-heading":""},{default:s(()=>[r(L,{name:"title",colspan:3,"is-heading":""},{default:s(()=>[c("div",Ta,[c("span",null,o(e(a)("global.grand",{attribute:e(a)("finance.fee.total")})),1)])]),_:1}),r(L,{name:"total",align:"right","is-heading":""},{default:s(()=>{var E;return[m(o((E=d.state.summary.grandTotal)==null?void 0:E.formatted),1)]}),_:1}),r(L,{name:"paid",align:"right","is-heading":""},{default:s(()=>{var E;return[m(o((E=d.state.summary.grandTotalPaid)==null?void 0:E.formatted),1)]}),_:1}),r(L,{name:"balance",align:"right","is-heading":""},{default:s(()=>{var E;return[m(o((E=d.state.summary.grandTotalBalance)==null?void 0:E.formatted),1)]}),_:1}),r(L)]),_:1})):p("",!0)]),_:1})):p("",!0),j.value.length?(l(),y("div",Aa,[c("div",Ia,[c("strong",null,o(e(a)("general.total"))+": ",1),m(" "+o(e(Fe)(Z.value)),1)]),c("div",qa,[!e(ne)(["student","guardian"],"any")&&Z.value>0?(l(),C(x,{key:0,onClick:Re},{default:s(()=>[m(o(e(a)("general.proceed")),1)]),_:1})):p("",!0),e(ne)(["student","guardian"],"any")&&Z.value>0?(l(),C(x,{key:1,onClick:Te},{default:s(()=>[m(o(e(a)("general.proceed")),1)]),_:1})):p("",!0),e(ne)(["student","guardian"],"any")&&e(X)("fee:bank-transfer")&&Z.value>0?(l(),C(x,{key:2,onClick:Ae},{default:s(()=>[m(o(e(a)("student.fee.bank_transfer")),1)]),_:1})):p("",!0)])])):p("",!0),e(ne)(["student","guardian"],"any")?p("",!0):(l(),C(qt,{key:2,visibility:u.value,"pre-requisites":n,"fee-group":t.feeGroup,fee:t.fee,fees:t.fees,date:d.state.date,onClose:he,onCompleted:we},null,8,["visibility","pre-requisites","fee-group","fee","fees","date"])),e(ne)(["student","guardian"],"any")?(l(),C(aa,{key:3,visibility:G.value,"fee-group":t.feeGroup,fee:t.fee,fees:t.fees,date:d.state.date,onClose:oe,onCompleted:le},null,8,["visibility","fee-group","fee","fees","date"])):p("",!0),r(We,{visibility:B.value,"pre-requisites":n,"fee-group":t.feeGroup,fee:t.fee,fees:t.fees,date:d.state.date,onClose:he,onCompleted:we},null,8,["visibility","pre-requisites","fee-group","fee","fees","date"]),r(gt,{visibility:g.value,transaction:t.transaction,"pre-requisites":n,onClose:Ie,onRefresh:O[0]||(O[0]=E=>M("refresh"))},null,8,["visibility","transaction","pre-requisites"]),r(da,{visibility:I.value,"bank-transfer":t.bankTransfer,"pre-requisites":n,onClose:qe,onRefresh:O[1]||(O[1]=E=>M("refresh"))},null,8,["visibility","bank-transfer","pre-requisites"]),t.fee.uuid?(l(),C(Jt,{key:4,visibility:w.value,fee:t.fee,onClose:Ee,onRefresh:O[2]||(O[2]=E=>M("refresh"))},null,8,["visibility","fee"])):p("",!0)],64)}}}),Ha={class:"grid grid-cols-3 gap-4"},Ga={class:"col-span-3 sm:col-span-1"},xa={key:0,class:"far fa-check-circle text-success"},La={key:1,class:"far fa-times-circle text-danger"},za={key:0,class:"col-span-3 sm:col-span-1"},Wa={class:"col-span-3 sm:col-span-1"},Ja={key:0,class:"mt-4 grid grid-cols-3 gap-4"},Ka={class:"col-span-3 sm:col-span-1"},Qa={class:"col-span-3 sm:col-span-1"},Xa={class:"col-span-3 sm:col-span-1"},Ya={key:1,class:"col-span-3"},Za={class:"mt-4 grid grid-cols-3 gap-4"},en={class:"col-span-3 sm:col-span-1"},tn={class:"col-span-3 sm:col-span-1"},an={class:"mt-4 grid grid-cols-3 gap-4"},nn={class:"col-span-3 sm:col-span-1"},sn={class:"col-span-3 sm:col-span-1"},ln={class:"mt-4 grid grid-cols-3 gap-4"},on={class:"col-span-3 sm:col-span-1"},rn={class:"col-span-3 sm:col-span-1"},un={class:"mt-4 grid grid-cols-3 gap-4"},dn={class:"col-span-3 sm:col-span-1"},mn={class:"col-span-3 sm:col-span-1"},cn={class:"col-span-3 sm:col-span-1"},fn={class:"col-span-3"},pn={name:"StudentFeePaymentForm"},bn=Object.assign(pn,{props:{visibility:{type:Boolean,default:!1},date:{type:Object,default(){return{}}},feeHeads:{type:Array,default(){return[]}},preRequisites:{type:Object,default(){return{}}}},emits:["close","completed"],setup(d,{emit:te}){const Q=ie(),z=ue(),M=te,k=d,a={feeGroup:"",codeNumber:"",date:"",amount:0,lateFee:0,transportFee:0,ledger:"",heads:[],additionalCharges:[],additionalDiscounts:[],paymentMethod:"",instrumentNumber:"",instrumentDate:"",clearingDate:"",bankDetail:"",referenceNumber:"",remarks:""},D="student/payment/",b=de(D),f=Y({initialAmount:0,selectedFeeGroup:{},selectedPaymentMethod:{},showAdditionalCharge:!1,showAdditionalDiscount:!1,disableVoucherNumber:!0}),i=Y({...a}),j=n=>{i.paymentMethod=n?n.uuid:{},f.selectedPaymentMethod=n||{}},F=()=>{G(),M("close")},u=()=>{G(),M("completed")},G=()=>{Object.assign(i,a),f.selectedFeeGroup={},f.selectedPaymentMethod={},f.showAdditionalCharge=!1,f.showAdditionalDiscount=!1,v(),z.dispatch(D+"resetFormErrors")},B=n=>{let t=[];if(_.isEmpty(n)){i.feeGroup="",i.heads=t,i.amount=0,i.lateFee=0;return}i.feeGroup=n.uuid,n.heads.forEach(h=>{let q=k.feeHeads.find(Z=>h.uuid==Z.uuid);q!=null&&t.push({name:h.name,uuid:h.uuid,total:q.total,paid:q.paid,balance:q.balance,amount:0})}),i.amount=0,i.heads=t},g=()=>{let n=k.feeHeads.find(t=>t.defaultFeeHead=="transport_fee");return n?n.balance:{value:0,formatted:0}},I=n=>{let t=0;i.lateFee&&(t+=parseFloat(i.lateFee)),i.transportFee&&(t+=parseFloat(i.transportFee)),i.heads.forEach(h=>{h.amount&&(t+=parseFloat(h.amount))}),i.additionalCharges.forEach(h=>{h.amount&&(t+=parseFloat(h.amount))}),i.additionalDiscounts.forEach(h=>{h.amount&&(t-=parseFloat(h.amount))}),i.amount=t},w=()=>{G()},v=()=>{a.additionalCharges=[],a.additionalCharges.push({uuid:ce(),label:"",amount:0}),a.additionalDiscounts=[],a.additionalDiscounts.push({uuid:ce(),label:"",amount:0})};return De(()=>{var n;a.date=(n=k.date)==null?void 0:n.value,v(),Object.assign(i,a)}),Ue(()=>{G()}),(n,t)=>{const h=V("BaseInput"),q=V("DatePicker"),Z=V("BaseSelect"),J=V("TextMuted"),R=V("BaseAlert"),le=V("BaseSwitch"),oe=V("BaseFieldset"),re=V("PaymentMethodInput"),U=V("BaseTextarea"),S=V("FormAction"),K=V("BaseModal");return l(),C(K,{show:d.visibility,onClose:F},{title:s(()=>[m(o(n.$trans("global.pay",{attribute:n.$trans("student.fee.fee")})),1)]),default:s(()=>[r(S,{"no-card":"","no-data-fetch":"","is-modal":"",uuid:e(Q).params.uuid,action:"makeHeadWisePayment","init-url":D,"init-form":a,form:i,"keep-adding":!1,"cancel-action":!0,"after-reset":w,onRedirectTo:u,onCancelled:F},{default:s(()=>[c("div",Ha,[c("div",Ga,[r(h,{disabled:f.disableVoucherNumber,modelValue:i.codeNumber,"onUpdate:modelValue":t[1]||(t[1]=$=>i.codeNumber=$),name:"codeNumber",label:n.$trans("finance.transaction.props.code_number"),error:e(b).codeNumber,"onUpdate:error":t[2]||(t[2]=$=>e(b).codeNumber=$)},{"additional-label":s(()=>[c("span",{onClick:t[0]||(t[0]=$=>f.disableVoucherNumber=!f.disableVoucherNumber),class:"cursor-pointer"},[f.disableVoucherNumber?(l(),y("i",xa)):(l(),y("i",La))])]),_:1},8,["disabled","modelValue","label","error"])]),e(X)("fee:change-payment-date")?(l(),y("div",za,[r(q,{modelValue:i.date,"onUpdate:modelValue":t[3]||(t[3]=$=>i.date=$),name:"date","no-clear":"",label:n.$trans("student.fee.props.date"),error:e(b).date,"onUpdate:error":t[4]||(t[4]=$=>e(b).date=$)},null,8,["modelValue","label","error"])])):p("",!0),c("div",Wa,[r(Z,{modelValue:f.selectedFeeGroup,"onUpdate:modelValue":t[5]||(t[5]=$=>f.selectedFeeGroup=$),name:"feeGroup",label:n.$trans("finance.fee_group.fee_group"),options:d.preRequisites.feeGroups,"object-prop":!0,"label-prop":"name","value-prop":"uuid",onChange:B,error:e(b).feeGroup,"onUpdate:error":t[6]||(t[6]=$=>e(b).feeGroup=$)},null,8,["modelValue","label","options","error"])])]),i.feeGroup?(l(),y("div",Ja,[(l(!0),y(A,null,ae(i.heads,($,W)=>(l(),y("div",Ka,[r(h,{modelValue:$.amount,"onUpdate:modelValue":N=>$.amount=N,name:`heads.${W}.amount`,currency:"",label:$.name,error:e(b)[`heads.${W}.amount`],"onUpdate:error":N=>e(b)[`heads.${W}.amount`]=N,onChange:I},{"additional-label":s(()=>[r(J,null,{default:s(()=>[c("span",{class:Ve({"text-danger":$.balance.value<=0,"text-success":$.balance.value>0})},o(n.$trans("finance.fee.balance"))+" "+o($.balance.formatted),3)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","name","label","error","onUpdate:error"])]))),256)),f.selectedFeeGroup.isCustom?p("",!0):(l(),y(A,{key:0},[c("div",Qa,[r(h,{modelValue:i.transportFee,"onUpdate:modelValue":t[7]||(t[7]=$=>i.transportFee=$),name:"transportFee",currency:"",label:n.$trans("finance.fee.default_fee_heads.transport_fee"),error:e(b).transportFee,"onUpdate:error":t[8]||(t[8]=$=>e(b).transportFee=$),onChange:I},{"additional-label":s(()=>[r(J,null,{default:s(()=>[c("span",{class:Ve({"text-danger":g().value<=0,"text-success":g().value>0})},o(n.$trans("finance.fee.balance"))+" "+o(g().formatted),3)]),_:1})]),_:1},8,["modelValue","label","error"])]),c("div",Xa,[r(h,{modelValue:i.lateFee,"onUpdate:modelValue":t[9]||(t[9]=$=>i.lateFee=$),name:"lateFee",currency:"",label:n.$trans("finance.fee.default_fee_heads.late_fee"),error:e(b).lateFee,"onUpdate:error":t[10]||(t[10]=$=>e(b).lateFee=$),onChange:I},null,8,["modelValue","label","error"])])],64)),i.heads.length?p("",!0):(l(),y("div",Ya,[r(R,{design:"info",size:"xs"},{default:s(()=>[m(o(n.$trans("global.could_not_find",{attribute:n.$trans("finance.fee_head.fee_head")})),1)]),_:1})]))])):p("",!0),i.heads.length?(l(),y(A,{key:1},[c("div",Za,[c("div",en,[r(le,{vertical:"",modelValue:f.showAdditionalCharge,"onUpdate:modelValue":t[11]||(t[11]=$=>f.showAdditionalCharge=$),name:"showAdditionalCharge",label:n.$trans("global.show",{attribute:n.$trans("student.fee.props.additional_charge")})},null,8,["modelValue","label"])]),c("div",tn,[r(le,{vertical:"",modelValue:f.showAdditionalDiscount,"onUpdate:modelValue":t[12]||(t[12]=$=>f.showAdditionalDiscount=$),name:"showAdditionalDiscount",label:n.$trans("global.show",{attribute:n.$trans("student.fee.props.additional_discount")})},null,8,["modelValue","label"])])]),f.showAdditionalCharge?(l(!0),y(A,{key:0},ae(i.additionalCharges,($,W)=>(l(),C(oe,{class:"mt-4",key:$.uuid},{legend:s(()=>[m(o(n.$trans("student.fee.props.additional_charge")),1)]),default:s(()=>[c("div",an,[c("div",nn,[r(h,{modelValue:$.label,"onUpdate:modelValue":N=>$.label=N,name:`additionalCharges.${W}.label`,label:n.$trans("student.fee.props.additional_charge_label"),error:e(b)[`additionalCharges.${W}.label`],"onUpdate:error":N=>e(b)[`additionalCharges.${W}.label`]=N},null,8,["modelValue","onUpdate:modelValue","name","label","error","onUpdate:error"])]),c("div",sn,[r(h,{modelValue:$.amount,"onUpdate:modelValue":N=>$.amount=N,name:`additionalCharges.${W}.amount`,label:n.$trans("student.fee.props.additional_charge_amount"),currency:"",onChange:I,error:e(b)[`additionalCharges.${W}.amount`],"onUpdate:error":N=>e(b)[`additionalCharges.${W}.amount`]=N},null,8,["modelValue","onUpdate:modelValue","name","label","error","onUpdate:error"])])])]),_:2},1024))),128)):p("",!0),f.showAdditionalDiscount?(l(!0),y(A,{key:1},ae(i.additionalDiscounts,($,W)=>(l(),C(oe,{class:"mt-4",key:$.uuid},{legend:s(()=>[m(o(n.$trans("student.fee.props.additional_discount")),1)]),default:s(()=>[c("div",ln,[c("div",on,[r(h,{modelValue:$.label,"onUpdate:modelValue":N=>$.label=N,name:`additionalDiscounts.${W}.label`,label:n.$trans("student.fee.props.additional_discount_label"),error:e(b)[`additionalDiscounts.${W}.label`],"onUpdate:error":N=>e(b)[`additionalDiscounts.${W}.label`]=N},null,8,["modelValue","onUpdate:modelValue","name","label","error","onUpdate:error"])]),c("div",rn,[r(h,{modelValue:$.amount,"onUpdate:modelValue":N=>$.amount=N,name:`additionalDiscounts.${W}.amount`,label:n.$trans("student.fee.props.additional_discount_amount"),currency:"",onChange:I,error:e(b)[`additionalDiscounts.${W}.amount`],"onUpdate:error":N=>e(b)[`additionalDiscounts.${W}.amount`]=N},null,8,["modelValue","onUpdate:modelValue","name","label","error","onUpdate:error"])])])]),_:2},1024))),128)):p("",!0)],64)):p("",!0),c("div",un,[c("div",dn,[r(h,{disabled:!0,modelValue:i.amount,"onUpdate:modelValue":t[13]||(t[13]=$=>i.amount=$),name:"amount",currency:"",label:n.$trans("student.fee.props.amount"),error:e(b).amount,"onUpdate:error":t[14]||(t[14]=$=>e(b).amount=$)},null,8,["modelValue","label","error"])]),c("div",mn,[r(Z,{modelValue:i.ledger,"onUpdate:modelValue":t[15]||(t[15]=$=>i.ledger=$),name:"ledger",label:n.$trans("finance.ledger.ledger"),options:d.preRequisites.ledgers,"label-prop":"name","value-prop":"uuid",error:e(b).ledger,"onUpdate:error":t[16]||(t[16]=$=>e(b).ledger=$)},null,8,["modelValue","label","options","error"])]),c("div",cn,[r(Z,{modelValue:f.selectedPaymentMethod,"onUpdate:modelValue":t[17]||(t[17]=$=>f.selectedPaymentMethod=$),name:"paymentMethod",label:n.$trans("finance.payment_method.payment_method"),options:d.preRequisites.paymentMethods,"object-prop":!0,"label-prop":"name","value-prop":"uuid",error:e(b).paymentMethod,"onUpdate:error":t[18]||(t[18]=$=>e(b).paymentMethod=$),onChange:j},null,8,["modelValue","label","options","error"])]),f.selectedPaymentMethod?(l(),C(re,{key:0,"selected-payment-method":f.selectedPaymentMethod,instrumentNumber:i.instrumentNumber,"onUpdate:instrumentNumber":t[19]||(t[19]=$=>i.instrumentNumber=$),instrumentDate:i.instrumentDate,"onUpdate:instrumentDate":t[20]||(t[20]=$=>i.instrumentDate=$),clearingDate:i.clearingDate,"onUpdate:clearingDate":t[21]||(t[21]=$=>i.clearingDate=$),bankDetail:i.bankDetail,"onUpdate:bankDetail":t[22]||(t[22]=$=>i.bankDetail=$),referenceNumber:i.referenceNumber,"onUpdate:referenceNumber":t[23]||(t[23]=$=>i.referenceNumber=$),formErrors:e(b),"onUpdate:formErrors":t[24]||(t[24]=$=>ke(b)?b.value=$:null)},null,8,["selected-payment-method","instrumentNumber","instrumentDate","clearingDate","bankDetail","referenceNumber","formErrors"])):p("",!0),c("div",fn,[r(U,{rows:1,modelValue:i.remarks,"onUpdate:modelValue":t[25]||(t[25]=$=>i.remarks=$),name:"remarks",label:n.$trans("student.payment.props.remarks"),error:e(b).remarks,"onUpdate:error":t[26]||(t[26]=$=>e(b).remarks=$)},null,8,["modelValue","label","error"])])])]),_:1},8,["uuid","form"])]),_:1},8,["show"])}}}),gn={class:"flex justify-start"},yn={key:0,class:"flex justify-end p-4"},kn={name:"StudentFeeHeadList"},hn=Object.assign(kn,{props:{state:{type:Object,default(){return{}}}},emits:["setIsLoading","refresh"],setup(d,{emit:te}){const Q=ie(),z=ue(),M=te,k=me("$trans"),a=[{key:"name",label:k("finance.fee_head.fee_head"),visibility:!0},{key:"amount",label:k("finance.transaction.props.amount"),visibility:!0,align:"right"},{key:"concession",label:k("finance.fee_concession.fee_concession"),visibility:!0,align:"right"},{key:"total",label:k("finance.fee.total"),visibility:!0,align:"right"},{key:"paid",label:k("finance.fee.paid"),visibility:!0,align:"right"},{key:"balance",label:k("finance.fee.balance"),visibility:!0,align:"right"},{key:"action",label:"",visibility:!0}],D=se(!1),b=Y({isPaymentPreRequisiteSet:!1}),f=Y({feeGroups:[],paymentMethods:[],ledgers:[]}),i=async()=>{M("setIsLoading",!0),await z.dispatch("student/payment/preRequisite",{uuid:Q.params.uuid}).then(G=>{Object.assign(f,G),b.isPaymentPreRequisiteSet=!0,M("setIsLoading",!1)}).catch(G=>{M("setIsLoading",!1)})},j=async(G={})=>{b.isPaymentPreRequisiteSet||await i(),D.value=!0},F=()=>{D.value=!1},u=()=>{F(),M("refresh")};return(G,B)=>{const g=V("DataCell"),I=V("DataRow"),w=V("SimpleTable"),v=V("BaseButton");return l(),y(A,null,[r(w,{corner:"sharp",header:a},{default:s(()=>[(l(!0),y(A,null,ae(d.state.feeHeads,n=>(l(),C(I,{key:n.uuid,"text-color":n.isDeduction?"danger":""},{default:s(()=>[r(g,{name:"name"},{default:s(()=>[m(o(n.name),1)]),_:2},1024),r(g,{align:"right",name:"amount"},{default:s(()=>[m(o(n.amount.formatted),1)]),_:2},1024),r(g,{align:"right",name:"concession"},{default:s(()=>[m(o(n.concession.formatted),1)]),_:2},1024),r(g,{align:"right",name:"total"},{default:s(()=>[m(o(n.total.formatted),1)]),_:2},1024),r(g,{align:"right",name:"paid"},{default:s(()=>[m(o(n.paid.formatted),1)]),_:2},1024),r(g,{align:"right",name:"balance"},{default:s(()=>[m(o(n.balance.formatted),1)]),_:2},1024),r(g,{name:"action"})]),_:2},1032,["text-color"]))),128)),d.state.summary?(l(),C(I,{key:0,"is-heading":""},{default:s(()=>[r(g,{name:"name","is-heading":""},{default:s(()=>[c("div",gn,[c("span",null,o(e(k)("finance.fee.total")),1)])]),_:1}),r(g,{align:"right",name:"amount","is-heading":""},{default:s(()=>{var n;return[m(o((n=d.state.summary.grandTotalAmount)==null?void 0:n.formatted),1)]}),_:1}),r(g,{align:"right",name:"concession","is-heading":""},{default:s(()=>{var n;return[m(o((n=d.state.summary.grandTotalConcession)==null?void 0:n.formatted),1)]}),_:1}),r(g,{align:"right",name:"total","is-heading":""},{default:s(()=>{var n;return[m(o((n=d.state.summary.grandTotal)==null?void 0:n.formatted),1)]}),_:1}),r(g,{align:"right",name:"paid","is-heading":""},{default:s(()=>{var n;return[m(o((n=d.state.summary.grandTotalPaid)==null?void 0:n.formatted),1)]}),_:1}),r(g,{align:"right",name:"balance","is-heading":""},{default:s(()=>{var n;return[m(o((n=d.state.summary.grandTotalBalance)==null?void 0:n.formatted),1)]}),_:1}),r(g,{name:"action"})]),_:1})):p("",!0)]),_:1}),e(X)("fee:head-wise-payment")?(l(),y("div",yn,[r(v,{design:"primary",onClick:j},{default:s(()=>[m(o(e(k)("global.pay",{attribute:e(k)("student.fee.fee")})),1)]),_:1})])):p("",!0),r(bn,{visibility:D.value,"pre-requisites":f,"fee-heads":d.state.feeHeads,date:d.state.date,onClose:F,onCompleted:u},null,8,["visibility","pre-requisites","fee-heads","date"])],64)}}}),vn={class:"flex flex-wrap gap-2"},_n=["onClick"],$n=["is-loading"],Vn=["onClick"],Cn={key:0},Dn={key:1},Un={key:1,class:"text-sm"},Fn={key:0,class:"pt-4 px-4 sm:px-6"},wn={class:"mt-4 px-4"},Bn={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Pn=["onClick"],Mn={key:0,class:""},jn={class:"text-xs text-gray-500"},Nn={class:"flex items-center gap-2 text-sm dark:text-gray-400"},Sn={class:"flex items-center gap-2 text-sm dark:text-gray-400"},Rn={class:"flex items-center gap-2 text-sm dark:text-gray-400"},Tn={name:"StudentShowFee"},En=Object.assign(Tn,{props:{student:{type:Object,default(){return{}}}},emits:["refresh"],setup(d,{emit:te}){const Q=ie(),z=Ne(),M=ue(),k=me("emitter"),a=me("$trans"),D=d,b=ye(()=>!(!X("fee:set")||u.fees.length)),f=ye(()=>!X("fee:reset")||!u.fees.length||u.type=="head"?!1:!u.fees.some(n=>{var t,h;return((t=n.status)==null?void 0:t.value)==="paid"||((h=n.status)==null?void 0:h.value)==="partially_paid"})),i=ye(()=>!(!X("fee:set")||!u.fees.length)),j=se(!1),F=Y({feeRecords:[],previousDues:[]}),u=Y({type:"group",date:{},feeGroups:[],fees:[],transactions:[],feeHeads:{},summary:{},siblings:[],registration:{},enableMultiInstallmentPayment:!1}),G=async()=>{await g()},B=n=>{u.type=n,g()},g=async()=>{var n;j.value=!0,await M.dispatch("student/fee/list",{uuid:Q.params.uuid,date:((n=u.date)==null?void 0:n.value)||"",type:u.type}).then(t=>{var h;u.date=t.date,u.fees=t.fees,u.type=="group"?(u.feeGroups=t.feeGroups,u.summary=t.summary,u.feeHeads=[],u.registration=(h=t.student)==null?void 0:h.registration,u.transactions=t.transactions,u.enableMultiInstallmentPayment=t.enableMultiInstallmentPayment):(u.feeHeads=t.feeHeads,u.summary=t.summary,u.feeGroups=[],u.transactions=[]),j.value=!1}).catch(t=>{j.value=!1})},I=async()=>{j.value=!0,await M.dispatch("student/fee/getStudentFees",{uuid:Q.params.uuid}).then(n=>{F.feeRecords=n.feeRecords,F.previousDues=n.previousDues,j.value=!1}).catch(n=>{j.value=!1})},w=async()=>{await ze()&&(j.value=!0,await M.dispatch("student/fee/reset",{uuid:Q.params.uuid}).then(n=>{u.feeGroups=[],u.fees=[],u.feeHeads={},u.summary={},k.emit("studentUpdated"),j.value=!1}).catch(n=>{j.value=!1}))},v=async()=>{ne(["student"],"any")||await M.dispatch("student/fee/getSiblingFees",{uuid:Q.params.uuid}).then(n=>{u.siblings=n.siblings}).catch(n=>{console.log(n)})};return Ce(async()=>{u.date.value=new Date().toLocaleDateString("en-CA"),X("fee:change-payment-date")||await g(),await I(),setTimeout(async()=>{await v()},1e3)}),Se(()=>Q.params.uuid,(n,t)=>{n!=null&&n!=t&&g()}),(n,t)=>{const h=V("BaseButton"),q=V("DropdownItem"),Z=V("PageHeaderAction"),J=V("PageHeader"),R=V("BaseAlert"),le=V("ParentTransition"),oe=V("DatePicker"),re=V("BaseCard"),U=V("CardView");return l(),y(A,null,[d.student.uuid?(l(),C(J,{key:0,title:e(a)(e(Q).meta.label),navs:[{label:e(a)("student.student"),path:"Student"},{label:d.student.contact.name,path:{name:"StudentShow",params:{uuid:d.student.uuid}}}]},{default:s(()=>[r(Z,null,Le({default:s(()=>[b.value&&!d.student.hasFeeStructureSet?(l(),C(h,{key:0,design:"white",onClick:t[0]||(t[0]=S=>e(z).push({name:"StudentSetFee",params:{uuid:D.student.uuid}}))},{default:s(()=>[m(o(e(a)("global.set",{attribute:e(a)("student.fee.fee")})),1)]),_:1})):p("",!0),u.fees.length>0?(l(),y(A,{key:1},[u.type=="group"?(l(),C(h,{key:0,design:"white",onClick:t[1]||(t[1]=S=>B("head"))},{default:s(()=>[m(o(e(a)("student.fee.head_wise")),1)]),_:1})):p("",!0),u.type=="head"?(l(),C(h,{key:1,design:"white",onClick:t[2]||(t[2]=S=>B("group"))},{default:s(()=>[m(o(e(a)("student.fee.group_wise")),1)]),_:1})):p("",!0)],64)):p("",!0)]),_:2},[f.value||i.value?{name:"dropdown",fn:s(()=>[f.value?(l(),C(q,{key:0,icon:"fas fa-times",onClick:w},{default:s(()=>[m(o(e(a)("global.reset",{attribute:e(a)("student.fee.fee")})),1)]),_:1})):p("",!0),i.value?(l(),C(q,{key:1,icon:"fas fa-pencil-alt",onClick:t[3]||(t[3]=S=>e(z).push({name:"StudentEditFee",params:{uuid:D.student.uuid}}))},{default:s(()=>[m(o(e(a)("global.edit",{attribute:e(a)("student.fee.fee")})),1)]),_:1})):p("",!0),i.value?(l(),C(q,{key:2,icon:"fas fa-pen-to-square",onClick:t[4]||(t[4]=S=>e(z).push({name:"StudentCustomFee",params:{uuid:D.student.uuid}}))},{default:s(()=>[m(o(e(a)("finance.fee_head.custom_fee")),1)]),_:1})):p("",!0)]),key:"0"}:void 0]),1024)]),_:1},8,["title","navs"])):p("",!0),r(le,{appear:"",visibility:!0},{default:s(()=>[c("div",vn,[(l(!0),y(A,null,ae(F.feeRecords,S=>(l(),y("span",{onClick:K=>e(z).push({name:"StudentShowFee",params:{uuid:S.uuid}}),class:"cursor-pointer px-4 py-2 bg-primary rounded-xl text-white text-xs"},o(S.course+" "+S.batch)+" ("+o(S.period)+") ",9,_n))),256))]),F.previousDues.length>0?(l(),y("div",{key:0,class:"mt-4","is-loading":j.value},[(l(!0),y(A,null,ae(F.previousDues,S=>(l(),y("div",{class:"cursor-pointer",onClick:K=>e(z).push({name:"StudentShowFee",params:{uuid:S.uuid}})},[r(R,{size:"xs",design:"error"},{default:s(()=>[m(o(e(a)("student.fee.previous_due_info",{period:S.period,amount:S.balance.formatted})),1)]),_:2},1024)],8,Vn))),256))],8,$n)):p("",!0)]),_:1}),r(le,{appear:"",visibility:!0},{default:s(()=>[d.student.uuid?(l(),C(re,{key:0,"no-padding":"","no-content-padding":"","bottom-content-padding":"","is-loading":j.value},{title:s(()=>[u.type=="group"?(l(),y("span",Cn,o(e(a)("student.fee.group_wise")),1)):(l(),y("span",Dn,o(e(a)("student.fee.head_wise")),1))]),action:s(()=>[e(X)("fee:change-payment-date")?(l(),C(oe,{key:0,slim:"",modelValue:u.date.value,"onUpdate:modelValue":t[5]||(t[5]=S=>u.date.value=S),name:"date","no-clear":"",onChange:G},null,8,["modelValue"])):(l(),y("span",Un,o(u.date.formatted),1))]),default:s(()=>{var S,K,$;return[u.fees.length===0?(l(),y("div",Fn,[r(R,{size:"xs",design:"error"},{default:s(()=>[m(o(e(a)("student.fee.set_fee_info")),1)]),_:1})])):(l(),y(A,{key:1},[u.type=="group"?(l(),C(Ea,{key:0,state:u,onSetIsLoading:t[6]||(t[6]=W=>j.value=W),onRefresh:g},null,8,["state"])):p("",!0),u.type=="head"?(l(),C(hn,{key:1,state:u,onSetIsLoading:t[7]||(t[7]=W=>j.value=W),onRefresh:g},null,8,["state"])):p("",!0)],64)),c("div",wn,[(S=u.registration)!=null&&S.uuid&&(($=(K=u.registration)==null?void 0:K.fee)!=null&&$.amount)?(l(),C(R,{key:0,size:"xs",design:"info"},{default:s(()=>{var W,N,fe,pe,be;return[m(o(e(a)("student.fee.registration_info",{code_number:(W=u.registration)==null?void 0:W.codeNumber,date:(fe=(N=u.registration)==null?void 0:N.date)==null?void 0:fe.formatted,fee:(be=(pe=u.registration)==null?void 0:pe.fee)==null?void 0:be.formatted})),1)]}),_:1})):p("",!0)])]}),_:1},8,["is-loading"])):p("",!0),u.siblings.length>0?(l(),C(re,{key:1,class:"mt-4"},{title:s(()=>[m(o(e(a)("student.sibling.sibling")),1)]),default:s(()=>[c("div",Bn,[(l(!0),y(A,null,ae(u.siblings,S=>(l(),y("div",{key:S.uuid,class:"cursor-pointer",onClick:K=>e(z).push({name:"StudentShowFee",params:{uuid:S.uuid}})},[r(U,{"img-src":S.photoUrl},{title:s(()=>[m(o(S.name)+" ",1),S.codeNumber?(l(),y("span",Mn,"("+o(S.codeNumber)+")",1)):p("",!0)]),default:s(()=>[c("p",jn,o(S.courseName+" "+S.batchName),1),c("div",Nn,[c("span",null,o(e(a)("student.fee.total"))+": "+o(S.feeSummary.totalFee.formatted),1)]),c("div",Sn,[c("span",null,o(e(a)("student.fee.paid"))+": "+o(S.feeSummary.paidFee.formatted),1)]),c("div",Rn,[c("span",null,o(e(a)("student.fee.balance"))+": "+o(S.feeSummary.balanceFee.formatted),1)])]),_:2},1032,["img-src"])],8,Pn))),128))])]),_:1})):p("",!0)]),_:1})],64)}}});export{En as default};
