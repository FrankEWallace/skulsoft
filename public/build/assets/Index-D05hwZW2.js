import{m as F,r as s,t as C,o as c,w as e,d as $,e as t,i as T,k as E,z as I,p as z,f as p,a as k,F as D,y as P,v as u,x as r,b as S}from"./app-Cvm44xuh.js";const G={class:"grid grid-cols-3 gap-6"},J={class:"col-span-3 sm:col-span-1"},K={class:"col-span-3 sm:col-span-1"},Q={class:"col-span-3 sm:col-span-1"},W={__name:"Filter",props:{preRequisites:{type:Object,default(){return{}}}},emits:["hide"],setup(B,{emit:m}){const v=m,y={name:"",category:"",department:""},d=F({...y});return(_,l)=>{const A=s("BaseInput"),f=s("BaseSelect"),h=s("FilterForm");return c(),C(h,{"init-form":y,form:d,onHide:l[3]||(l[3]=a=>v("hide"))},{default:e(()=>[$("div",G,[$("div",J,[t(A,{type:"text",modelValue:d.name,"onUpdate:modelValue":l[0]||(l[0]=a=>d.name=a),name:"name",label:_.$trans("approval.type.props.name")},null,8,["modelValue","label"])]),$("div",K,[t(f,{modelValue:d.category,"onUpdate:modelValue":l[1]||(l[1]=a=>d.category=a),name:"category",label:_.$trans("approval.type.props.category"),options:B.preRequisites.categories},null,8,["modelValue","label","options"])]),$("div",Q,[t(f,{modelValue:d.department,"onUpdate:modelValue":l[2]||(l[2]=a=>d.department=a),name:"department",label:_.$trans("employee.department.department"),options:B.preRequisites.departments,"label-prop":"name","value-prop":"uuid"},null,8,["modelValue","label","options"])])])]),_:1},8,["form"])}}},X={class:"text-xs"},Y={key:0},Z={name:"ApprovalTypeList"},ee=Object.assign(Z,{setup(B){const m=T(),v=E("emitter");let y=["create","filter"];I("approval:config")&&y.push("config");const d="approval/type/",_=F({categories:[],departments:[]}),l=z(!1),A=a=>{Object.assign(_,a)},f=F({}),h=a=>{Object.assign(f,a)};return(a,i)=>{const q=s("BaseButton"),H=s("PageHeaderAction"),j=s("PageHeader"),V=s("ParentTransition"),L=s("BaseBadge"),g=s("DataCell"),b=s("FloatingMenuItem"),M=s("FloatingMenu"),O=s("DataRow"),N=s("DataTable"),U=s("ListItem");return c(),C(U,{"init-url":d,"pre-requisites":!0,onSetPreRequisites:A,onSetItems:h},{header:e(()=>[t(j,{title:a.$trans("approval.type.type"),navs:[{label:a.$trans("approval.approval"),path:"Approval"}]},{default:e(()=>[t(H,{url:"approval/types/",name:"ApprovalType","config-path":"ApprovalConfig",title:a.$trans("approval.type.type"),actions:p(y),"dropdown-actions":["print","pdf","excel"],onToggleFilter:i[1]||(i[1]=n=>l.value=!l.value)},{default:e(()=>[p(I)("approval-request:read")?(c(),C(q,{key:0,design:"white",onClick:i[0]||(i[0]=n=>p(m).push({name:"ApprovalRequestList"}))},{default:e(()=>[u(r(a.$trans("approval.request.request")),1)]),_:1})):S("",!0)]),_:1},8,["title","actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[t(V,{appear:"",visibility:l.value},{default:e(()=>[t(W,{onRefresh:i[2]||(i[2]=n=>p(v).emit("listItems")),"pre-requisites":_,onHide:i[3]||(i[3]=n=>l.value=!1)},null,8,["pre-requisites"])]),_:1},8,["visibility"])]),default:e(()=>[t(V,{appear:"",visibility:!0},{default:e(()=>[t(N,{header:f.headers,meta:f.meta,module:"approval.type",onRefresh:i[5]||(i[5]=n=>p(v).emit("listItems"))},{actionButton:e(()=>[t(q,{onClick:i[4]||(i[4]=n=>p(m).push({name:"ApprovalTypeCreate"}))},{default:e(()=>[u(r(a.$trans("global.add",{attribute:a.$trans("approval.type.type")})),1)]),_:1})]),default:e(()=>[(c(!0),k(D,null,P(f.data,n=>(c(),C(O,{key:n.uuid,onDoubleClick:o=>p(m).push({name:"ApprovalTypeShow",params:{uuid:n.uuid}})},{default:e(()=>[t(g,{name:"name"},{default:e(()=>[u(r(n.name)+" ",1),t(L,{design:n.status.color},{default:e(()=>[u(r(n.status.label),1)]),_:2},1032,["design"])]),_:2},1024),t(g,{name:"category"},{default:e(()=>{var o;return[u(r(((o=n.category)==null?void 0:o.label)||""),1)]}),_:2},1024),t(g,{name:"department"},{default:e(()=>{var o;return[u(r(((o=n.department)==null?void 0:o.name)||""),1)]}),_:2},1024),t(g,{name:"levels"},{default:e(()=>[$("div",X,[(c(!0),k(D,null,P(n.levels,o=>{var R,w;return c(),k("div",{key:o.uuid},[u(r(((R=o.employee)==null?void 0:R.name)||"")+" ",1),o.isOtherTeamMember?(c(),k("span",Y,r((w=o.employee)==null?void 0:w.teamCode),1)):S("",!0)])}),128))])]),_:2},1024),t(g,{name:"createdAt"},{default:e(()=>[u(r(n.createdAt.formatted),1)]),_:2},1024),t(g,{name:"action"},{default:e(()=>[t(M,null,{default:e(()=>[t(b,{icon:"fas fa-arrow-circle-right",onClick:o=>p(m).push({name:"ApprovalTypeShow",params:{uuid:n.uuid}})},{default:e(()=>[u(r(a.$trans("general.show")),1)]),_:2},1032,["onClick"]),t(b,{icon:"fas fa-edit",onClick:o=>p(m).push({name:"ApprovalTypeEdit",params:{uuid:n.uuid}})},{default:e(()=>[u(r(a.$trans("general.edit")),1)]),_:2},1032,["onClick"]),t(b,{icon:"fas fa-copy",onClick:o=>p(m).push({name:"ApprovalTypeDuplicate",params:{uuid:n.uuid}})},{default:e(()=>[u(r(a.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),t(b,{icon:"fas fa-trash",onClick:o=>p(v).emit("deleteItem",{uuid:n.uuid})},{default:e(()=>[u(r(a.$trans("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDoubleClick"]))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{ee as default};
