import{m as V,r as l,t as _,o as r,w as e,d as w,e as n,i as S,k as j,z as f,p as E,f as o,a as B,F as U,y as x,v as u,x as d,b as I}from"./app-Cvm44xuh.js";const G={class:"grid grid-cols-3 gap-6"},O={class:"col-span-3 sm:col-span-1"},z={class:"col-span-3 sm:col-span-1"},q={__name:"Filter",emits:["hide"],setup(h,{emit:c}){const v=c,g={name:"",alias:""},m=V({...g});return(b,s)=>{const p=l("BaseInput"),y=l("FilterForm");return r(),_(y,{"init-form":g,form:m,onHide:s[2]||(s[2]=$=>v("hide"))},{default:e(()=>[w("div",G,[w("div",O,[n(p,{type:"text",modelValue:m.name,"onUpdate:modelValue":s[0]||(s[0]=$=>m.name=$),name:"name",label:b.$trans("employee.department.props.name")},null,8,["modelValue","label"])]),w("div",z,[n(p,{type:"text",modelValue:m.alias,"onUpdate:modelValue":s[1]||(s[1]=$=>m.alias=$),name:"alias",label:b.$trans("employee.department.props.alias")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},J={key:0,class:"far fa-circle-check fa-lg text-success"},K={key:1,class:"far fa-circle-xmark fa-lg text-danger"},Q={name:"EmployeeDepartmentList"},X=Object.assign(Q,{setup(h){const c=S(),v=j("emitter");let g=["filter"];f("department:create")&&g.unshift("create");let m=[];f("department:export")&&(m=["print","pdf","excel"]),f("department:create")&&m.unshift("import");const b="employee/department/",s=E(!1),p=E(!1),y=V({}),$=i=>{Object.assign(y,i)};return(i,a)=>{const H=l("PageHeaderAction"),T=l("PageHeader"),A=l("BaseImport"),F=l("ParentTransition"),k=l("DataCell"),C=l("FloatingMenuItem"),P=l("FloatingMenu"),R=l("DataRow"),L=l("BaseButton"),M=l("DataTable"),N=l("ListItem");return r(),_(N,{"init-url":b,onSetItems:$},{header:e(()=>[n(T,{title:i.$trans("employee.department.department"),navs:[{label:i.$trans("employee.employee"),path:"Employee"}]},{default:e(()=>[n(H,{url:"employee/departments/",name:"EmployeeDepartment",title:i.$trans("employee.department.department"),actions:o(g),"dropdown-actions":o(m),onToggleFilter:a[0]||(a[0]=t=>s.value=!s.value),onToggleImport:a[1]||(a[1]=t=>p.value=!p.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),import:e(()=>[n(F,{appear:"",visibility:p.value},{default:e(()=>[n(A,{path:"employee/departments/import",onCancelled:a[2]||(a[2]=t=>p.value=!1),onHide:a[3]||(a[3]=t=>p.value=!1),onCompleted:a[4]||(a[4]=t=>o(v).emit("listItems"))})]),_:1},8,["visibility"])]),filter:e(()=>[n(F,{appear:"",visibility:s.value},{default:e(()=>[n(q,{onRefresh:a[5]||(a[5]=t=>o(v).emit("listItems")),onHide:a[6]||(a[6]=t=>s.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[n(F,{appear:"",visibility:!0},{default:e(()=>[n(M,{header:y.headers,meta:y.meta,module:"employee.department",onRefresh:a[8]||(a[8]=t=>o(v).emit("listItems"))},{actionButton:e(()=>[o(f)("department:create")?(r(),_(L,{key:0,onClick:a[7]||(a[7]=t=>o(c).push({name:"EmployeeDepartmentCreate"}))},{default:e(()=>[u(d(i.$trans("global.add",{attribute:i.$trans("employee.department.department")})),1)]),_:1})):I("",!0)]),default:e(()=>[(r(!0),B(U,null,x(y.data,t=>(r(),_(R,{key:t.uuid,onDoubleClick:D=>o(c).push({name:"EmployeeDepartmentShow",params:{uuid:t.uuid}})},{default:e(()=>[n(k,{name:"name"},{default:e(()=>[u(d(t.name),1)]),_:2},1024),n(k,{name:"alias"},{default:e(()=>[u(d(t.alias),1)]),_:2},1024),n(k,{name:"isGlobal"},{default:e(()=>[t.isGlobal?(r(),B("i",J)):(r(),B("i",K))]),_:2},1024),n(k,{name:"createdAt"},{default:e(()=>[u(d(t.createdAt.formatted),1)]),_:2},1024),n(k,{name:"action"},{default:e(()=>[n(P,null,{default:e(()=>[n(C,{icon:"fas fa-arrow-circle-right",onClick:D=>o(c).push({name:"EmployeeDepartmentShow",params:{uuid:t.uuid}})},{default:e(()=>[u(d(i.$trans("general.show")),1)]),_:2},1032,["onClick"]),o(f)("department:edit")?(r(),_(C,{key:0,icon:"fas fa-edit",onClick:D=>o(c).push({name:"EmployeeDepartmentEdit",params:{uuid:t.uuid}})},{default:e(()=>[u(d(i.$trans("general.edit")),1)]),_:2},1032,["onClick"])):I("",!0),o(f)("department:create")?(r(),_(C,{key:1,icon:"fas fa-copy",onClick:D=>o(c).push({name:"EmployeeDepartmentDuplicate",params:{uuid:t.uuid}})},{default:e(()=>[u(d(i.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):I("",!0),o(f)("department:delete")?(r(),_(C,{key:2,icon:"fas fa-trash",onClick:D=>o(v).emit("deleteItem",{uuid:t.uuid})},{default:e(()=>[u(d(i.$trans("general.delete")),1)]),_:2},1032,["onClick"])):I("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDoubleClick"]))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{X as default};
