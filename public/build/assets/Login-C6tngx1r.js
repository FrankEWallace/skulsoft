import{u as $,j as z,k as P,z as w,c as F,g as I,p as O,r as l,a as _,o,t as d,b as y,e as n,w as e,f as t,v as s,x as u,d as E,F as b,y as V}from"./app-Cvm44xuh.js";const R={key:1,class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-3"},U={class:"space-x-1"},q={class:"flex flex-wrap gap-2"},G={name:"EmployeeShowLogin"},M=Object.assign(G,{props:{employee:{type:Object,default(){return{}}}},setup(c){const A=$(),j=z(),a=P("$trans"),H=P("emitter"),g=c;let x=[];w("employee:edit")&&x.push({label:a("global.edit",{attribute:a("contact.login.login")}),path:{name:"EmployeeEditLogin",params:{uuid:g.employee.uuid}}});const i=F(()=>g.employee.contact.user),L=I("periods"),v=O(!1),N=f=>{var p;f.id!=((p=i.value)==null?void 0:p.currentPeriodId)&&(v.value=!0,j.dispatch("employee/updateCurrentPeriod",{uuid:g.employee.uuid,form:{period_id:f.id}}).then(()=>{H.emit("employeeUpdated")}).catch(()=>{}).finally(()=>{v.value=!1}))};return(f,p)=>{const S=l("PageHeaderAction"),D=l("PageHeader"),T=l("BaseAlert"),m=l("BaseDataView"),B=l("BaseBadge"),h=l("BaseCard"),k=l("ParentTransition");return o(),_(b,null,[c.employee.uuid?(o(),d(D,{key:0,title:t(a)(t(A).meta.label),navs:[{label:t(a)("employee.employee"),path:"Employee"},{label:c.employee.contact.name,path:{name:"EmployeeShow",params:{uuid:c.employee.uuid}}}]},{default:e(()=>[n(S,{"additional-actions":t(x)},null,8,["additional-actions"])]),_:1},8,["title","navs"])):y("",!0),n(k,{appear:"",visibility:!0},{default:e(()=>[c.employee.uuid?(o(),d(h,{key:0},{default:e(()=>[i.value?(o(),_("dl",R,[n(m,{label:t(a)("contact.login.props.email")},{default:e(()=>[s(u(i.value.email),1)]),_:1},8,["label"]),n(m,{label:t(a)("contact.login.props.username")},{default:e(()=>[s(u(i.value.username),1)]),_:1},8,["label"]),n(m,{label:t(a)("contact.login.props.password")},{default:e(()=>p[0]||(p[0]=[s(" xxxxxxxxx ")])),_:1,__:[0]},8,["label"]),n(m,{label:t(a)("team.config.role.role")},{default:e(()=>[E("div",U,[(o(!0),_(b,null,V(i.value.roles,r=>(o(),d(B,{design:"primary"},{default:e(()=>[s(u(r.label),1)]),_:2},1024))),256))])]),_:1},8,["label"])])):(o(),d(T,{key:0,design:"error"},{default:e(()=>[s(u(t(a)("contact.login.no_login_found")),1)]),_:1}))]),_:1})):y("",!0)]),_:1}),t(w)("employee:edit")?(o(),d(k,{key:1,appear:"",visibility:!0},{default:e(()=>[n(h,null,{title:e(()=>[s(u(t(a)("global.update",{attribute:t(a)("academic.period.current_period")})),1)]),default:e(()=>[E("div",q,[(o(!0),_(b,null,V(t(L),r=>{var C;return o(),d(B,{key:r.id,size:"md",design:r.id==((C=i.value)==null?void 0:C.currentPeriodId)?"success":"info",class:"cursor-pointer",onClick:J=>N(r)},{default:e(()=>[s(u(r.name),1)]),_:2},1032,["design","onClick"])}),128))])]),_:1})]),_:1})):y("",!0)],64)}}});export{M as default};
