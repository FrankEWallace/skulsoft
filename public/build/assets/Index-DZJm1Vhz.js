import{m as S,r as m,t as f,o as r,w as e,d as F,e as n,u as L,i as M,k as O,z as u,p as z,f as t,a as w,F as E,y as q,v as l,b as g,x as i}from"./app-Cvm44xuh.js";const G={class:"grid grid-cols-3 gap-6"},J={class:"col-span-3 sm:col-span-1"},K={class:"col-span-3 sm:col-span-1"},Q={class:"col-span-3 sm:col-span-1"},W={__name:"Filter",emits:["hide"],setup(s,{emit:V}){const v=V,k={name:"",alias:"",number:""},d=S({...k});return(C,c)=>{const y=m("BaseInput"),_=m("FilterForm");return r(),f(_,{"init-form":k,form:d,onHide:c[3]||(c[3]=b=>v("hide"))},{default:e(()=>[F("div",G,[F("div",J,[n(y,{type:"text",modelValue:d.name,"onUpdate:modelValue":c[0]||(c[0]=b=>d.name=b),name:"name",label:C.$trans("finance.account.props.name")},null,8,["modelValue","label"])]),F("div",K,[n(y,{type:"text",modelValue:d.alias,"onUpdate:modelValue":c[1]||(c[1]=b=>d.alias=b),name:"alias",label:C.$trans("finance.account.props.alias")},null,8,["modelValue","label"])]),F("div",Q,[n(y,{type:"text",modelValue:d.number,"onUpdate:modelValue":c[2]||(c[2]=b=>d.number=b),name:"number",label:C.$trans("finance.account.props.number")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},X={name:"EmployeeAccountList"},Z=Object.assign(X,{props:{employee:{type:Object,default(){return{}}}},setup(s){const V=L(),v=M(),k=O("emitter"),d=s;let C=["filter"];(u("employee:edit")||u("employee-record:manage")||d.employee.selfService)&&C.unshift("create");const c="employee/account/",y=z(!1),_=S({}),b=o=>{Object.assign(_,o)},D=async o=>{k.emit("actionItem",{uuid:d.employee.uuid,moduleUuid:o.uuid,action:"makePrimary",confirmation:!0})};return(o,p)=>{const P=m("PageHeaderAction"),N=m("PageHeader"),A=m("ParentTransition"),I=m("BaseBadge"),$=m("DataCell"),h=m("FloatingMenuItem"),U=m("FloatingMenu"),H=m("DataRow"),R=m("BaseButton"),T=m("DataTable"),j=m("ListItem");return r(),f(j,{"init-url":c,uuid:t(V).params.uuid,onSetItems:b},{header:e(()=>[s.employee.uuid?(r(),f(N,{key:0,title:o.$trans("finance.account.account"),navs:[{label:o.$trans("employee.employee"),path:"Employee"},{label:s.employee.contact.name,path:{name:"EmployeeShow",params:{uuid:s.employee.uuid}}}]},{default:e(()=>[n(P,{url:`employees/${s.employee.uuid}/accounts/`,name:"EmployeeAccount",title:o.$trans("finance.account.account"),actions:t(C),"dropdown-actions":["print","pdf","excel"],onToggleFilter:p[0]||(p[0]=a=>y.value=!y.value)},null,8,["url","title","actions"])]),_:1},8,["title","navs"])):g("",!0)]),filter:e(()=>[n(A,{appear:"",visibility:y.value},{default:e(()=>[n(W,{onRefresh:p[1]||(p[1]=a=>t(k).emit("listItems")),onHide:p[2]||(p[2]=a=>y.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[n(A,{appear:"",visibility:!0},{default:e(()=>[n(T,{header:_.headers,meta:_.meta,module:"employee.account",onRefresh:p[4]||(p[4]=a=>t(k).emit("listItems"))},{actionButton:e(()=>[t(u)("employee:edit")||t(u)("employee-record:manage")||s.employee.selfService?(r(),f(R,{key:0,onClick:p[3]||(p[3]=a=>t(v).push({name:"EmployeeAccountCreate"}))},{default:e(()=>[l(i(o.$trans("global.add",{attribute:o.$trans("finance.account.account")})),1)]),_:1})):g("",!0)]),default:e(()=>[(r(!0),w(E,null,q(_.data,a=>(r(),f(H,{key:a.uuid,onDoubleClick:B=>t(v).push({name:"EmployeeAccountShow",params:{uuid:a.uuid}})},{default:e(()=>[n($,{name:"name"},{default:e(()=>[l(i(a.name)+" ",1),a.selfUpload?(r(),f(I,{key:0,design:a.verificationStatus.color},{default:e(()=>[l(i(a.verificationStatus.label),1)]),_:2},1032,["design"])):g("",!0),a.isPrimary?(r(),f(I,{key:1,design:"primary"},{default:e(()=>[l(i(o.$trans("finance.account.props.primary")),1)]),_:1})):g("",!0)]),_:2},1024),n($,{name:"alias"},{default:e(()=>[l(i(a.alias),1)]),_:2},1024),n($,{name:"number"},{default:e(()=>[l(i(a.number),1)]),_:2},1024),n($,{name:"bankName"},{default:e(()=>[l(i(a.bankName),1)]),_:2},1024),n($,{name:"branchName"},{default:e(()=>[l(i(a.branchName),1)]),_:2},1024),n($,{name:"createdAt"},{default:e(()=>[l(i(a.createdAt.formatted),1)]),_:2},1024),n($,{name:"action"},{default:e(()=>[n(U,null,{default:e(()=>[n(h,{icon:"fas fa-arrow-circle-right",onClick:B=>t(v).push({name:"EmployeeAccountShow",params:{uuid:s.employee.uuid,muuid:a.uuid}})},{default:e(()=>[l(i(o.$trans("general.show")),1)]),_:2},1032,["onClick"]),(t(u)("employee:edit")||t(u)("employee-record:manage")||s.employee.selfService)&&!a.isPrimary?(r(),f(h,{key:0,icon:"fas fa-check-circle",onClick:B=>D(a)},{default:e(()=>[l(i(o.$trans("global.set",{attribute:o.$trans("finance.account.props.primary")})),1)]),_:2},1032,["onClick"])):g("",!0),t(u)("employee:edit")||t(u)("employee-record:manage")||s.employee.selfService?(r(),w(E,{key:1},[n(h,{icon:"fas fa-edit",onClick:B=>t(v).push({name:"EmployeeAccountEdit",params:{uuid:s.employee.uuid,muuid:a.uuid}})},{default:e(()=>[l(i(o.$trans("general.edit")),1)]),_:2},1032,["onClick"]),t(u)("employee:edit")||t(u)("employee-record:manage")?(r(),f(h,{key:0,icon:"fas fa-copy",onClick:B=>t(v).push({name:"EmployeeAccountDuplicate",params:{uuid:s.employee.uuid,muuid:a.uuid}})},{default:e(()=>[l(i(o.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):g("",!0),t(u)("employee:edit")||t(u)("employee-record:manage")?(r(),f(h,{key:1,icon:"fas fa-trash",onClick:B=>t(k).emit("deleteItem",{uuid:s.employee.uuid,moduleUuid:a.uuid})},{default:e(()=>[l(i(o.$trans("general.delete")),1)]),_:2},1032,["onClick"])):g("",!0)],64)):g("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDoubleClick"]))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1},8,["uuid"])}}});export{Z as default};
