import{j as D,u as H,i as M,m as N,r as i,a as r,o,e as n,w as e,f as p,t as _,b as g,d as $,v as u,x as l,F as m,y}from"./app-Cvm44xuh.js";const R={class:"space-y-2"},F={class:"flex justify-center gap-2"},O={class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"},U={name:"CommunicationEmailShow"},G=Object.assign(U,{setup(q){D();const f=H(),V=M(),h={},w="communication/email/",t=N({...h}),L=a=>{Object.assign(t,a)},k=a=>t.audiences.filter(c=>c.type===a);return(a,c)=>{const B=i("PageHeaderAction"),T=i("PageHeader"),d=i("ListItemView"),v=i("TextMuted"),j=i("ListContainerVertical"),C=i("BaseCard"),b=i("BaseDataView"),A=i("ListMedia"),S=i("ShowButton"),E=i("DetailLayoutVertical"),I=i("ShowItem"),P=i("ParentTransition");return o(),r(m,null,[n(T,{title:a.$trans(p(f).meta.trans,{attribute:a.$trans(p(f).meta.label)}),navs:[{label:a.$trans("communication.communication"),path:"Communication"},{label:a.$trans("communication.email.email"),path:"CommunicationEmail"}]},{default:e(()=>[n(B,{name:"CommunicationEmail",title:a.$trans("communication.email.email"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),n(P,{appear:"",visibility:!0},{default:e(()=>[n(I,{"init-url":w,uuid:p(f).params.uuid,"module-uuid":p(f).params.muuid,onSetItem:L,onRedirectTo:c[0]||(c[0]=s=>p(V).push({name:"CommunicationEmail",params:{uuid:t.uuid}}))},{default:e(()=>[t.uuid?(o(),_(E,{key:0},{detail:e(()=>[$("div",R,[n(C,{"no-padding":"","no-content-padding":""},{title:e(()=>[u(" #"+l(t.subjectExcerpt),1)]),action:e(()=>c[1]||(c[1]=[])),default:e(()=>[n(j,null,{default:e(()=>[n(d,{label:a.$trans("communication.email.props.subject")},{default:e(()=>[u(l(t.subject),1)]),_:1},8,["label"]),n(d,{label:a.$trans("communication.email.props.audience"),dynamic:""},{default:e(()=>[u(l(t.studentAudienceType.label)+" ",1),(o(!0),r(m,null,y(k("student"),s=>(o(),_(v,{block:""},{default:e(()=>[u(l(s.name),1)]),_:2},1024))),256))]),_:1},8,["label"]),n(d,{label:a.$trans("communication.email.props.audience"),dynamic:""},{default:e(()=>[t.employeeAudienceType.value?(o(),r(m,{key:0},[u(l(t.employeeAudienceType.label)+" ",1),(o(!0),r(m,null,y(k("employee"),s=>(o(),_(v,{block:""},{default:e(()=>[u(l(s.name),1)]),_:2},1024))),256))],64)):(o(),r(m,{key:1},[u("-")],64))]),_:1},8,["label"]),n(d,{label:a.$trans("general.created_at")},{default:e(()=>[u(l(t.createdAt.formatted),1)]),_:1},8,["label"]),n(d,{label:a.$trans("general.updated_at")},{default:e(()=>[u(l(t.updatedAt.formatted),1)]),_:1},8,["label"])]),_:1})]),_:1})])]),default:e(()=>[t.uuid?(o(),_(C,{key:0},{title:e(()=>[$("div",F,l(t.subject),1)]),footer:e(()=>[n(S)]),default:e(()=>[$("dl",O,[n(b,{class:"col-span-1 sm:col-span-2",html:""},{default:e(()=>[u(l(t.content),1)]),_:1}),n(b,{label:a.$trans("communication.email.props.inclusion")},{default:e(()=>[(o(!0),r(m,null,y(t.inclusionList,s=>(o(),r("div",{key:s},l(s),1))),128))]),_:1},8,["label"]),n(b,{label:a.$trans("communication.email.props.exclusion")},{default:e(()=>[(o(!0),r(m,null,y(t.exclusionList,s=>(o(),r("div",{key:s},l(s),1))),128))]),_:1},8,["label"]),t.media.length>0?(o(),_(b,{key:0,class:"col-span-1 sm:col-span-2"},{default:e(()=>[n(A,{media:t.media,url:`/app/communication/emails/${t.uuid}/`},null,8,["media","url"])]),_:1})):g("",!0)])]),_:1})):g("",!0)]),_:1})):g("",!0)]),_:1},8,["uuid","module-uuid"])]),_:1})],64)}}});export{G as default};
