import{j as $,I as F,l as p,c as U,p as d,m as I,r as c,t as N,o as f,w as v,e as s,d as E,a as w,b as x,f as r,v as C,x as T}from"./app-Cvm44xuh.js";const j={class:"grid grid-cols-3 gap-6"},D={class:"col-span-3 sm:col-span-1"},P={class:"col-span-3 sm:col-span-1"},q={key:0,class:"col-span-3 sm:col-span-2"},R={key:1,class:"col-span-3 sm:col-span-2"},z={name:"UserAccount"},J=Object.assign(z,{setup(G){$();const b="user/profile/",i=F(b),V=p("email"),y=p("username"),A=p("isSuperAdmin"),g=U(()=>!!(n.value||u.value)),_=U(()=>o.value?"verifyAccount":"updateAccount"),o=d(!1),n=d(!1),u=d(!1),O={username:y.value,email:V.value,existingEmailOtp:"",newEmailOtp:""},t=I({...O}),B=l=>{l.existingEmailVerification&&(o.value=!0,n.value=!0),l.newEmailVerification&&(o.value=!0,u.value=!0),l.profileUpdated&&(o.value=!1,n.value=!1,u.value=!1,t.existingEmailOtp="",t.newEmailOtp="")};return(l,e)=>{const m=c("BaseInput"),k=c("FormAction"),S=c("ParentTransition");return f(),N(S,{appear:"",visibility:!0},{default:v(()=>[s(k,{"no-card":"","init-url":b,action:_.value,"init-form":O,form:t,"after-submit":B,"stay-on":"",redirect:"Dashboard"},{title:v(()=>[C(T(l.$trans("user.profile.account")),1)]),default:v(()=>[E("div",j,[E("div",D,[s(m,{disabled:g.value||r(A),type:"text",modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=a=>t.username=a),name:"username",label:l.$trans("user.profile.props.username"),error:r(i).username,"onUpdate:error":e[1]||(e[1]=a=>r(i).username=a)},null,8,["disabled","modelValue","label","error"])]),E("div",P,[s(m,{disabled:g.value,type:"text",modelValue:t.email,"onUpdate:modelValue":e[2]||(e[2]=a=>t.email=a),name:"email",label:l.$trans("user.profile.props.email"),error:r(i).email,"onUpdate:error":e[3]||(e[3]=a=>r(i).email=a)},null,8,["disabled","modelValue","label","error"])]),n.value?(f(),w("div",q,[s(m,{type:"password",modelValue:t.existingEmailOtp,"onUpdate:modelValue":e[4]||(e[4]=a=>t.existingEmailOtp=a),name:"existingEmailOtp",label:l.$trans("user.profile.verification_otp",{attribute:r(V)}),error:r(i).existingEmailOtp,"onUpdate:error":e[5]||(e[5]=a=>r(i).existingEmailOtp=a)},null,8,["modelValue","label","error"])])):x("",!0),u.value?(f(),w("div",R,[s(m,{type:"password",modelValue:t.newEmailOtp,"onUpdate:modelValue":e[6]||(e[6]=a=>t.newEmailOtp=a),name:"newEmailOtp",label:l.$trans("user.profile.verification_otp",{attribute:t.email}),error:r(i).newEmailOtp,"onUpdate:error":e[7]||(e[7]=a=>r(i).newEmailOtp=a)},null,8,["modelValue","label","error"])])):x("",!0)])]),_:1},8,["action","form"])]),_:1})}}});export{J as default};
