import{j as J,i as K,g as R,I as Q,c as X,m as C,p as Y,q as Z,r as N,a as $,o as p,d as i,e as m,f as l,v,x as b,w as h,b as g,t as k,F as L,J as ee}from"./app-Cvm44xuh.js";const te={class:"flex justify-end"},oe={class:"flex justify-center"},se={href:"/",class:"mb-6"},re=["src"],ne={class:"text-primary dark:text-darken-secondary text-center text-xl"},ae={class:"text-dark-primary dark:text-darken-secondary text-center"},ie={key:0,class:"mt-8 w-full rounded-lg"},le={key:0},de=["innerHTML"],me={class:"mt-4 grid grid-cols-3 gap-4"},ue={key:0,class:"col-span-3 sm:col-span-1"},pe={class:"col-span-3 sm:col-span-1"},ce={class:"col-span-3 sm:col-span-1"},ge={class:"col-span-3 sm:col-span-1"},fe={class:"col-span-3 sm:col-span-1"},be={class:"flex"},ye={class:"col-span-3 sm:col-span-1"},Ne={class:"col-span-3 sm:col-span-1"},_e={class:"mt-8"},he={class:"cursor-pointer"},$e={class:"mt-4 grid grid-cols-3 gap-4"},ve={class:"col-span-3 sm:col-span-1"},B="onlineRegistration/",Ve={__name:"Default",setup(G){const V=J(),U=K(),x={team:"",period:"",program:"",course:"",firstName:"",middleName:"",lastName:"",contactNumber:"",email:""},T={token:"",code:""},c=R("layout.display").value=="dark"?R("assets.iconLight"):R("assets.icon"),f=Q(B);X(()=>`${r.firstName} ${r.middleName} ${r.lastName}`.replace(/\s+/g," "));const s=Y(null),r=C({...x}),d=C({token:"",code:""}),y=C({status:!1,response:"",selectedPeriod:null,selectedProgram:null,selectedCourse:null,hasVerificationToken:!1,submissionResponse:""}),u=C({instruction:"",genders:[],relations:[],teams:[],periods:[],programs:[],courses:[]}),S=async()=>{await V.dispatch(B+"preRequisite").then(a=>{u.instruction=a.instruction,u.teams=a.teams,u.genders=a.genders,u.relations=a.relations,a.teams.length==1&&(r.team=a.teams[0].uuid,E(r.team))}).catch(a=>{U.push({name:"Dashboard"})})},E=async a=>{if(r.program="",y.selectedProgram=null,u.programs=[],a==null||_.isEmpty(a)){r.team="";return}typeof a=="string"?r.team=a:r.team=a.uuid,await V.dispatch(B+"getPrograms",{team:r.team}).then(o=>{u.programs=o.programs}).catch(o=>{})},j=async a=>{if(r.period="",y.selectedPeriod=null,u.periods=[],a==null||_.isEmpty(a)){r.program={};return}r.program=a.uuid,await V.dispatch(B+"getPeriods",{team:r.team}).then(o=>{u.periods=o.periods}).catch(o=>{})},F=async a=>{if(r.course="",y.selectedCourse=null,u.courses=[],a==null||_.isEmpty(a)){r.period="";return}r.period=a.uuid,await V.dispatch(B+"getCourses",{period:r.period,program:y.selectedProgram.uuid}).then(o=>{u.courses=o.courses}).catch(o=>{})},O=async a=>{if(a==null||_.isEmpty(a)){r.course="",y.selectedCourse=null;return}r.course=a.uuid},A=()=>{u.teams.length==1&&(r.team=u.teams[0].uuid,E(r.team))},n=a=>{y.submissionResponse=a.message,T.token=a.token,Object.assign(d,T),y.hasVerificationToken=!0},t=a=>{localStorage.setItem("authToken",a.token),U.push({name:"OnlineRegistrationForm",params:{number:a.applicationNumber}})};return Z(async()=>{await S()}),(a,o)=>{const w=N("BaseAlert"),P=N("BaseSelect"),M=N("IsRequired"),W=N("BaseLabel"),z=N("NameInput"),I=N("BaseInput"),D=N("FormAction"),H=N("BaseLoader");return p(),$(L,null,[i("div",te,[i("span",{class:"text-sm text-gray-500 cursor-pointer",onClick:o[0]||(o[0]=e=>l(U).push({name:"Dashboard"}))},[o[21]||(o[21]=i("i",{class:"fas fa-home mr-1"},null,-1)),v(" "+b(a.$trans("global.go_to",{attribute:a.$trans("dashboard.home")})),1)])]),i("div",oe,[i("a",se,[i("img",{class:"h-16 w-auto",src:l(c),alt:""},null,8,re)])]),m(H,{"is-loading":s.value},{default:h(()=>[i("div",null,[i("p",ne,b(a.$trans("student.online_registration.title")),1),i("p",ae,b(a.$trans("student.online_registration.subtitle")),1)]),u.teams.length>0?(p(),$("div",ie,[y.hasVerificationToken?g("",!0):(p(),k(D,{key:0,"init-url":B,"init-form":x,form:r,action:"initiate","keep-adding":!1,"submit-text":a.$trans("general.proceed"),"after-reset":A,"after-submit":n},{default:h(()=>[u.instruction?(p(),$("div",le,[m(w,{size:"xs",design:"info"},{default:h(()=>[v(b(a.$trans("student.registration.online_registration_instruction_alert")),1)]),_:1}),i("div",{class:"mt-4 text-sm",innerHTML:u.instruction},null,8,de)])):g("",!0),i("div",me,[u.teams.length>1||!r.team?(p(),$("div",ue,[m(P,{"is-required":"",modelValue:r.team,"onUpdate:modelValue":o[1]||(o[1]=e=>r.team=e),name:"team",label:a.$trans("team.team"),"label-prop":"name","value-prop":"uuid",options:u.teams,error:l(f).team,"onUpdate:error":o[2]||(o[2]=e=>l(f).team=e),onSelected:E},null,8,["modelValue","label","options","error"])])):g("",!0),i("div",pe,[r.team?(p(),k(P,{key:0,"is-required":"",modelValue:y.selectedProgram,"onUpdate:modelValue":o[3]||(o[3]=e=>y.selectedProgram=e),name:"program",label:a.$trans("academic.program.program"),"label-prop":"name","value-prop":"uuid",options:u.programs,"object-prop":!0,error:l(f).program,"onUpdate:error":o[4]||(o[4]=e=>l(f).program=e),onSelected:j},null,8,["modelValue","label","options","error"])):g("",!0)]),i("div",ce,[r.program?(p(),k(P,{key:0,"is-required":"",modelValue:y.selectedPeriod,"onUpdate:modelValue":o[5]||(o[5]=e=>y.selectedPeriod=e),name:"period",label:a.$trans("academic.period.period"),"label-prop":"name","value-prop":"uuid",options:u.periods,"object-prop":!0,error:l(f).period,"onUpdate:error":o[6]||(o[6]=e=>l(f).period=e),onSelected:F},null,8,["modelValue","label","options","error"])):g("",!0)]),i("div",ge,[r.period?(p(),k(P,{key:0,"is-required":"",modelValue:y.selectedCourse,"onUpdate:modelValue":o[7]||(o[7]=e=>y.selectedCourse=e),name:"course",label:a.$trans("academic.course.course"),"value-prop":"uuid",options:u.courses,"object-prop":!0,"track-by":["nameWithTerm","name","term"],error:l(f).course,"onUpdate:error":o[8]||(o[8]=e=>l(f).course=e),onChange:O},{selectedOption:h(e=>[v(b(e.value.nameWithTerm),1)]),listOption:h(e=>[v(b(e.option.nameWithTerm),1)]),_:1},8,["modelValue","label","options","error"])):g("",!0)]),r.period?(p(),$(L,{key:1},[i("div",fe,[m(W,null,{default:h(()=>[i("span",null,[v(b(a.$trans("student.props.name")),1),m(M,{"is-required":""})])]),_:1}),i("div",be,[m(z,{firstName:r.firstName,"onUpdate:firstName":o[9]||(o[9]=e=>r.firstName=e),middleName:r.middleName,"onUpdate:middleName":o[10]||(o[10]=e=>r.middleName=e),thirdName:r.thirdName,"onUpdate:thirdName":o[11]||(o[11]=e=>r.thirdName=e),lastName:r.lastName,"onUpdate:lastName":o[12]||(o[12]=e=>r.lastName=e),formErrors:l(f),"onUpdate:formErrors":o[13]||(o[13]=e=>ee(f)?f.value=e:null)},null,8,["firstName","middleName","thirdName","lastName","formErrors"])])]),i("div",ye,[m(I,{"is-required":"",type:"text",modelValue:r.contactNumber,"onUpdate:modelValue":o[14]||(o[14]=e=>r.contactNumber=e),name:"contactNumber",label:a.$trans("contact.props.contact_number"),error:l(f).contactNumber,"onUpdate:error":o[15]||(o[15]=e=>l(f).contactNumber=e)},null,8,["modelValue","label","error"])]),i("div",Ne,[m(I,{"is-required":"",type:"text",modelValue:r.email,"onUpdate:modelValue":o[16]||(o[16]=e=>r.email=e),name:"email",label:a.$trans("contact.props.email"),error:l(f).email,"onUpdate:error":o[17]||(o[17]=e=>l(f).email=e)},null,8,["modelValue","label","error"])])],64)):g("",!0)]),i("div",_e,[m(w,{size:"xs",design:"info",onClick:o[18]||(o[18]=e=>l(U).push({name:"OnlineRegistrationVerify"}))},{default:h(()=>[i("span",he,b(a.$trans("student.online_registration.already_have_application_number_info")),1)]),_:1})])]),_:1},8,["form","submit-text"])),y.hasVerificationToken?(p(),k(D,{key:1,"init-url":B,"init-form":T,form:d,action:"confirm","keep-adding":!1,"submit-text":a.$trans("student.online_registration.props.confirm"),"after-submit":t},{default:h(()=>[m(w,{size:"xs",design:"info"},{default:h(()=>[v(b(y.submissionResponse),1)]),_:1}),i("div",$e,[i("div",ve,[m(I,{type:"text",modelValue:d.code,"onUpdate:modelValue":o[19]||(o[19]=e=>d.code=e),name:"code",label:a.$trans("student.online_registration.props.code"),error:l(f).code,"onUpdate:error":o[20]||(o[20]=e=>l(f).code=e)},null,8,["modelValue","label","error"])])])]),_:1},8,["form","submit-text"])):g("",!0)])):g("",!0)]),_:1},8,["is-loading"])],64)}}},ke={class:"flex justify-end"},Ue={class:"flex justify-center"},Pe={href:"/",class:"mb-6"},Be=["src"],qe={class:"text-primary dark:text-darken-secondary text-center text-xl"},Ce={class:"text-dark-primary dark:text-darken-secondary text-center"},Re={key:0,class:"mt-8 w-full rounded-lg"},xe={key:0},Ee=["innerHTML"],we={class:"mt-4 grid grid-cols-3 gap-4"},Ie={key:0,class:"col-span-3 sm:col-span-1"},Te={key:1,class:"col-span-3 sm:col-span-1"},Le={key:2,class:"col-span-3 sm:col-span-1"},Se={class:"col-span-3 sm:col-span-1"},De={class:"flex"},je={class:"col-span-3 sm:col-span-1"},Fe={class:"col-span-3 sm:col-span-1"},Oe={class:"col-span-3 sm:col-span-1"},Ae={class:"col-span-3 sm:col-span-1"},Me={class:"col-span-3 sm:col-span-1"},We={class:"col-span-3 sm:col-span-1"},q="onlineRegistration/",ze={__name:"Minimal",setup(G){const V=J(),U=K(),x={team:"",period:"",program:"",course:"",batch:"",firstName:"",middleName:"",lastName:"",gender:"",birthDate:"",contactNumber:"",email:""},T=R("layout.display").value=="dark"?R("assets.iconLight"):R("assets.icon"),c=Q(q);X(()=>`${s.firstName} ${s.middleName} ${s.lastName}`.replace(/\s+/g," "));const f=Y(null),s=C({...x}),r=C({status:!1,response:"",selectedPeriod:null,selectedProgram:null,selectedCourse:null,hasVerificationToken:!1,submissionResponse:""}),d=C({instruction:"",genders:[],relations:[],teams:[],periods:[],programs:[],courses:[]}),y=async()=>{await V.dispatch(q+"preRequisite").then(n=>{d.instruction=n.instruction,d.teams=n.teams,d.genders=n.genders,d.relations=n.relations,n.teams.length==1&&(s.team=n.teams[0].uuid,u(s.team))}).catch(n=>{U.push({name:"Dashboard"})})},u=async n=>{if(s.program="",r.selectedProgram=null,d.programs=[],n==null||_.isEmpty(n)){s.team="";return}typeof n=="string"?s.team=n:s.team=n.uuid,await V.dispatch(q+"getPrograms",{team:s.team}).then(t=>{d.programs=t.programs,d.programs.length==1&&(s.program=d.programs[0].uuid,r.selectedProgram=d.programs[0],S(d.programs[0]))}).catch(t=>{})},S=async n=>{if(s.period="",r.selectedPeriod=null,d.periods=[],n==null||_.isEmpty(n)){s.program={};return}s.program=n.uuid,await V.dispatch(q+"getPeriods",{team:s.team}).then(t=>{d.periods=t.periods,d.periods.length==1&&(s.period=d.periods[0].uuid,r.selectedPeriod=d.periods[0],E(d.periods[0]))}).catch(t=>{})},E=async n=>{if(s.course="",r.selectedCourse=null,d.courses=[],n==null||_.isEmpty(n)){s.period="";return}s.period=n.uuid,await V.dispatch(q+"getCourses",{period:s.period,program:r.selectedProgram.uuid}).then(t=>{d.courses=t.courses}).catch(t=>{})},j=async n=>{if(s.batch="",r.selectedBatch=null,d.batches=[],n==null||_.isEmpty(n)){s.course="";return}s.course=n.uuid,await V.dispatch(q+"getBatches",{course:s.course,period:s.period}).then(t=>{d.batches=t.batches}).catch(t=>{})},F=async n=>{if(n==null||_.isEmpty(n)){s.course="",r.selectedCourse=null;return}j(n),s.course=n.uuid},O=()=>{d.teams.length==1&&(s.team=d.teams[0].uuid,u(s.team))},A=n=>{r.submissionResponse=n.message};return Z(async()=>{await y()}),(n,t)=>{const a=N("BaseAlert"),o=N("BaseSelect"),w=N("IsRequired"),P=N("BaseLabel"),M=N("NameInput"),W=N("BaseRadioGroup"),z=N("DatePicker"),I=N("BaseInput"),D=N("FormAction"),H=N("BaseLoader");return p(),$(L,null,[i("div",ke,[i("span",{class:"text-sm text-gray-500 cursor-pointer",onClick:t[0]||(t[0]=e=>l(U).push({name:"Dashboard"}))},[t[24]||(t[24]=i("i",{class:"fas fa-home mr-1"},null,-1)),v(" "+b(n.$trans("global.go_to",{attribute:n.$trans("dashboard.home")})),1)])]),i("div",Ue,[i("a",Pe,[i("img",{class:"h-16 w-auto",src:l(T),alt:""},null,8,Be)])]),m(H,{"is-loading":f.value},{default:h(()=>[i("div",null,[i("p",qe,b(n.$trans("student.online_registration.title")),1),i("p",Ce,b(n.$trans("student.online_registration.subtitle")),1)]),d.teams.length>0?(p(),$("div",Re,[m(D,{"init-url":q,"init-form":x,form:s,action:"initiateMinimal","keep-adding":!1,"submit-text":n.$trans("general.proceed"),"after-reset":O,"after-submit":A},{default:h(()=>[d.instruction?(p(),$("div",xe,[m(a,{size:"xs",design:"info"},{default:h(()=>[v(b(n.$trans("student.registration.online_registration_instruction_alert")),1)]),_:1}),i("div",{class:"mt-4 text-sm",innerHTML:d.instruction},null,8,Ee)])):g("",!0),i("div",we,[d.teams.length>1||!s.team?(p(),$("div",Ie,[m(o,{"is-required":"",modelValue:s.team,"onUpdate:modelValue":t[1]||(t[1]=e=>s.team=e),name:"team",label:n.$trans("team.team"),"label-prop":"name","value-prop":"uuid",options:d.teams,error:l(c).team,"onUpdate:error":t[2]||(t[2]=e=>l(c).team=e),onSelected:u},null,8,["modelValue","label","options","error"])])):g("",!0),d.programs.length>1?(p(),$("div",Te,[s.team?(p(),k(o,{key:0,"is-required":"",modelValue:r.selectedProgram,"onUpdate:modelValue":t[3]||(t[3]=e=>r.selectedProgram=e),name:"program",label:n.$trans("academic.program.program"),"label-prop":"name","value-prop":"uuid",options:d.programs,"object-prop":!0,error:l(c).program,"onUpdate:error":t[4]||(t[4]=e=>l(c).program=e),onSelected:S},null,8,["modelValue","label","options","error"])):g("",!0)])):g("",!0),d.periods.length>1?(p(),$("div",Le,[s.program?(p(),k(o,{key:0,"is-required":"",modelValue:r.selectedPeriod,"onUpdate:modelValue":t[5]||(t[5]=e=>r.selectedPeriod=e),name:"period",label:n.$trans("academic.period.period"),"label-prop":"name","value-prop":"uuid",options:d.periods,"object-prop":!0,error:l(c).period,"onUpdate:error":t[6]||(t[6]=e=>l(c).period=e),onSelected:E},null,8,["modelValue","label","options","error"])):g("",!0)])):g("",!0),s.period?(p(),$(L,{key:3},[i("div",Se,[m(P,null,{default:h(()=>[i("span",null,[v(b(n.$trans("student.props.name")),1),m(w,{"is-required":""})])]),_:1}),i("div",De,[m(M,{firstName:s.firstName,"onUpdate:firstName":t[7]||(t[7]=e=>s.firstName=e),middleName:s.middleName,"onUpdate:middleName":t[8]||(t[8]=e=>s.middleName=e),thirdName:s.thirdName,"onUpdate:thirdName":t[9]||(t[9]=e=>s.thirdName=e),lastName:s.lastName,"onUpdate:lastName":t[10]||(t[10]=e=>s.lastName=e),formErrors:l(c),"onUpdate:formErrors":t[11]||(t[11]=e=>ee(c)?c.value=e:null)},null,8,["firstName","middleName","thirdName","lastName","formErrors"])])]),i("div",je,[m(P,null,{default:h(()=>[i("span",null,[v(b(n.$trans("contact.props.gender"))+" ",1),m(w,{"is-required":""})])]),_:1}),m(W,{"top-margin":"",options:d.genders,name:"gender",modelValue:s.gender,"onUpdate:modelValue":t[12]||(t[12]=e=>s.gender=e),error:l(c).gender,"onUpdate:error":t[13]||(t[13]=e=>l(c).gender=e),horizontal:""},null,8,["options","modelValue","error"])]),i("div",Fe,[m(z,{"is-required":"",modelValue:s.birthDate,"onUpdate:modelValue":t[14]||(t[14]=e=>s.birthDate=e),name:"birthDate",label:n.$trans("contact.props.birth_date"),"no-clear":"",error:l(c).birthDate,"onUpdate:error":t[15]||(t[15]=e=>l(c).birthDate=e)},null,8,["modelValue","label","error"])]),i("div",Oe,[m(I,{"is-required":"",type:"text",modelValue:s.contactNumber,"onUpdate:modelValue":t[16]||(t[16]=e=>s.contactNumber=e),name:"contactNumber",label:n.$trans("contact.props.contact_number"),error:l(c).contactNumber,"onUpdate:error":t[17]||(t[17]=e=>l(c).contactNumber=e)},null,8,["modelValue","label","error"])]),i("div",Ae,[m(I,{"is-required":"",type:"text",modelValue:s.email,"onUpdate:modelValue":t[18]||(t[18]=e=>s.email=e),name:"email",label:n.$trans("contact.props.email"),error:l(c).email,"onUpdate:error":t[19]||(t[19]=e=>l(c).email=e)},null,8,["modelValue","label","error"])])],64)):g("",!0),i("div",Me,[s.period?(p(),k(o,{key:0,"is-required":"",modelValue:r.selectedCourse,"onUpdate:modelValue":t[20]||(t[20]=e=>r.selectedCourse=e),name:"course",label:n.$trans("academic.course.course"),"value-prop":"uuid",options:d.courses,"object-prop":!0,"track-by":["nameWithTerm","name","term"],error:l(c).course,"onUpdate:error":t[21]||(t[21]=e=>l(c).course=e),onChange:F},{selectedOption:h(e=>[v(b(e.value.nameWithTerm),1)]),listOption:h(e=>[v(b(e.option.nameWithTerm),1)]),_:1},8,["modelValue","label","options","error"])):g("",!0)]),i("div",We,[s.course?(p(),k(o,{key:0,"is-required":"",modelValue:s.batch,"onUpdate:modelValue":t[22]||(t[22]=e=>s.batch=e),name:"batch",label:n.$trans("academic.batch.batch"),"value-prop":"uuid",options:d.batches,error:l(c).batch,"onUpdate:error":t[23]||(t[23]=e=>l(c).batch=e)},{selectedOption:h(e=>[v(b(e.value.name),1)]),listOption:h(e=>[v(b(e.option.name),1)]),_:1},8,["modelValue","label","options","error"])):g("",!0)])])]),_:1},8,["form","submit-text"])])):g("",!0)]),_:1},8,["is-loading"])],64)}}},He={key:0},Ge={key:1},Ke={__name:"Index",setup(G){const V=R("feature.onlineRegistrationVersion");return(U,x)=>(p(),$(L,null,[l(V)=="default"?(p(),$("div",He,[m(Ve)])):g("",!0),l(V)=="minimal"?(p(),$("div",Ge,[m(ze)])):g("",!0)],64))}};export{Ke as default};
