import{u as V,H as v,I as T,m as b,r as i,t as j,o as f,w as _,d as u,a as U,b as A,e as d,f as o,C as O,K as R,F as q}from"./app-Cvm44xuh.js";const C={class:"grid grid-cols-3 gap-6"},I={class:"col-span-3 sm:col-span-1"},M={key:0,class:"col-span-2 sm:col-span-1"},w={class:"col-span-3 sm:col-span-3"},E={class:"col-span-3 sm:col-span-3"},L={class:"grid grid-cols-1"},N={class:"col"},h={name:"StudentDialogueForm"},K=Object.assign(h,{setup(m){const l=V(),n={category:"",title:"",description:"",date:"",media:[],mediaUpdated:!1,mediaToken:v(),mediaHash:[]},g="student/dialogue/",r=T(g),p=b({categories:[]}),t=b({...n}),y=b({category:"",isLoaded:!l.params.muuid}),$=s=>{Object.assign(p,s)},S=()=>{t.mediaToken=v(),t.mediaHash=[]},k=s=>{var e,c;Object.assign(n,{...s,category:(e=s.category)==null?void 0:e.uuid,date:((c=s.date)==null?void 0:c.value)||""}),Object.assign(t,R(n)),y.category=s.category.name,y.isLoaded=!0};return(s,e)=>{const c=i("BaseSelect"),B=i("DatePicker"),F=i("BaseInput"),P=i("BaseTextarea"),D=i("MediaUpload"),H=i("FormAction");return f(),j(H,{"no-data-fetch":"","pre-requisites":!0,onSetPreRequisites:$,"init-url":g,uuid:o(l).params.uuid,"module-uuid":o(l).params.muuid,"init-form":n,form:t,"set-form":k,redirect:{name:"StudentDialogue",params:{uuid:o(l).params.uuid}},onResetMediaFiles:S},{default:_(()=>[u("div",C,[u("div",I,[d(c,{modelValue:t.category,"onUpdate:modelValue":e[0]||(e[0]=a=>t.category=a),name:"category",label:s.$trans("student.dialogue_category.dialogue_category"),"label-prop":"name","value-prop":"uuid",options:p.categories,error:o(r).category,"onUpdate:error":e[1]||(e[1]=a=>o(r).category=a)},null,8,["modelValue","label","options","error"])]),o(O)(["student","guardian"],"any")?A("",!0):(f(),U("div",M,[d(B,{modelValue:t.date,"onUpdate:modelValue":e[2]||(e[2]=a=>t.date=a),name:"date",label:s.$trans("student.dialogue.props.date"),error:o(r).date,"onUpdate:error":e[3]||(e[3]=a=>o(r).date=a)},null,8,["modelValue","label","error"])])),u("div",w,[d(F,{type:"text",modelValue:t.title,"onUpdate:modelValue":e[4]||(e[4]=a=>t.title=a),name:"title",label:s.$trans("student.dialogue.props.title"),error:o(r).title,"onUpdate:error":e[5]||(e[5]=a=>o(r).title=a),autofocus:""},null,8,["modelValue","label","error"])]),u("div",E,[d(P,{modelValue:t.description,"onUpdate:modelValue":e[6]||(e[6]=a=>t.description=a),name:"description",label:s.$trans("student.dialogue.props.description"),error:o(r).description,"onUpdate:error":e[7]||(e[7]=a=>o(r).description=a)},null,8,["modelValue","label","error"])])]),u("div",L,[u("div",N,[d(D,{multiple:"",label:s.$trans("general.file"),module:"dialogue",media:t.media,"media-token":t.mediaToken,onIsUpdated:e[8]||(e[8]=a=>t.mediaUpdated=!0),onSetHash:e[9]||(e[9]=a=>t.mediaHash.push(a))},null,8,["label","media","media-token"])])])]),_:1},8,["uuid","module-uuid","form","redirect"])}}}),z={name:"StudentDialogueAction"},J=Object.assign(z,{props:{student:{type:Object,default(){return{}}}},setup(m){const l=V();return(n,g)=>{const r=i("PageHeaderAction"),p=i("PageHeader"),t=i("ParentTransition");return f(),U(q,null,[d(p,{title:n.$trans(o(l).meta.trans,{attribute:n.$trans(o(l).meta.label)}),navs:[{label:n.$trans("student.student"),path:"StudentList"},{label:m.student.contact.name,path:{name:"StudentShow",params:{uuid:m.student.uuid}}},{label:n.$trans("student.dialogue.dialogue"),path:{name:"StudentDialogue",params:{uuid:m.student.uuid}}}]},{default:_(()=>[d(r,{name:"StudentDialogue",title:n.$trans("student.dialogue.dialogue"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),d(t,{appear:"",visibility:!0},{default:_(()=>[d(K)]),_:1})],64)}}});export{J as default};
