import{u as j,m as C,q as N,r as s,t as F,o as c,w as e,d as D,e as t,i as E,k as O,p as U,f as l,a as k,F as T,y as h,v as r,x as u}from"./app-Cvm44xuh.js";const q={class:"grid grid-cols-3 gap-6"},x={class:"col-span-3 sm:col-span-1"},z={__name:"Filter",emits:["hide"],setup(M,{emit:m}){j();const f=m,v={name:""},_=C({...v}),y=C({isLoaded:!0});return N(async()=>{y.isLoaded=!0}),(p,d)=>{const I=s("BaseInput"),o=s("FilterForm");return c(),F(o,{"init-form":v,form:_,multiple:[],onHide:d[1]||(d[1]=n=>f("hide"))},{default:e(()=>[D("div",q,[D("div",x,[t(I,{type:"text",modelValue:_.name,"onUpdate:modelValue":d[0]||(d[0]=n=>_.name=n),name:"name",label:p.$trans("inventory.props.name")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},G={name:"InventoryList"},K=Object.assign(G,{setup(M){const m=E(),f=O("emitter");let v=["create","filter"],_=["print","pdf","excel"];const y="inventory/",p=U(!1),d=C({}),I=o=>{Object.assign(d,o)};return(o,n)=>{const b=s("BaseButton"),A=s("PageHeaderAction"),H=s("PageHeader"),w=s("ParentTransition"),$=s("DataCell"),L=s("TextMuted"),g=s("FloatingMenuItem"),P=s("FloatingMenu"),R=s("DataRow"),V=s("DataTable"),S=s("ListItem");return c(),F(S,{"init-url":y,onSetItems:I},{header:e(()=>[t(H,{title:o.$trans("inventory.inventory"),navs:[]},{default:e(()=>[t(A,{url:"inventories/",name:"Inventory",title:o.$trans("inventory.inventory"),actions:l(v),"dropdown-actions":l(_),onToggleFilter:n[1]||(n[1]=a=>p.value=!p.value)},{default:e(()=>[t(b,{design:"white",onClick:n[0]||(n[0]=a=>l(m).push({name:"InventoryIncharge"}))},{default:e(()=>[r(u(o.$trans("inventory.incharge.incharge")),1)]),_:1})]),_:1},8,["title","actions","dropdown-actions"])]),_:1},8,["title"])]),filter:e(()=>[t(w,{appear:"",visibility:p.value},{default:e(()=>[t(z,{onRefresh:n[2]||(n[2]=a=>l(f).emit("listItems")),onHide:n[3]||(n[3]=a=>p.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[t(w,{appear:"",visibility:!0},{default:e(()=>[t(V,{header:d.headers,meta:d.meta,module:"inventory",onRefresh:n[5]||(n[5]=a=>l(f).emit("listItems"))},{actionButton:e(()=>[t(b,{onClick:n[4]||(n[4]=a=>l(m).push({name:"InventoryCreate"}))},{default:e(()=>[r(u(o.$trans("global.add",{attribute:o.$trans("inventory.inventory")})),1)]),_:1})]),default:e(()=>[(c(!0),k(T,null,h(d.data,a=>(c(),F(R,{key:a.uuid,onDoubleClick:i=>l(m).push({name:"InventoryShow",params:{uuid:a.uuid}})},{default:e(()=>[t($,{name:"name"},{default:e(()=>[r(u(a.name),1)]),_:2},1024),t($,{name:"incharge"},{default:e(()=>[(c(!0),k(T,null,h(a.incharges,i=>{var B;return c(),k("div",null,[r(u(((B=i==null?void 0:i.employee)==null?void 0:B.name)||"-")+" ",1),t(L,null,{default:e(()=>[r(u(i==null?void 0:i.period),1)]),_:2},1024)])}),256))]),_:2},1024),t($,{name:"createdAt"},{default:e(()=>[r(u(a.createdAt.formatted),1)]),_:2},1024),t($,{name:"action"},{default:e(()=>[t(P,null,{default:e(()=>[t(g,{icon:"fas fa-arrow-circle-right",onClick:i=>l(m).push({name:"InventoryShow",params:{uuid:a.uuid}})},{default:e(()=>[r(u(o.$trans("general.show")),1)]),_:2},1032,["onClick"]),t(g,{icon:"fas fa-edit",onClick:i=>l(m).push({name:"InventoryEdit",params:{uuid:a.uuid}})},{default:e(()=>[r(u(o.$trans("general.edit")),1)]),_:2},1032,["onClick"]),t(g,{icon:"fas fa-copy",onClick:i=>l(m).push({name:"InventoryDuplicate",params:{uuid:a.uuid}})},{default:e(()=>[r(u(o.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),t(g,{icon:"fas fa-trash",onClick:i=>l(f).emit("deleteItem",{uuid:a.uuid})},{default:e(()=>[r(u(o.$trans("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDoubleClick"]))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{K as default};
