import{u as oe,k as te,I as le,g as d,m as L,q as ae,r as y,a as N,o as u,t as g,b as m,e as s,f as t,w as k,d as p,v as P,x as B,J as D,F as re,K as ne}from"./app-Cvm44xuh.js";import{u as se}from"./useCustomFields-B8b01gVh.js";const ue={class:"grid grid-cols-3 gap-6"},me={class:"col-span-3 sm:col-span-2"},ie={class:"flex"},de={class:"col-span-3 sm:col-span-1"},pe={class:"col-span-3 sm:col-span-1"},be={class:"col-span-3 sm:col-span-1"},ye={class:"col-span-3 sm:col-span-1"},Ne={key:0,class:"col-span-3 sm:col-span-1"},ce={key:1,class:"col-span-3 sm:col-span-1"},ge={key:2,class:"col-span-3 sm:col-span-1"},qe={key:3,class:"col-span-3 sm:col-span-1"},Ie={key:4,class:"col-span-3 sm:col-span-1"},Ve={class:"col-span-3 sm:col-span-1"},Ue={class:"col-span-3 sm:col-span-1"},fe={class:"col-span-3 sm:col-span-1"},ve={class:"col-span-3 sm:col-span-1"},Fe={key:5,class:"col-span-4 sm:col-span-1"},Ee={class:"col-span-3 sm:col-span-1"},ke={class:"col-span-3 sm:col-span-1"},$e={key:6,class:"col-span-3 sm:col-span-1"},Le={key:7,class:"col-span-3 sm:col-span-1"},Se={key:8,class:"col-span-3 sm:col-span-1"},Pe={name:"EmployeeEditBasic"},Ce=Object.assign(Pe,{props:{employee:{type:Object,default(){return{}}}},setup(q){const $=oe(),C=te("emitter"),n=q,V={firstName:"",middleName:"",thirdName:"",lastName:"",gender:"",birthDate:"",fatherName:"",motherName:"",uniqueIdNumber1:"",uniqueIdNumber2:"",uniqueIdNumber3:"",uniqueIdNumber4:"",uniqueIdNumber5:"",birthPlace:"",nationality:"",motherTongue:"",locality:"",maritalStatus:"",bloodGroup:"",religion:"",category:"",caste:"",type:"",customFields:[]},S="employee/",a=le(S),G=d("employee.isUniqueIdNumber1Enabled"),T=d("employee.isUniqueIdNumber2Enabled"),R=d("employee.isUniqueIdNumber3Enabled"),j=d("employee.isUniqueIdNumber4Enabled"),O=d("employee.isUniqueIdNumber5Enabled"),w=d("employee.uniqueIdNumber1Label"),A=d("employee.uniqueIdNumber2Label"),H=d("employee.uniqueIdNumber3Label"),z=d("employee.uniqueIdNumber4Label"),J=d("employee.uniqueIdNumber5Label"),K=d("contact.enableLocalityField"),M=d("contact.enableCategoryField"),Q=d("contact.enableCasteField"),b=L({types:[],genders:[],bloodGroups:[],religions:[],categories:[],castes:[],localities:[],maritalStatuses:[],customFields:[]}),l=L({...V}),I=L({isLoaded:!$.params.uuid}),{customFields:W,setCustomFields:X}=se(),Y=r=>{Object.assign(b,r),Z()},Z=()=>{var r,e,f,U,v,F,E,i;Object.assign(V,{firstName:n.employee.contact.firstName,middleName:n.employee.contact.middleName,thirdName:n.employee.contact.thirdName,lastName:n.employee.contact.lastName,gender:(r=n.employee.contact.gender)==null?void 0:r.value,birthDate:(e=n.employee.contact.birthDate)==null?void 0:e.value,fatherName:n.employee.contact.fatherName,motherName:n.employee.contact.motherName,uniqueIdNumber1:n.employee.contact.uniqueIdNumber1,uniqueIdNumber2:n.employee.contact.uniqueIdNumber2,uniqueIdNumber3:n.employee.contact.uniqueIdNumber3,uniqueIdNumber4:n.employee.contact.uniqueIdNumber4,uniqueIdNumber5:n.employee.contact.uniqueIdNumber5,birthPlace:n.employee.contact.birthPlace,nationality:n.employee.contact.nationality,motherTongue:n.employee.contact.motherTongue,locality:((f=n.employee.contact.locality)==null?void 0:f.value)||"",bloodGroup:((U=n.employee.contact.bloodGroup)==null?void 0:U.value)||"",maritalStatus:((v=n.employee.contact.maritalStatus)==null?void 0:v.value)||"",religion:((F=n.employee.contact.religion)==null?void 0:F.uuid)||"",category:((E=n.employee.contact.category)==null?void 0:E.uuid)||"",caste:((i=n.employee.contact.caste)==null?void 0:i.uuid)||"",type:n.employee.type.value}),X(b.customFields,n.employee.contact.customFields),V.customFields=W.value,Object.assign(l,ne(V)),I.isLoaded=!0};ae(async()=>{});const h=()=>{C.emit("employeeUpdated")};return(r,e)=>{const f=y("PageHeader"),U=y("BaseLabel"),v=y("NameInput"),F=y("BaseRadioGroup"),E=y("DatePicker"),i=y("BaseInput"),c=y("BaseSelect"),x=y("CustomField"),_=y("FormAction"),ee=y("ParentTransition");return u(),N(re,null,[q.employee.uuid?(u(),g(f,{key:0,title:r.$trans(t($).meta.trans,{attribute:r.$trans(t($).meta.label)}),navs:[{label:r.$trans("employee.employee"),path:"Employee"},{label:q.employee.contact.name,path:{name:"EmployeeShow",params:{uuid:q.employee.uuid}}}]},null,8,["title","navs"])):m("",!0),s(ee,{appear:"",visibility:!0},{default:k(()=>[q.employee.uuid?(u(),g(_,{key:0,"pre-requisites":!0,onSetPreRequisites:Y,"init-url":S,"no-data-fetch":"","init-form":V,form:l,"stay-on":"","after-submit":h,redirect:{name:"EmployeeShowBasic",params:{uuid:q.employee.uuid}}},{default:k(()=>[p("div",ue,[p("div",me,[s(U,null,{default:k(()=>[P(B(r.$trans("employee.props.name")),1)]),_:1}),p("div",ie,[s(v,{firstName:l.firstName,"onUpdate:firstName":e[0]||(e[0]=o=>l.firstName=o),middleName:l.middleName,"onUpdate:middleName":e[1]||(e[1]=o=>l.middleName=o),thirdName:l.thirdName,"onUpdate:thirdName":e[2]||(e[2]=o=>l.thirdName=o),lastName:l.lastName,"onUpdate:lastName":e[3]||(e[3]=o=>l.lastName=o),formErrors:t(a),"onUpdate:formErrors":e[4]||(e[4]=o=>D(a)?a.value=o:null)},null,8,["firstName","middleName","thirdName","lastName","formErrors"])])]),p("div",de,[s(U,null,{default:k(()=>[P(B(r.$trans("contact.props.gender")),1)]),_:1}),s(F,{"top-margin":"",options:b.genders,name:"gender",modelValue:l.gender,"onUpdate:modelValue":e[5]||(e[5]=o=>l.gender=o),error:t(a).gender,"onUpdate:error":e[6]||(e[6]=o=>t(a).gender=o),horizontal:""},null,8,["options","modelValue","error"])]),p("div",pe,[s(E,{modelValue:l.birthDate,"onUpdate:modelValue":e[7]||(e[7]=o=>l.birthDate=o),name:"birthDate",label:r.$trans("contact.props.birth_date"),"no-clear":"",error:t(a).birthDate,"onUpdate:error":e[8]||(e[8]=o=>t(a).birthDate=o)},null,8,["modelValue","label","error"])]),p("div",be,[s(i,{type:"text",modelValue:l.fatherName,"onUpdate:modelValue":e[9]||(e[9]=o=>l.fatherName=o),name:"fatherName",label:r.$trans("contact.props.father_name"),error:t(a).fatherName,"onUpdate:error":e[10]||(e[10]=o=>t(a).fatherName=o)},null,8,["modelValue","label","error"])]),p("div",ye,[s(i,{type:"text",modelValue:l.motherName,"onUpdate:modelValue":e[11]||(e[11]=o=>l.motherName=o),name:"motherName",label:r.$trans("contact.props.mother_name"),error:t(a).motherName,"onUpdate:error":e[12]||(e[12]=o=>t(a).motherName=o)},null,8,["modelValue","label","error"])]),t(G)?(u(),N("div",Ne,[s(i,{type:"text",modelValue:l.uniqueIdNumber1,"onUpdate:modelValue":e[13]||(e[13]=o=>l.uniqueIdNumber1=o),name:"uniqueIdNumber1",label:t(w),error:t(a).uniqueIdNumber1,"onUpdate:error":e[14]||(e[14]=o=>t(a).uniqueIdNumber1=o)},null,8,["modelValue","label","error"])])):m("",!0),t(T)?(u(),N("div",ce,[s(i,{type:"text",modelValue:l.uniqueIdNumber2,"onUpdate:modelValue":e[15]||(e[15]=o=>l.uniqueIdNumber2=o),name:"uniqueIdNumber2",label:t(A),error:t(a).uniqueIdNumber2,"onUpdate:error":e[16]||(e[16]=o=>t(a).uniqueIdNumber2=o)},null,8,["modelValue","label","error"])])):m("",!0),t(R)?(u(),N("div",ge,[s(i,{type:"text",modelValue:l.uniqueIdNumber3,"onUpdate:modelValue":e[17]||(e[17]=o=>l.uniqueIdNumber3=o),name:"uniqueIdNumber3",label:t(H),error:t(a).uniqueIdNumber3,"onUpdate:error":e[18]||(e[18]=o=>t(a).uniqueIdNumber3=o)},null,8,["modelValue","label","error"])])):m("",!0),t(j)?(u(),N("div",qe,[s(i,{type:"text",modelValue:l.uniqueIdNumber4,"onUpdate:modelValue":e[19]||(e[19]=o=>l.uniqueIdNumber4=o),name:"uniqueIdNumber4",label:t(z),error:t(a).uniqueIdNumber4,"onUpdate:error":e[20]||(e[20]=o=>t(a).uniqueIdNumber4=o)},null,8,["modelValue","label","error"])])):m("",!0),t(O)?(u(),N("div",Ie,[s(i,{type:"text",modelValue:l.uniqueIdNumber5,"onUpdate:modelValue":e[21]||(e[21]=o=>l.uniqueIdNumber5=o),name:"uniqueIdNumber5",label:t(J),error:t(a).uniqueIdNumber5,"onUpdate:error":e[22]||(e[22]=o=>t(a).uniqueIdNumber5=o)},null,8,["modelValue","label","error"])])):m("",!0),p("div",Ve,[s(i,{type:"text",modelValue:l.birthPlace,"onUpdate:modelValue":e[23]||(e[23]=o=>l.birthPlace=o),name:"birthPlace",label:r.$trans("contact.props.birth_place"),error:t(a).birthPlace,"onUpdate:error":e[24]||(e[24]=o=>t(a).birthPlace=o)},null,8,["modelValue","label","error"])]),p("div",Ue,[s(i,{type:"text",modelValue:l.nationality,"onUpdate:modelValue":e[25]||(e[25]=o=>l.nationality=o),name:"nationality",label:r.$trans("contact.props.nationality"),error:t(a).nationality,"onUpdate:error":e[26]||(e[26]=o=>t(a).nationality=o)},null,8,["modelValue","label","error"])]),p("div",fe,[s(i,{type:"text",modelValue:l.motherTongue,"onUpdate:modelValue":e[27]||(e[27]=o=>l.motherTongue=o),name:"motherTongue",label:r.$trans("contact.props.mother_tongue"),error:t(a).motherTongue,"onUpdate:error":e[28]||(e[28]=o=>t(a).motherTongue=o)},null,8,["modelValue","label","error"])]),p("div",ve,[I.isLoaded?(u(),g(c,{key:0,modelValue:l.bloodGroup,"onUpdate:modelValue":e[29]||(e[29]=o=>l.bloodGroup=o),name:"bloodGroup",label:r.$trans("contact.props.blood_group"),options:b.bloodGroups,error:t(a).bloodGroup,"onUpdate:error":e[30]||(e[30]=o=>t(a).bloodGroup=o)},null,8,["modelValue","label","options","error"])):m("",!0)]),t(K)?(u(),N("div",Fe,[s(c,{modelValue:l.locality,"onUpdate:modelValue":e[31]||(e[31]=o=>l.locality=o),name:"locality",label:r.$trans("contact.props.locality"),options:b.localities,"label-prop":"label","value-prop":"value",error:t(a).locality,"onUpdate:error":e[32]||(e[32]=o=>t(a).locality=o)},null,8,["modelValue","label","options","error"])])):m("",!0),p("div",Ee,[I.isLoaded?(u(),g(c,{key:0,modelValue:l.maritalStatus,"onUpdate:modelValue":e[33]||(e[33]=o=>l.maritalStatus=o),name:"maritalStatus",label:r.$trans("contact.props.marital_status"),options:b.maritalStatuses,error:t(a).maritalStatus,"onUpdate:error":e[34]||(e[34]=o=>t(a).maritalStatus=o)},null,8,["modelValue","label","options","error"])):m("",!0)]),p("div",ke,[I.isLoaded?(u(),g(c,{key:0,name:"religion",label:r.$trans("global.select",{attribute:r.$trans("contact.religion.religion")}),modelValue:l.religion,"onUpdate:modelValue":e[35]||(e[35]=o=>l.religion=o),error:t(a).religion,"onUpdate:error":e[36]||(e[36]=o=>t(a).religion=o),options:b.religions,"label-prop":"name","value-prop":"uuid"},null,8,["label","modelValue","error","options"])):m("",!0)]),t(M)?(u(),N("div",$e,[I.isLoaded?(u(),g(c,{key:0,name:"category",label:r.$trans("global.select",{attribute:r.$trans("contact.category.category")}),modelValue:l.category,"onUpdate:modelValue":e[37]||(e[37]=o=>l.category=o),error:t(a).category,"onUpdate:error":e[38]||(e[38]=o=>t(a).category=o),options:b.categories,"label-prop":"name","value-prop":"uuid"},null,8,["label","modelValue","error","options"])):m("",!0)])):m("",!0),t(Q)?(u(),N("div",Le,[I.isLoaded?(u(),g(c,{key:0,name:"caste",label:r.$trans("global.select",{attribute:r.$trans("contact.caste.caste")}),modelValue:l.caste,"onUpdate:modelValue":e[39]||(e[39]=o=>l.caste=o),error:t(a).caste,"onUpdate:error":e[40]||(e[40]=o=>t(a).caste=o),options:b.castes,"label-prop":"name","value-prop":"uuid"},null,8,["label","modelValue","error","options"])):m("",!0)])):m("",!0),b.types.length?(u(),N("div",Se,[s(c,{name:"type",label:r.$trans("global.select",{attribute:r.$trans("employee.type")}),options:b.types,modelValue:l.type,"onUpdate:modelValue":e[41]||(e[41]=o=>l.type=o),error:t(a).type,"onUpdate:error":e[42]||(e[42]=o=>t(a).type=o)},null,8,["label","options","modelValue","error"])])):m("",!0)]),s(x,{customFields:l.customFields,"onUpdate:customFields":e[43]||(e[43]=o=>l.customFields=o),formErrors:t(a),"onUpdate:formErrors":e[44]||(e[44]=o=>D(a)?a.value=o:null)},null,8,["customFields","formErrors"])]),_:1},8,["form","redirect"])):m("",!0)]),_:1})],64)}}});export{Ce as default};
