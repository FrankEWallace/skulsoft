import{j as $,u as O,i as U,I as q,p as N,c as A,m as C,r as s,a as d,o as i,e as o,w as l,d as E,t as I,b as L,f as p,v as c,x as f,F as T}from"./app-Cvm44xuh.js";const j={class:"space-y-6"},w={key:1},D={key:2},g="auth/user/",P={__name:"SMSOtp",setup(G){$();const _=O(),h=U(),u=q(g),n=N(!1),v=A(()=>n.value?"confirmOtp":"requestOtp"),m={method:"sms",phone:"",otp:""},a=C({...m}),B=()=>{n.value?(Object.assign(a,m),h.push(_.query.ref?_.query.ref:{name:"Dashboard"})):n.value=!0};return(r,e)=>{const k=s("GuestHeader"),b=s("BaseInput"),V=s("BaseLink"),y=s("BaseButton"),F=s("FormAction"),S=s("ParentTransition");return i(),d(T,null,[o(k,{label:r.$trans("auth.login.sms_otp_login")},null,8,["label"]),o(S,{appear:"",visibility:!0},{default:l(()=>[o(F,{"no-card":"","no-action-button":"","init-url":g,"init-form":m,form:a,action:v.value,"stay-on":"","after-submit":B},{default:l(()=>[E("div",j,[o(b,{type:"text","leading-icon":"fas fa-phone",modelValue:a.phone,"onUpdate:modelValue":e[0]||(e[0]=t=>a.phone=t),name:"phone",label:r.$trans("auth.login.props.phone"),error:p(u).phone,"onUpdate:error":e[1]||(e[1]=t=>p(u).phone=t),readonly:n.value,autofocus:""},null,8,["modelValue","label","error","readonly"]),n.value?(i(),I(b,{key:0,type:"text","leading-icon":"fas fa-keyboard",modelValue:a.otp,"onUpdate:modelValue":e[2]||(e[2]=t=>a.otp=t),name:"otp",label:r.$trans("auth.login.props.otp"),error:p(u).otp,"onUpdate:error":e[3]||(e[3]=t=>p(u).otp=t)},null,8,["modelValue","label","error"])):L("",!0),o(V,{to:"Login"},{default:l(()=>[c(f(r.$trans("auth.login.login_title")),1)]),_:1}),n.value?(i(),d("div",w,[o(y,{type:"submit",block:""},{default:l(()=>[c(f(r.$trans("auth.login.verify_otp")),1)]),_:1})])):(i(),d("div",D,[o(y,{type:"submit",block:""},{default:l(()=>[c(f(r.$trans("auth.login.request_otp")),1)]),_:1})]))])]),_:1},8,["form","action"])]),_:1})],64)}}};export{P as default};
