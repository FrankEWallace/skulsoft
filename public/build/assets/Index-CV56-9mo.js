import{u as H,m as B,q as L,r as l,t as y,o as v,w as e,d as g,e as t,i as j,k as O,z as $,p as E,f as i,a as z,F as G,y as J,v as u,x as d,b as V}from"./app-Cvm44xuh.js";const K={class:"grid grid-cols-3 gap-6"},Q={class:"col-span-3 sm:col-span-1"},W={class:"col-span-3 sm:col-span-1"},X={class:"col-span-3 sm:col-span-1"},Y={class:"col-span-3 sm:col-span-1"},Z={class:"col-span-3 sm:col-span-1"},x={class:"col-span-3 sm:col-span-1"},ee={__name:"Filter",props:{preRequisites:{type:Object,default(){return{}}}},emits:["hide"],setup(F,{emit:b}){H();const I=b,k=F,D={codeNumber:"",voucherNumber:"",startDate:"",endDate:"",inventory:"",vendors:[],places:[]},s=B({...D}),f=B({vendors:k.preRequisites.vendors,inventories:k.preRequisites.inventories,places:k.preRequisites.places}),C=B({isLoaded:!0});return L(async()=>{C.isLoaded=!0}),(p,o)=>{const h=l("BaseInput"),a=l("BaseSelect"),m=l("DatePicker"),w=l("FilterForm");return v(),y(w,{"init-form":D,form:s,multiple:["vendors","places"],onHide:o[7]||(o[7]=r=>I("hide"))},{default:e(()=>[g("div",K,[g("div",Q,[t(h,{type:"text",modelValue:s.codeNumber,"onUpdate:modelValue":o[0]||(o[0]=r=>s.codeNumber=r),name:"codeNumber",label:p.$trans("inventory.stock_return.props.code_number")},null,8,["modelValue","label"])]),g("div",W,[t(h,{type:"text",modelValue:s.voucherNumber,"onUpdate:modelValue":o[1]||(o[1]=r=>s.voucherNumber=r),name:"voucherNumber",label:p.$trans("inventory.stock_return.props.voucher_number")},null,8,["modelValue","label"])]),g("div",X,[t(a,{modelValue:s.inventory,"onUpdate:modelValue":o[2]||(o[2]=r=>s.inventory=r),name:"inventory","label-prop":"name","value-prop":"uuid",label:p.$trans("inventory.inventory"),options:f.inventories},null,8,["modelValue","label","options"])]),g("div",Y,[t(a,{multiple:"",modelValue:s.vendors,"onUpdate:modelValue":o[3]||(o[3]=r=>s.vendors=r),name:"vendors","label-prop":"name","value-prop":"uuid",label:p.$trans("inventory.vendor.vendor"),options:f.vendors},null,8,["modelValue","label","options"])]),g("div",Z,[t(a,{multiple:"",modelValue:s.places,"onUpdate:modelValue":o[4]||(o[4]=r=>s.places=r),name:"places","label-prop":"fullname","value-prop":"uuid",label:p.$trans("inventory.place"),options:f.places},null,8,["modelValue","label","options"])]),g("div",x,[t(m,{start:s.startDate,"onUpdate:start":o[5]||(o[5]=r=>s.startDate=r),end:s.endDate,"onUpdate:end":o[6]||(o[6]=r=>s.endDate=r),name:"dateBetween",as:"range",label:p.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},te={name:"InventoryStockReturnList"},oe=Object.assign(te,{setup(F){const b=j(),I=O("emitter");let k=["filter"];$("inventory:config")&&k.push("config"),$("stock-return:create")&&k.unshift("create");let D=[];$("stock-return:export")&&(D=["print","pdf","excel"]);const s="inventory/stockReturn/",f=E(!1),C=B({inventories:[],vendors:[],places:[]}),p=B({}),o=a=>{Object.assign(C,a)},h=a=>{Object.assign(p,a)};return(a,m)=>{const w=l("PageHeaderAction"),r=l("PageHeader"),S=l("ParentTransition"),q=l("TextMuted"),_=l("DataCell"),P=l("BaseBadge"),N=l("FloatingMenuItem"),R=l("FloatingMenu"),T=l("DataRow"),U=l("BaseButton"),M=l("DataTable"),A=l("ListItem");return v(),y(A,{"init-url":s,"pre-requisites":!0,onSetPreRequisites:o,onSetItems:h},{header:e(()=>[t(r,{title:a.$trans("inventory.stock_return.stock_return"),navs:[{label:a.$trans("inventory.inventory"),path:"Inventory"}]},{default:e(()=>[t(w,{url:"inventory/stock-returns/",name:"InventoryStockReturn",title:a.$trans("inventory.stock_return.stock_return"),actions:i(k),"dropdown-actions":i(D),"config-path":"InventoryConfig",onToggleFilter:m[0]||(m[0]=n=>f.value=!f.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[t(S,{appear:"",visibility:f.value},{default:e(()=>[t(ee,{onRefresh:m[1]||(m[1]=n=>i(I).emit("listItems")),"pre-requisites":C,onHide:m[2]||(m[2]=n=>f.value=!1)},null,8,["pre-requisites"])]),_:1},8,["visibility"])]),default:e(()=>[t(S,{appear:"",visibility:!0},{default:e(()=>[t(M,{header:p.headers,meta:p.meta,module:"inventory.stock_return",onRefresh:m[4]||(m[4]=n=>i(I).emit("listItems"))},{actionButton:e(()=>[i($)("stock-return:create")?(v(),y(U,{key:0,onClick:m[3]||(m[3]=n=>i(b).push({name:"InventoryStockReturnCreate"}))},{default:e(()=>[u(d(a.$trans("global.add",{attribute:a.$trans("inventory.stock_return.stock_return")})),1)]),_:1})):V("",!0)]),default:e(()=>[(v(!0),z(G,null,J(p.data,n=>(v(),y(T,{key:n.uuid,onDoubleClick:c=>i(b).push({name:"InventoryStockReturnShow",params:{uuid:n.uuid}})},{default:e(()=>[t(_,{name:"codeNumber"},{default:e(()=>[u(d(n.codeNumber)+" ",1),t(q,{block:""},{default:e(()=>{var c;return[u(d((c=n.inventory)==null?void 0:c.name),1)]}),_:2},1024)]),_:2},1024),t(_,{name:"voucherNumber"},{default:e(()=>[u(d(n.voucherNumber)+" ",1),n.hasItems?V("",!0):(v(),y(P,{key:0,design:"primary"},{default:e(()=>[u(d(a.$trans("inventory.without_items")),1)]),_:1}))]),_:2},1024),t(_,{name:"vendor"},{default:e(()=>[u(d(n.vendor.name),1)]),_:2},1024),t(_,{name:"date"},{default:e(()=>[u(d(n.date.formatted),1)]),_:2},1024),t(_,{name:"total"},{default:e(()=>[u(d(n.total.formatted),1)]),_:2},1024),t(_,{name:"place"},{default:e(()=>{var c;return[u(d(((c=n.place)==null?void 0:c.fullName)||"-"),1)]}),_:2},1024),t(_,{name:"createdAt"},{default:e(()=>[u(d(n.createdAt.formatted),1)]),_:2},1024),t(_,{name:"action"},{default:e(()=>[t(R,null,{default:e(()=>[t(N,{icon:"fas fa-arrow-circle-right",onClick:c=>i(b).push({name:"InventoryStockReturnShow",params:{uuid:n.uuid}})},{default:e(()=>[u(d(a.$trans("general.show")),1)]),_:2},1032,["onClick"]),i($)("stock-return:edit")?(v(),y(N,{key:0,icon:"fas fa-edit",onClick:c=>i(b).push({name:"InventoryStockReturnEdit",params:{uuid:n.uuid}})},{default:e(()=>[u(d(a.$trans("general.edit")),1)]),_:2},1032,["onClick"])):V("",!0),i($)("stock-return:create")?(v(),y(N,{key:1,icon:"fas fa-copy",onClick:c=>i(b).push({name:"InventoryStockReturnDuplicate",params:{uuid:n.uuid}})},{default:e(()=>[u(d(a.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):V("",!0),i($)("stock-return:delete")?(v(),y(N,{key:2,icon:"fas fa-trash",onClick:c=>i(I).emit("deleteItem",{uuid:n.uuid})},{default:e(()=>[u(d(a.$trans("general.delete")),1)]),_:2},1032,["onClick"])):V("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDoubleClick"]))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{oe as default};
