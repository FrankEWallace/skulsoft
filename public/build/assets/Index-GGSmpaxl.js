import{m as I,r as n,t as $,o as g,w as e,d as F,e as t,u as L,i as M,k as N,z as A,p as O,f as u,a as E,F as w,y as U,v as r,x as d,b as B}from"./app-Cvm44xuh.js";const z={class:"grid grid-cols-3 gap-6"},q={class:"col-span-3 sm:col-span-1"},G={__name:"Filter",emits:["hide"],setup(s,{emit:b}){const p=b,c={title:""},f=I({...c});return(k,m)=>{const y=n("BaseInput"),C=n("FilterForm");return g(),$(C,{"init-form":c,form:f,onHide:m[1]||(m[1]=o=>p("hide"))},{default:e(()=>[F("div",z,[F("div",q,[t(y,{type:"text",modelValue:f.title,"onUpdate:modelValue":m[0]||(m[0]=o=>f.title=o),name:"title",label:k.$trans("employee.dialogue.props.title")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},J={name:"EmployeeDialogueList"},Q=Object.assign(J,{props:{employee:{type:Object,default(){return{}}}},setup(s){const b=L(),p=M(),c=N("emitter");let f=["filter"];A("employee:dialogue")&&f.unshift("create");const k="employee/dialogue/",m=O(!1),y=I({}),C=o=>{Object.assign(y,o)};return(o,l)=>{const V=n("PageHeaderAction"),H=n("PageHeader"),D=n("ParentTransition"),v=n("DataCell"),_=n("FloatingMenuItem"),P=n("FloatingMenu"),R=n("DataRow"),T=n("BaseButton"),S=n("DataTable"),j=n("ListItem");return g(),$(j,{"init-url":k,uuid:u(b).params.uuid,onSetItems:C},{header:e(()=>[s.employee.uuid?(g(),$(H,{key:0,title:o.$trans("employee.dialogue.dialogue"),navs:[{label:o.$trans("employee.employee"),path:"Employee"},{label:s.employee.contact.name,path:{name:"EmployeeShow",params:{uuid:s.employee.uuid}}}]},{default:e(()=>[t(V,{url:`employees/${s.employee.uuid}/dialogues/`,name:"EmployeeDialogue",title:o.$trans("employee.dialogue.dialogue"),actions:u(f),"dropdown-actions":["print","pdf","excel"],onToggleFilter:l[0]||(l[0]=a=>m.value=!m.value)},null,8,["url","title","actions"])]),_:1},8,["title","navs"])):B("",!0)]),filter:e(()=>[t(D,{appear:"",visibility:m.value},{default:e(()=>[t(G,{onRefresh:l[1]||(l[1]=a=>u(c).emit("listItems")),onHide:l[2]||(l[2]=a=>m.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[t(D,{appear:"",visibility:!0},{default:e(()=>[t(S,{header:y.headers,meta:y.meta,module:"employee.dialogue",onRefresh:l[4]||(l[4]=a=>u(c).emit("listItems"))},{actionButton:e(()=>[t(T,{onClick:l[3]||(l[3]=a=>u(p).push({name:"EmployeeDialogueCreate"}))},{default:e(()=>[r(d(o.$trans("global.add",{attribute:o.$trans("employee.dialogue.dialogue")})),1)]),_:1})]),default:e(()=>[(g(!0),E(w,null,U(y.data,a=>(g(),$(R,{key:a.uuid,onDoubleClick:i=>u(p).push({name:"EmployeeDialogueShow",params:{uuid:a.uuid}})},{default:e(()=>[t(v,{name:"title"},{default:e(()=>[r(d(a.title),1)]),_:2},1024),t(v,{name:"category"},{default:e(()=>{var i;return[r(d(((i=a.category)==null?void 0:i.name)||"-"),1)]}),_:2},1024),t(v,{name:"date"},{default:e(()=>[r(d(a.date.formatted),1)]),_:2},1024),t(v,{name:"user"},{default:e(()=>{var i,h;return[r(d(((h=(i=a.user)==null?void 0:i.profile)==null?void 0:h.name)||"-"),1)]}),_:2},1024),t(v,{name:"action"},{default:e(()=>[t(P,null,{default:e(()=>[t(_,{icon:"fas fa-arrow-circle-right",onClick:i=>u(p).push({name:"EmployeeDialogueShow",params:{uuid:s.employee.uuid,muuid:a.uuid}})},{default:e(()=>[r(d(o.$trans("general.show")),1)]),_:2},1032,["onClick"]),a.isEditable?(g(),E(w,{key:0},[t(_,{icon:"fas fa-edit",onClick:i=>u(p).push({name:"EmployeeDialogueEdit",params:{uuid:s.employee.uuid,muuid:a.uuid}})},{default:e(()=>[r(d(o.$trans("general.edit")),1)]),_:2},1032,["onClick"]),t(_,{icon:"fas fa-copy",onClick:i=>u(p).push({name:"EmployeeDialogueDuplicate",params:{uuid:s.employee.uuid,muuid:a.uuid}})},{default:e(()=>[r(d(o.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),t(_,{icon:"fas fa-trash",onClick:i=>u(c).emit("deleteItem",{uuid:s.employee.uuid,moduleUuid:a.uuid})},{default:e(()=>[r(d(o.$trans("general.delete")),1)]),_:2},1032,["onClick"])],64)):B("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDoubleClick"]))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1},8,["uuid"])}}});export{Q as default};
