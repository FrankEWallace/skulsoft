import{u as L,m as V,q as j,r as l,t as y,o as v,w as e,d as g,e as t,i as P,k as O,z as h,p as E,f as i,a as z,F as G,y as J,v as u,x as d,b as D}from"./app-Cvm44xuh.js";const K={class:"grid grid-cols-3 gap-6"},Q={class:"col-span-3 sm:col-span-1"},W={class:"col-span-3 sm:col-span-1"},X={class:"col-span-3 sm:col-span-1"},Y={class:"col-span-3 sm:col-span-1"},Z={class:"col-span-3 sm:col-span-1"},x={class:"col-span-3 sm:col-span-1"},ee={__name:"Filter",props:{preRequisites:{type:Object,default(){return{}}}},emits:["hide"],setup(F,{emit:b}){L();const $=b,k=F,I={codeNumber:"",voucherNumber:"",startDate:"",endDate:"",inventory:"",vendors:[],places:[]},s=V({...I}),f=V({vendors:k.preRequisites.vendors,inventories:k.preRequisites.inventories,places:k.preRequisites.places}),B=V({isLoaded:!0});return j(async()=>{B.isLoaded=!0}),(m,o)=>{const C=l("BaseInput"),a=l("BaseSelect"),p=l("DatePicker"),w=l("FilterForm");return v(),y(w,{"init-form":I,form:s,multiple:["vendors","places"],onHide:o[7]||(o[7]=r=>$("hide"))},{default:e(()=>[g("div",K,[g("div",Q,[t(C,{type:"text",modelValue:s.codeNumber,"onUpdate:modelValue":o[0]||(o[0]=r=>s.codeNumber=r),name:"codeNumber",label:m.$trans("inventory.stock_purchase.props.code_number")},null,8,["modelValue","label"])]),g("div",W,[t(C,{type:"text",modelValue:s.voucherNumber,"onUpdate:modelValue":o[1]||(o[1]=r=>s.voucherNumber=r),name:"voucherNumber",label:m.$trans("inventory.stock_purchase.props.voucher_number")},null,8,["modelValue","label"])]),g("div",X,[t(a,{modelValue:s.inventory,"onUpdate:modelValue":o[2]||(o[2]=r=>s.inventory=r),name:"inventory","label-prop":"name","value-prop":"uuid",label:m.$trans("inventory.inventory"),options:f.inventories},null,8,["modelValue","label","options"])]),g("div",Y,[t(a,{multiple:"",modelValue:s.vendors,"onUpdate:modelValue":o[3]||(o[3]=r=>s.vendors=r),name:"vendors","label-prop":"name","value-prop":"uuid",label:m.$trans("inventory.vendor.vendor"),options:f.vendors},null,8,["modelValue","label","options"])]),g("div",Z,[t(a,{multiple:"",modelValue:s.places,"onUpdate:modelValue":o[4]||(o[4]=r=>s.places=r),name:"places","label-prop":"fullname","value-prop":"uuid",label:m.$trans("inventory.place"),options:f.places},null,8,["modelValue","label","options"])]),g("div",x,[t(p,{start:s.startDate,"onUpdate:start":o[5]||(o[5]=r=>s.startDate=r),end:s.endDate,"onUpdate:end":o[6]||(o[6]=r=>s.endDate=r),name:"dateBetween",as:"range",label:m.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},te={name:"InventoryStockPurchaseList"},oe=Object.assign(te,{setup(F){const b=P(),$=O("emitter");let k=["filter"];h("inventory:config")&&k.push("config"),h("stock-purchase:create")&&k.unshift("create");let I=[];h("stock-purchase:export")&&(I=["print","pdf","excel"]);const s="inventory/stockPurchase/",f=E(!1),B=V({inventories:[],vendors:[],places:[]}),m=V({}),o=a=>{Object.assign(B,a)},C=a=>{Object.assign(m,a)};return(a,p)=>{const w=l("PageHeaderAction"),r=l("PageHeader"),S=l("ParentTransition"),R=l("TextMuted"),_=l("DataCell"),q=l("BaseBadge"),N=l("FloatingMenuItem"),T=l("FloatingMenu"),U=l("DataRow"),M=l("BaseButton"),A=l("DataTable"),H=l("ListItem");return v(),y(H,{"init-url":s,"pre-requisites":!0,onSetPreRequisites:o,onSetItems:C},{header:e(()=>[t(r,{title:a.$trans("inventory.stock_purchase.stock_purchase"),navs:[{label:a.$trans("inventory.inventory"),path:"Inventory"}]},{default:e(()=>[t(w,{url:"inventory/stock-purchases/",name:"InventoryStockPurchase",title:a.$trans("inventory.stock_purchase.stock_purchase"),actions:i(k),"dropdown-actions":i(I),"config-path":"InventoryConfig",onToggleFilter:p[0]||(p[0]=n=>f.value=!f.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[t(S,{appear:"",visibility:f.value},{default:e(()=>[t(ee,{onRefresh:p[1]||(p[1]=n=>i($).emit("listItems")),"pre-requisites":B,onHide:p[2]||(p[2]=n=>f.value=!1)},null,8,["pre-requisites"])]),_:1},8,["visibility"])]),default:e(()=>[t(S,{appear:"",visibility:!0},{default:e(()=>[t(A,{header:m.headers,meta:m.meta,module:"inventory.stock_purchase",onRefresh:p[4]||(p[4]=n=>i($).emit("listItems"))},{actionButton:e(()=>[i(h)("stock-purchase:create")?(v(),y(M,{key:0,onClick:p[3]||(p[3]=n=>i(b).push({name:"InventoryStockPurchaseCreate"}))},{default:e(()=>[u(d(a.$trans("global.add",{attribute:a.$trans("inventory.stock_purchase.stock_purchase")})),1)]),_:1})):D("",!0)]),default:e(()=>[(v(!0),z(G,null,J(m.data,n=>(v(),y(U,{key:n.uuid,onDoubleClick:c=>i(b).push({name:"InventoryStockPurchaseShow",params:{uuid:n.uuid}})},{default:e(()=>[t(_,{name:"codeNumber"},{default:e(()=>[u(d(n.codeNumber)+" ",1),t(R,{block:""},{default:e(()=>{var c;return[u(d((c=n.inventory)==null?void 0:c.name),1)]}),_:2},1024)]),_:2},1024),t(_,{name:"voucherNumber"},{default:e(()=>[u(d(n.voucherNumber)+" ",1),n.hasItems?D("",!0):(v(),y(q,{key:0,design:"primary"},{default:e(()=>[u(d(a.$trans("inventory.without_items")),1)]),_:1}))]),_:2},1024),t(_,{name:"vendor"},{default:e(()=>[u(d(n.vendor.name),1)]),_:2},1024),t(_,{name:"date"},{default:e(()=>[u(d(n.date.formatted),1)]),_:2},1024),t(_,{name:"total"},{default:e(()=>[u(d(n.total.formatted),1)]),_:2},1024),t(_,{name:"place"},{default:e(()=>{var c;return[u(d(((c=n.place)==null?void 0:c.fullName)||"-"),1)]}),_:2},1024),t(_,{name:"createdAt"},{default:e(()=>[u(d(n.createdAt.formatted),1)]),_:2},1024),t(_,{name:"action"},{default:e(()=>[t(T,null,{default:e(()=>[t(N,{icon:"fas fa-arrow-circle-right",onClick:c=>i(b).push({name:"InventoryStockPurchaseShow",params:{uuid:n.uuid}})},{default:e(()=>[u(d(a.$trans("general.show")),1)]),_:2},1032,["onClick"]),i(h)("stock-purchase:edit")?(v(),y(N,{key:0,icon:"fas fa-edit",onClick:c=>i(b).push({name:"InventoryStockPurchaseEdit",params:{uuid:n.uuid}})},{default:e(()=>[u(d(a.$trans("general.edit")),1)]),_:2},1032,["onClick"])):D("",!0),i(h)("stock-purchase:create")?(v(),y(N,{key:1,icon:"fas fa-copy",onClick:c=>i(b).push({name:"InventoryStockPurchaseDuplicate",params:{uuid:n.uuid}})},{default:e(()=>[u(d(a.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):D("",!0),i(h)("stock-purchase:delete")?(v(),y(N,{key:2,icon:"fas fa-trash",onClick:c=>i($).emit("deleteItem",{uuid:n.uuid})},{default:e(()=>[u(d(a.$trans("general.delete")),1)]),_:2},1032,["onClick"])):D("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDoubleClick"]))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{oe as default};
