import{m as S,r as l,t as p,o as r,w as e,d as D,e as o,u as L,i as M,k as N,z as i,p as x,f as a,a as w,F as I,y as O,v as s,b as $,x as m}from"./app-Cvm44xuh.js";const z={class:"grid grid-cols-3 gap-6"},q={class:"col-span-3 sm:col-span-1"},G={class:"col-span-3 sm:col-span-1"},J={__name:"Filter",emits:["hide"],setup(n,{emit:B}){const y=B,k={headline:"",location:""},f=S({...k});return(_,c)=>{const g=l("BaseInput"),b=l("FilterForm");return r(),p(b,{"init-form":k,form:f,onHide:c[2]||(c[2]=h=>y("hide"))},{default:e(()=>[D("div",z,[D("div",q,[o(g,{type:"text",modelValue:f.headline,"onUpdate:modelValue":c[0]||(c[0]=h=>f.headline=h),name:"headline",label:_.$trans("employee.experience.props.headline")},null,8,["modelValue","label"])]),D("div",G,[o(g,{type:"text",modelValue:f.location,"onUpdate:modelValue":c[1]||(c[1]=h=>f.location=h),name:"location",label:_.$trans("employee.experience.props.location")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},K={name:"EmployeeExperienceList"},W=Object.assign(K,{props:{employee:{type:Object,default(){return{}}}},setup(n){const B=L(),y=M(),k=N("emitter"),f=n;let _=["filter"];(i("employee:edit")||i("employee-record:manage")||f.employee.selfService)&&_.unshift("create");const c="employee/experience/",g=x(!1),b=S({}),h=u=>{Object.assign(b,u)};return(u,d)=>{const V=l("PageHeaderAction"),T=l("PageHeader"),F=l("ParentTransition"),H=l("BaseBadge"),v=l("DataCell"),E=l("FloatingMenuItem"),P=l("FloatingMenu"),R=l("DataRow"),A=l("BaseButton"),U=l("DataTable"),j=l("ListItem");return r(),p(j,{"init-url":c,uuid:a(B).params.uuid,onSetItems:h},{header:e(()=>[n.employee.uuid?(r(),p(T,{key:0,title:u.$trans("employee.experience.experience"),navs:[{label:u.$trans("employee.employee"),path:"Employee"},{label:n.employee.contact.name,path:{name:"EmployeeShow",params:{uuid:n.employee.uuid}}}]},{default:e(()=>[o(V,{url:`employees/${n.employee.uuid}/experiences/`,name:"EmployeeExperience",title:u.$trans("employee.experience.experience"),actions:a(_),"dropdown-actions":["print","pdf","excel"],onToggleFilter:d[0]||(d[0]=t=>g.value=!g.value)},null,8,["url","title","actions"])]),_:1},8,["title","navs"])):$("",!0)]),filter:e(()=>[o(F,{appear:"",visibility:g.value},{default:e(()=>[o(J,{onRefresh:d[1]||(d[1]=t=>a(k).emit("listItems")),onHide:d[2]||(d[2]=t=>g.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[o(F,{appear:"",visibility:!0},{default:e(()=>[o(U,{header:b.headers,meta:b.meta,module:"employee.experience",onRefresh:d[4]||(d[4]=t=>a(k).emit("listItems"))},{actionButton:e(()=>[a(i)("employee:edit")||a(i)("employee-record:manage")||n.employee.selfService?(r(),p(A,{key:0,onClick:d[3]||(d[3]=t=>a(y).push({name:"EmployeeExperienceCreate"}))},{default:e(()=>[s(m(u.$trans("global.add",{attribute:u.$trans("employee.experience.experience")})),1)]),_:1})):$("",!0)]),default:e(()=>[(r(!0),w(I,null,O(b.data,t=>(r(),p(R,{key:t.uuid,onDoubleClick:C=>a(y).push({name:"EmployeeExperienceShow",params:{uuid:n.employee.uuid,muuid:t.uuid}})},{default:e(()=>[o(v,{name:"headline"},{default:e(()=>[s(m(t.headline)+" ",1),t.selfUpload?(r(),p(H,{key:0,design:t.verificationStatus.color},{default:e(()=>[s(m(t.verificationStatus.label),1)]),_:2},1032,["design"])):$("",!0)]),_:2},1024),o(v,{name:"location"},{default:e(()=>[s(m(t.location),1)]),_:2},1024),o(v,{name:"employmentType"},{default:e(()=>[s(m(t.employmentType.name),1)]),_:2},1024),o(v,{name:"startDate"},{default:e(()=>[s(m(t.startDate.formatted),1)]),_:2},1024),o(v,{name:"endDate"},{default:e(()=>[s(m(t.endDate.formatted),1)]),_:2},1024),o(v,{name:"createdAt"},{default:e(()=>[s(m(t.createdAt.formatted),1)]),_:2},1024),o(v,{name:"action"},{default:e(()=>[o(P,null,{default:e(()=>[o(E,{icon:"fas fa-arrow-circle-right",onClick:C=>a(y).push({name:"EmployeeExperienceShow",params:{uuid:n.employee.uuid,muuid:t.uuid}})},{default:e(()=>[s(m(u.$trans("general.show")),1)]),_:2},1032,["onClick"]),a(i)("employee:edit")||a(i)("employee-record:manage")||n.employee.selfService?(r(),w(I,{key:0},[a(i)("employee:edit")||a(i)("employee-record:manage")?(r(),p(E,{key:0,icon:"fas fa-edit",onClick:C=>a(y).push({name:"EmployeeExperienceEdit",params:{uuid:n.employee.uuid,muuid:t.uuid}})},{default:e(()=>[s(m(u.$trans("general.edit")),1)]),_:2},1032,["onClick"])):$("",!0),a(i)("employee:edit")||a(i)("employee-record:manage")?(r(),p(E,{key:1,icon:"fas fa-copy",onClick:C=>a(y).push({name:"EmployeeExperienceDuplicate",params:{uuid:n.employee.uuid,muuid:t.uuid}})},{default:e(()=>[s(m(u.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):$("",!0),a(i)("employee:edit")||a(i)("employee-record:manage")?(r(),p(E,{key:2,icon:"fas fa-trash",onClick:C=>a(k).emit("deleteItem",{uuid:n.employee.uuid,moduleUuid:t.uuid})},{default:e(()=>[s(m(u.$trans("general.delete")),1)]),_:2},1032,["onClick"])):$("",!0)],64)):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDoubleClick"]))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1},8,["uuid"])}}});export{W as default};
