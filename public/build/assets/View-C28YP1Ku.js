import{u as D,i as L,j as M,c as V,g as d,p as j,m as N,q as U,r as l,a as A,b as c,o as u,d as e,t as f,f as m,v as r,x as o,w as n,e as v}from"./app-Cvm44xuh.js";import{_ as S,u as H}from"./ShowImages-BG8SVuPv.js";import"./index-Dfe-y4c7.js";const P={key:0,class:"max-w-3xl mx-auto px-4 py-8 text-sm"},R={class:"bg-white dark:bg-dark-header rounded-lg shadow-md"},q={class:"p-6 border-b border-gray-200 dark:border-gray-700"},z={class:"flex items-center justify-between"},E=["src"],I={class:"flex items-center gap-2 dark:text-gray-300"},O={class:"p-6 border-b border-gray-200 dark:border-gray-700"},F={class:"flex items-center justify-between"},G={class:"flex items-center gap-4"},J=["src"],K={class:"dark:text-gray-300"},Q={class:"font-semibold text-base"},W={class:"text-xs text-gray-500"},X={class:"dark:text-gray-300"},Y={class:"p-6"},Z=["innerHTML"],ee="site/post/",ne={__name:"View",setup(te){const b=D(),p=L(),y=M(),k=V(()=>d("layout.display").value=="dark").value?d("assets.iconLight"):d("assets.icon"),i=j(!1),t=N({}),x=async()=>{i.value=!0,await y.dispatch(ee+"get",{uuid:b.params.uuid}).then(s=>{i.value=!1,Object.assign(t,s)}).catch(s=>{i.value=!1})},w=s=>H(new Date(s.replace(" ","T")));return U(async()=>{await x()}),(s,a)=>{var g,_,h;const B=l("BaseBadge"),C=l("BaseComment"),$=l("BaseCard");return t.uuid?(u(),A("div",P,[e("div",R,[e("div",q,[e("div",z,[e("img",{src:m(k),alt:"Logo",class:"h-10"},null,8,E),e("div",I,[e("span",{class:"text-sm text-gray-500 cursor-pointer",onClick:a[0]||(a[0]=T=>m(p).push({name:"Dashboard"}))},[a[2]||(a[2]=e("i",{class:"fas fa-home mr-1"},null,-1)),r(" "+o(s.$trans("global.go_to",{attribute:s.$trans("dashboard.home")})),1)])])])]),e("div",O,[e("div",F,[e("div",G,[e("img",{src:(_=(g=t.user)==null?void 0:g.profile)==null?void 0:_.avatar,class:"w-12 h-12 rounded-full",alt:"User avatar"},null,8,J),e("div",K,[e("div",Q,[r(o((h=t.author)==null?void 0:h.name)+" ",1),t.author.detail?(u(),f(B,{key:0,size:"sm"},{default:n(()=>[r(o(t.author.detail),1)]),_:1})):c("",!0)]),e("div",W,o(w(t.createdAt.at)),1)])]),e("div",X,[e("span",{class:"cursor-pointer",onClick:a[1]||(a[1]=T=>m(p).push({name:"SitePost"}))},a[3]||(a[3]=[e("i",{class:"fas fa-arrow-left"},null,-1)]))])])]),e("div",Y,[e("div",{class:"md-content text-gray-800 dark:text-gray-400",innerHTML:t.content},null,8,Z),v(S,{post:t,"show-all-images":""},null,8,["post"])]),t.comments.length>0?(u(),f($,{key:0},{title:n(()=>[r(o(s.$trans("global.recent",{attribute:s.$trans("comment.comment")})),1)]),default:n(()=>[v(C,{type:"post",uuid:t.uuid,moduleType:"post",moduleUuid:t.uuid,comments:t.comments,"can-comment":!1},{title:n(()=>[r(o(s.$trans("global.recent",{attribute:s.$trans("post.post")})),1)]),_:1},8,["uuid","moduleUuid","comments"])]),_:1})):c("",!0)])])):c("",!0)}}};export{ne as default};
