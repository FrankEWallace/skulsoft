import{P as D,J as E,L,Q as M,R,S as V,T as F,c as T,p as N,U as j,m as O,a as p,o as y,b as $,e as q,F as I,y as U,h as B,n as W,d as k,x as G,f as z}from"./app-Cvm44xuh.js";import{F as P}from"./index-Dfe-y4c7.js";function A(e){return R()?(V(e),!0):!1}const b=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function J(e,t=1e3,u={}){const{immediate:l=!0,immediateCallback:n=!1}=u;let o=null;const a=D(!1);function i(){o&&(clearInterval(o),o=null)}function r(){a.value=!1,i()}function s(){const f=F(t);f<=0||(a.value=!0,n&&e(),i(),a.value&&(o=setInterval(e,f)))}if(l&&b&&s(),E(t)||typeof t=="function"){const f=L(t,()=>{a.value&&b&&s()});A(f)}return A(r),{isActive:M(a),pause:r,resume:s}}const Q=b?window:void 0;function Y(e,t={}){const{immediate:u=!0,fpsLimit:l=void 0,window:n=Q,once:o=!1}=t,a=D(!1),i=T(()=>l?1e3/F(l):null);let r=0,s=null;function f(v){if(!a.value||!n)return;r||(r=v);const w=v-r;if(i.value&&w<i.value){s=n.requestAnimationFrame(f);return}if(r=v,e({delta:w,timestamp:v}),o){a.value=!1,s=null;return}s=n.requestAnimationFrame(f)}function d(){!a.value&&n&&(a.value=!0,r=0,s=n.requestAnimationFrame(f))}function g(){a.value=!1,s!=null&&n&&(n.cancelAnimationFrame(s),s=null)}return u&&d(),A(g),{isActive:j(a),pause:g,resume:d}}function H(e={}){const{controls:t=!1,interval:u="requestAnimationFrame"}=e,l=N(new Date),n=()=>l.value=new Date,o=u==="requestAnimationFrame"?Y(n,{immediate:!0}):J(n,u,{immediate:!0});return t?{now:l,...o}:l}const K=[{max:6e4,value:1e3,name:"second"},{max:276e4,value:6e4,name:"minute"},{max:72e6,value:36e5,name:"hour"},{max:5184e5,value:864e5,name:"day"},{max:24192e5,value:6048e5,name:"week"},{max:28512e6,value:2592e6,name:"month"},{max:Number.POSITIVE_INFINITY,value:31536e6,name:"year"}],X={justNow:"just now",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,t)=>e===1?t?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,t)=>e===1?t?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,t)=>e===1?t?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,t)=>e===1?t?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`,invalid:""};function Z(e){return e.toISOString().slice(0,10)}function oe(e,t={}){const{controls:u=!1,updateInterval:l=3e4}=t,{now:n,...o}=H({interval:l,controls:!0}),a=T(()=>_(new Date(F(e)),t,F(n)));return u?{timeAgo:a,...o}:a}function _(e,t={},u=Date.now()){var l;const{max:n,messages:o=X,fullDateFormatter:a=Z,units:i=K,showSecond:r=!1,rounding:s="round"}=t,f=typeof s=="number"?c=>+c.toFixed(s):Math[s],d=+u-+e,g=Math.abs(d);function v(c,m){return f(Math.abs(c)/m.value)}function w(c,m){const x=v(c,m),h=c>0,C=S(m.name,x,h);return S(h?"past":"future",C,h)}function S(c,m,x){const h=o[c];return typeof h=="function"?h(m,x):h.replace("{0}",m.toString())}if(g<6e4&&!r)return o.justNow;if(typeof n=="number"&&g>n)return a(new Date(e));if(typeof n=="string"){const c=(l=i.find(m=>m.name===n))==null?void 0:l.max;if(c&&g>c)return a(new Date(e))}for(const[c,m]of i.entries()){if(v(d,m)<=0&&i[c-1])return w(d,i[c-1]);if(g<m.max)return w(d,m)}return o.invalid}const ee=["src"],te={key:0,class:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center rounded-md"},ne={class:"text-white text-lg font-bold"},le={__name:"ShowImages",props:{post:Object,showAllImages:{type:Boolean,default:!1}},setup(e){const t=N(!1),u=O({images:[]}),l=a=>{u.images=a.map(i=>i.url),t.value=!t.value},n=()=>{u.images=[]},o=()=>{};return(a,i)=>(y(),p(I,null,[e.post.images.length?(y(),p("div",{key:0,class:"mt-4 flex flex-wrap items-center gap-2 cursor-pointer",onClick:i[0]||(i[0]=r=>l(e.post.images))},[(y(!0),p(I,null,U(e.post.images.slice(0,e.showAllImages?e.post.images.length:4),(r,s)=>(y(),p("div",{key:r.uuid,class:W({"w-full":e.post.images.length==1,"w-1/2":e.post.images.length==2,"w-1/3":e.post.images.length==3,"w-1/4":e.post.images.length>=4,relative:e.post.images.length>4&&s===3}),style:B(e.post.images.length>1?`width: calc(${100/Math.min(e.post.images.length,4)}% - 0.5rem);`:"")},[k("img",{src:e.post.images.length==1?r.url:r.thumbnail,class:"rounded-md object-cover w-full h-full"},null,8,ee),!e.showAllImages&&e.post.images.length>4&&s===3?(y(),p("div",te,[k("span",ne," +"+G(e.post.images.length-3),1)])):$("",!0)],6))),128))])):$("",!0),q(z(P),{toggler:t.value,slide:1,sources:u.images,"on-close":n,onOpen:o},null,8,["toggler","sources"])],64))}};export{le as _,oe as u};
