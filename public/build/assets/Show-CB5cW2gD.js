import{u as I,k as j,g as q,I as E,m as T,r as c,t as y,o as g,w as n,d as B,e as l,f as t,j as O,a as H,b as P,i as z,v,x as V,C as R,F as D}from"./app-Cvm44xuh.js";const M={class:"grid grid-cols-3 gap-6"},L={class:"col-span-3 sm:col-span-1"},h={class:"col-span-3 sm:col-span-1"},G={class:"col-span-3 sm:col-span-1"},J={name:"TeamSyncForm"},K=Object.assign(J,{props:{},emits:["completed"],setup(A,{emit:S}){const $=I(),w=S,C=j("emitter"),i={team:"",role:!1,permission:!1},U="team/",s=q("teams").value.filter(p=>p.uuid!==$.params.uuid),r=E(U),b=T({}),u=T({...i}),F=p=>{Object.assign(b,p)},d=()=>{w("completed"),C.emit("listItems")};return(p,m)=>{const k=c("BaseSelect"),e=c("BaseSwitch"),a=c("FormAction");return g(),y(a,{"no-card":"","pre-requisites":!1,onSetPreRequisites:F,"init-url":U,uuid:t($).params.uuid,"no-data-fetch":"",action:"sync","init-form":i,form:u,"keep-adding":!1,"submit-text":p.$trans("general.proceed"),"after-submit":d},{default:n(()=>[B("div",M,[B("div",L,[l(k,{name:"team",label:p.$trans("team.team"),modelValue:u.team,"onUpdate:modelValue":m[0]||(m[0]=o=>u.team=o),error:t(r).team,"onUpdate:error":m[1]||(m[1]=o=>t(r).team=o),options:t(s),"value-prop":"uuid","label-prop":"name"},null,8,["label","modelValue","error","options"])]),B("div",h,[l(e,{vertical:"",modelValue:u.role,"onUpdate:modelValue":m[2]||(m[2]=o=>u.role=o),name:"role",label:p.$trans("global.sync",{attribute:p.$trans("team.config.role.role")}),error:t(r).role,"onUpdate:error":m[3]||(m[3]=o=>t(r).role=o)},null,8,["modelValue","label","error"])]),B("div",G,[l(e,{vertical:"",modelValue:u.permission,"onUpdate:modelValue":m[4]||(m[4]=o=>u.permission=o),name:"permission",label:p.$trans("global.sync",{attribute:p.$trans("team.config.permission.permission")}),error:t(r).permission,"onUpdate:error":m[5]||(m[5]=o=>t(r).permission=o)},null,8,["modelValue","label","error"])])])]),_:1},8,["uuid","form","submit-text"])}}}),Q={class:"grid grid-cols-3 gap-6"},W={class:"col-span-3 sm:col-span-1"},X={key:0,class:"col-span-3 sm:col-span-1"},Y={class:"col-span-3 sm:col-span-1"},Z={name:"TeamImportForm"},x=Object.assign(Z,{props:{},emits:["completed"],setup(A,{emit:S}){const $=I(),w=O(),C=S,i=j("emitter"),U={team:"",period:"",module:""},s="team/",r=q("teams").value.filter(e=>e.uuid!==$.params.uuid),b=E(s),u=T({periods:[]}),F=T({selectedPeriod:null}),d=T({...U}),p=e=>{Object.assign(u,e)},m=async e=>{if(d.period="",F.selectedPeriod=null,u.periods=[],e==null||_.isEmpty(e)){d.period="";return}await w.dispatch(s+"getPeriods",{team:e}).then(a=>{u.periods=a.periods}).catch(a=>{})},k=()=>{C("completed"),i.emit("listItems")};return(e,a)=>{const o=c("BaseSelect"),N=c("FormAction");return g(),y(N,{"no-card":"","pre-requisites":!1,onSetPreRequisites:p,"init-url":s,uuid:t($).params.uuid,"no-data-fetch":"",action:"import","init-form":U,form:d,"keep-adding":!1,"submit-text":e.$trans("general.proceed"),"after-submit":k},{default:n(()=>[B("div",Q,[B("div",W,[l(o,{name:"team",label:e.$trans("team.team"),modelValue:d.team,"onUpdate:modelValue":a[0]||(a[0]=f=>d.team=f),error:t(b).team,"onUpdate:error":a[1]||(a[1]=f=>t(b).team=f),options:t(r),"value-prop":"uuid","label-prop":"name",onChange:m},null,8,["label","modelValue","error","options"])]),u.periods.length>1?(g(),H("div",X,[l(o,{name:"period",label:e.$trans("academic.period.period"),modelValue:d.period,"onUpdate:modelValue":a[2]||(a[2]=f=>d.period=f),error:t(b).period,"onUpdate:error":a[3]||(a[3]=f=>t(b).period=f),options:u.periods,"value-prop":"uuid","label-prop":"name"},null,8,["label","modelValue","error","options"])])):P("",!0),B("div",Y,[l(o,{name:"module",label:e.$trans("module.module"),modelValue:d.module,"onUpdate:modelValue":a[4]||(a[4]=f=>d.module=f),error:t(b).module,"onUpdate:error":a[5]||(a[5]=f=>t(b).module=f),"label-prop":"label","value-prop":"value",options:[{value:"academic",label:e.$trans("module.academic")},{value:"student",label:e.$trans("module.student")},{value:"employee",label:e.$trans("module.employee")},{value:"finance",label:e.$trans("module.finance")},{value:"contact",label:e.$trans("module.contact")},{value:"transport",label:e.$trans("module.transport")},{value:"approval",label:e.$trans("module.approval")}]},null,8,["label","modelValue","error","options"])])])]),_:1},8,["uuid","form","submit-text"])}}}),ee={class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"},te={name:"TeamShow"},ae=Object.assign(te,{setup(A){O();const S=I(),$=z(),w={},C="team/",i=T({...w}),U=s=>{Object.assign(i,s)};return(s,r)=>{const b=c("PageHeaderAction"),u=c("PageHeader"),F=c("TextMuted"),d=c("BaseDataView"),p=c("BaseButton"),m=c("ShowButton"),k=c("BaseCard"),e=c("ShowItem"),a=c("ParentTransition");return g(),H(D,null,[l(u,{title:s.$trans(t(S).meta.trans,{attribute:s.$trans(t(S).meta.label)}),navs:[{label:s.$trans("team.team"),path:"TeamList"}]},{default:n(()=>[l(b,{name:"Team",title:s.$trans("team.team"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),l(a,{appear:"",visibility:!0},{default:n(()=>[l(e,{"init-url":C,uuid:t(S).params.uuid,onSetItem:U,onRedirectTo:r[1]||(r[1]=o=>t($).push({name:"Team"}))},{default:n(()=>[i.uuid?(g(),y(k,{key:0},{title:n(()=>[v(V(i.name)+" ",1),i.code?(g(),y(F,{key:0,class:"text-xs"},{default:n(()=>[v(V(i.code),1)]),_:1})):P("",!0)]),footer:n(()=>[l(m,null,{default:n(()=>[l(p,{design:"primary",onClick:r[0]||(r[0]=o=>t($).push({name:"TeamEdit",params:{uuid:i.uuid}}))},{default:n(()=>[v(V(s.$trans("general.edit")),1)]),_:1})]),_:1})]),default:n(()=>[B("dl",ee,[l(d,{label:s.$trans("organization.organization"),class:"col-span-1 sm:col-span-2"},{default:n(()=>{var o;return[v(V(((o=i.organization)==null?void 0:o.name)||"-"),1)]}),_:1},8,["label"]),l(d,{label:s.$trans("general.created_at")},{default:n(()=>[v(V(i.createdAt.formatted),1)]),_:1},8,["label"]),l(d,{label:s.$trans("general.updated_at")},{default:n(()=>[v(V(i.updatedAt.formatted),1)]),_:1},8,["label"])])]),_:1})):P("",!0)]),_:1},8,["uuid"])]),_:1}),t(R)("admin")?(g(),y(a,{key:0,appear:"",visibility:!0},{default:n(()=>[i.uuid?(g(),y(k,{key:0},{title:n(()=>[v(V(s.$trans("general.sync")),1)]),default:n(()=>[l(K,{onCompleted:r[2]||(r[2]=o=>s.emitter.emit("refreshItem"))})]),_:1})):P("",!0)]),_:1})):P("",!0),t(R)("admin")?(g(),y(a,{key:1,appear:"",visibility:!0},{default:n(()=>[i.uuid?(g(),y(k,{key:0},{title:n(()=>[v(V(s.$trans("general.import")),1)]),default:n(()=>[l(x,{onCompleted:r[3]||(r[3]=o=>s.emitter.emit("refreshItem"))})]),_:1})):P("",!0)]),_:1})):P("",!0)],64)}}});export{ae as default};
