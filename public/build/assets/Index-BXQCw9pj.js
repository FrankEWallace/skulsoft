import{u as H,m as v,q as P,r as o,t as g,o as f,w as e,d as w,b as y,v as s,x as n,e as a,i as j,k as E,p as O,f as p,a as U,F as z,y as G}from"./app-Cvm44xuh.js";const J={class:"grid grid-cols-3 gap-6"},K={class:"col-span-3 sm:col-span-1"},Q={class:"col-span-3 sm:col-span-1"},W={__name:"Filter",emits:["hide"],setup(N,{emit:k}){const b=H(),D=k,$={students:[],startDate:"",endDate:""},m=v({...$});v({});const c=v({students:[],isLoaded:!b.query.students});return P(async()=>{c.students=b.query.students?b.query.students.split(","):[],c.isLoaded=!0}),(_,i)=>{const u=o("BaseSelectSearch"),l=o("DatePicker"),h=o("FilterForm");return f(),g(h,{"init-form":$,form:m,multiple:["students"],onHide:i[3]||(i[3]=d=>D("hide"))},{default:e(()=>[w("div",J,[w("div",K,[c.isLoaded?(f(),g(u,{key:0,multiple:"",name:"students",label:_.$trans("global.select",{attribute:_.$trans("student.student")}),modelValue:m.students,"onUpdate:modelValue":i[0]||(i[0]=d=>m.students=d),"value-prop":"uuid","init-search":c.students,"search-key":"name","search-action":"student/summary"},{selectedOption:e(d=>[s(n(d.value.name)+" ("+n(d.value.codeNumber)+") ",1)]),listOption:e(d=>[s(n(d.option.name)+" ("+n(d.option.codeNumber)+") ",1)]),_:1},8,["label","modelValue","init-search"])):y("",!0)]),w("div",Q,[a(l,{start:m.startDate,"onUpdate:start":i[1]||(i[1]=d=>m.startDate=d),end:m.endDate,"onUpdate:end":i[2]||(i[2]=d=>m.endDate=d),name:"dateBetween",as:"range",label:_.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},X={name:"StudentServiceRequestList"},Z=Object.assign(X,{setup(N){const k=j(),b=E("emitter");let D=["create","filter"],$=["print","pdf","excel"];const m="student/serviceRequest/",c=O(!1),_=v({}),i=u=>{Object.assign(_,u)};return(u,l)=>{const h=o("PageHeaderAction"),d=o("PageHeader"),F=o("ParentTransition"),r=o("DataCell"),S=o("TextMuted"),T=o("BaseBadge"),B=o("FloatingMenuItem"),I=o("FloatingMenu"),L=o("DataRow"),M=o("BaseButton"),V=o("DataTable"),A=o("ListItem");return f(),g(A,{"init-url":m,onSetItems:i},{header:e(()=>[a(d,{title:u.$trans("student.service_request.service_request"),navs:[{label:u.$trans("student.student"),path:"Student"}]},{default:e(()=>[a(h,{url:"student/service-requests/",name:"StudentServiceRequest",title:u.$trans("student.service_request.service_request"),actions:p(D),"dropdown-actions":p($),onToggleFilter:l[0]||(l[0]=t=>c.value=!c.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[a(F,{appear:"",visibility:c.value},{default:e(()=>[a(W,{onRefresh:l[1]||(l[1]=t=>p(b).emit("listItems")),onHide:l[2]||(l[2]=t=>c.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[a(F,{appear:"",visibility:!0},{default:e(()=>[a(V,{header:_.headers,meta:_.meta,module:"student.service_request",onRefresh:l[4]||(l[4]=t=>p(b).emit("listItems"))},{actionButton:e(()=>[a(M,{onClick:l[3]||(l[3]=t=>p(k).push({name:"StudentServiceRequestCreate"}))},{default:e(()=>[s(n(u.$trans("global.add",{attribute:u.$trans("student.service_request.service_request")})),1)]),_:1})]),default:e(()=>[(f(!0),U(z,null,G(_.data,t=>(f(),g(L,{key:t.uuid,onDoubleClick:C=>p(k).push({name:"StudentServiceRequestShow",params:{uuid:t.uuid}})},{default:e(()=>[a(r,{name:"codeNumber"},{default:e(()=>[s(n(t.codeNumber),1)]),_:2},1024),a(r,{name:"name"},{default:e(()=>[s(n(t.student.name)+" ",1),a(S,{block:""},{default:e(()=>[s(n(t.student.contactNumber),1)]),_:2},1024)]),_:2},1024),a(r,{name:"parent"},{default:e(()=>[s(n(t.student.fatherName)+" ",1),a(S,{block:""},{default:e(()=>[s(n(t.student.motherName),1)]),_:2},1024)]),_:2},1024),a(r,{name:"admissionDate"},{default:e(()=>[s(n(t.student.joiningDate.formatted)+" ",1),a(S,{block:""},{default:e(()=>[s(n(t.student.codeNumber),1)]),_:2},1024)]),_:2},1024),a(r,{name:"course"},{default:e(()=>[s(n(t.student.courseName)+" ",1),a(S,{block:""},{default:e(()=>[s(n(t.student.batchName),1)]),_:2},1024)]),_:2},1024),a(r,{name:"date"},{default:e(()=>[s(n(t.date.formatted),1)]),_:2},1024),a(r,{name:"type"},{default:e(()=>[s(n(t.type.label)+" ",1),t.transportStoppage?(f(),g(S,{key:0,block:""},{default:e(()=>[s(n(t.transportStoppage.name),1)]),_:2},1024)):y("",!0)]),_:2},1024),a(r,{name:"requestType"},{default:e(()=>[s(n(t.requestType.label),1)]),_:2},1024),a(r,{name:"status"},{default:e(()=>[a(T,{design:t.status.color},{default:e(()=>[s(n(t.status.label),1)]),_:2},1032,["design"])]),_:2},1024),a(r,{name:"createdAt"},{default:e(()=>[s(n(t.createdAt.formatted),1)]),_:2},1024),a(r,{name:"action"},{default:e(()=>[a(I,null,{default:e(()=>[a(B,{icon:"fas fa-arrow-circle-right",onClick:C=>p(k).push({name:"StudentServiceRequestShow",params:{uuid:t.uuid}})},{default:e(()=>[s(n(u.$trans("general.show")),1)]),_:2},1032,["onClick"]),t.isEditable?(f(),g(B,{key:0,icon:"fas fa-edit",onClick:C=>p(k).push({name:"StudentServiceRequestEdit",params:{uuid:t.uuid}})},{default:e(()=>[s(n(u.$trans("general.edit")),1)]),_:2},1032,["onClick"])):y("",!0),t.isEditable?(f(),g(B,{key:1,icon:"fas fa-trash",onClick:C=>p(b).emit("deleteItem",{uuid:t.uuid})},{default:e(()=>[s(n(u.$trans("general.delete")),1)]),_:2},1032,["onClick"])):y("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDoubleClick"]))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{Z as default};
