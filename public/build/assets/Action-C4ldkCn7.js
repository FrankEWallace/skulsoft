import{u as B,i as T,j as L,I as N,p as R,m as V,r as u,t as _,o as d,w as c,d as b,a as k,b as g,e as m,f as s,v as h,x as n,K as q,F as C}from"./app-Cvm44xuh.js";const H={class:"grid grid-cols-3 gap-6"},P={class:"col-span-3 sm:col-span-1"},w={key:0,class:"col-span-3 sm:col-span-1"},E={key:1,class:"col-span-3 sm:col-span-1"},W={class:"col-span-2 sm:col-span-1"},K={class:"col-span-2 sm:col-span-1"},z={class:"col-span-2 sm:col-span-1"},G={class:"col-span-3"},J={name:"AcademicSubjectInchargeForm"},M=Object.assign(J,{setup(U){const p=B();T(),L();const l={batch:"",batches:[],subject:"",employee:"",startDate:"",endDate:"",remarks:""},D="academic/subjectIncharge/",o=N(D);R(!1);const y=V({subjects:[]}),j=V({selectedBatch:null,selectedBatches:[],subjects:[]}),r=V({...l}),i=V({batch:"",batches:[],subject:"",employee:"",isLoaded:!p.params.uuid}),A=t=>{Object.assign(y,t)},S=async t=>{r.batch=(t==null?void 0:t.uuid)||""},O=async t=>{var a,v;await S(t.batch),Object.assign(l,{...t,startDate:t.startDate.value,endDate:t.endDate.value,batch:((a=t.batch)==null?void 0:a.uuid)||"",subject:((v=t.subject)==null?void 0:v.uuid)||"",employee:t.employee.uuid}),Object.assign(r,q(l)),i.employee=t.employee.uuid,j.selectedBatch=t.batch,i.isLoaded=!0};return(t,a)=>{const v=u("BaseSelect"),f=u("BaseSelectSearch"),$=u("DatePicker"),F=u("BaseTextarea"),I=u("FormAction");return d(),_(I,{"pre-requisites":!0,onSetPreRequisites:A,"init-url":D,"init-form":l,form:r,setForm:O,redirect:"AcademicSubjectIncharge"},{default:c(()=>[b("div",H,[b("div",P,[m(v,{modelValue:r.subject,"onUpdate:modelValue":a[0]||(a[0]=e=>r.subject=e),name:"subject",label:t.$trans("academic.subject.subject"),"label-prop":"name","value-prop":"uuid",options:y.subjects,error:s(o).subject,"onUpdate:error":a[1]||(a[1]=e=>s(o).subject=e)},null,8,["modelValue","label","options","error"])]),s(p).params.uuid?(d(),k("div",w,[i.isLoaded?(d(),_(f,{key:0,name:"batch",label:t.$trans("academic.batch.batch"),modelValue:j.selectedBatch,"onUpdate:modelValue":a[2]||(a[2]=e=>j.selectedBatch=e),error:s(o).batch,"onUpdate:error":a[3]||(a[3]=e=>s(o).batch=e),"value-prop":"uuid","object-prop":!0,"init-search":i.batch,"search-key":"course_batch","search-action":"academic/batch/list"},{selectedOption:c(e=>[h(n(e.value.course.name)+" - "+n(e.value.name),1)]),listOption:c(e=>[h(n(e.option.course.nameWithTerm)+" - "+n(e.option.name),1)]),_:1},8,["label","modelValue","error","init-search"])):g("",!0)])):g("",!0),s(p).params.uuid?g("",!0):(d(),k("div",E,[i.isLoaded?(d(),_(f,{key:0,multiple:"",name:"batches",label:t.$trans("academic.batch.batch"),modelValue:r.batches,"onUpdate:modelValue":a[4]||(a[4]=e=>r.batches=e),error:s(o).batches,"onUpdate:error":a[5]||(a[5]=e=>s(o).batches=e),"value-prop":"uuid","init-search":i.batches,"search-key":"course_batch","search-action":"academic/batch/list",onChange:S},{selectedOption:c(e=>[h(n(e.value.course.name)+" - "+n(e.value.name),1)]),listOption:c(e=>[h(n(e.option.course.nameWithTerm)+" - "+n(e.option.name),1)]),_:1},8,["label","modelValue","error","init-search"])):g("",!0)])),b("div",W,[i.isLoaded?(d(),_(f,{key:0,name:"employee",label:t.$trans("global.select",{attribute:t.$trans("employee.employee")}),modelValue:r.employee,"onUpdate:modelValue":a[6]||(a[6]=e=>r.employee=e),error:s(o).employee,"onUpdate:error":a[7]||(a[7]=e=>s(o).employee=e),"value-prop":"uuid","init-search":i.employee,"search-key":"name","search-action":"employee/list"},{selectedOption:c(e=>[h(n(e.value.name)+" ("+n(e.value.codeNumber)+") ",1)]),listOption:c(e=>[h(n(e.option.name)+" ("+n(e.option.codeNumber)+") ",1)]),_:1},8,["label","modelValue","error","init-search"])):g("",!0)]),b("div",K,[m($,{modelValue:r.startDate,"onUpdate:modelValue":a[8]||(a[8]=e=>r.startDate=e),name:"startDate",label:t.$trans("employee.incharge.props.start_date"),"no-clear":"",error:s(o).startDate,"onUpdate:error":a[9]||(a[9]=e=>s(o).startDate=e)},null,8,["modelValue","label","error"])]),b("div",z,[m($,{modelValue:r.endDate,"onUpdate:modelValue":a[10]||(a[10]=e=>r.endDate=e),name:"endDate",label:t.$trans("employee.incharge.props.end_date"),"no-clear":"",error:s(o).endDate,"onUpdate:error":a[11]||(a[11]=e=>s(o).endDate=e)},null,8,["modelValue","label","error"])]),b("div",G,[m(F,{modelValue:r.remarks,"onUpdate:modelValue":a[12]||(a[12]=e=>r.remarks=e),name:"remarks",label:t.$trans("employee.incharge.props.remarks"),error:s(o).remarks,"onUpdate:error":a[13]||(a[13]=e=>s(o).remarks=e)},null,8,["modelValue","label","error"])])])]),_:1},8,["form"])}}}),Q={name:"AcademicSubjectInchargeAction"},Y=Object.assign(Q,{setup(U){const p=B();return(l,D)=>{const o=u("PageHeaderAction"),y=u("PageHeader"),j=u("ParentTransition");return d(),k(C,null,[m(y,{title:l.$trans(s(p).meta.trans,{attribute:l.$trans(s(p).meta.label)}),navs:[{label:l.$trans("academic.academic"),path:"Academic"},{label:l.$trans("academic.subject.subject"),path:"AcademicSubject"},{label:l.$trans("academic.subject_incharge.subject_incharge"),path:"AcademicSubjectInchargeList"}]},{default:c(()=>[m(o,{name:"AcademicSubjectIncharge",title:l.$trans("academic.subject_incharge.subject_incharge"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),m(j,{appear:"",visibility:!0},{default:c(()=>[m(M)]),_:1})],64)}}});export{Y as default};
