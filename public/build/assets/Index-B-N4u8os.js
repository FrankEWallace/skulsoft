import{u as M,m as C,q as A,r as c,t as v,o as _,w as l,d as f,e as s,b as V,i as H,k as j,z as q,p as E,f as y,a as O,F as z,y as J,v as i,x as u}from"./app-Cvm44xuh.js";const K={class:"grid grid-cols-3 gap-6"},Q={class:"col-span-3 sm:col-span-1"},W={class:"col-span-3 sm:col-span-1"},X={class:"col-span-3 sm:col-span-1"},Y={class:"col-span-3 sm:col-span-1"},Z={class:"col-span-3 sm:col-span-1"},x={class:"col-span-3 sm:col-span-1"},ee={class:"col-span-3 sm:col-span-1"},te={class:"col-span-3 sm:col-span-1"},ae={class:"col-span-3 sm:col-span-1"},se={class:"col-span-3 sm:col-span-1"},le={class:"col-span-3 sm:col-span-1"},oe={class:"col-span-3 sm:col-span-1"},ne={class:"col-span-3 sm:col-span-1"},re={class:"col-span-3 sm:col-span-1"},ie={__name:"Filter",props:{preRequisites:{type:Object,default(){return{}}}},emits:["hide"],setup(F,{emit:$}){const p=M(),S=$,h=F,N={firstName:"",lastName:"",fatherName:"",gender:"",email:"",birthStartDate:"",birthEndDate:"",startDate:"",endDate:"",bloodGroups:[],maritalStatuses:[],religions:[],categories:[],castes:[],source:"",address:""},e=C({...N}),D=C({genders:h.preRequisites.genders,bloodGroups:h.preRequisites.bloodGroups,maritalStatuses:h.preRequisites.maritalStatuses}),d=C({isLoaded:!(p.query.religions||p.query.castes||p.query.categories)});return A(async()=>{d.bloodGroups=p.query.bloodGroups?p.query.bloodGroups.split(","):[],d.maritalStatuses=p.query.maritalStatuses?p.query.maritalStatuses.split(","):[],d.religions=p.query.religions?p.query.religions.split(","):[],d.categories=p.query.categories?p.query.categories.split(","):[],d.castes=p.query.castes?p.query.castes.split(","):[],d.isLoaded=!0}),(n,t)=>{const r=c("BaseInput"),g=c("BaseSelect"),k=c("BaseSelectSearch"),B=c("DatePicker"),U=c("FilterForm");return _(),v(U,{"init-form":N,form:e,multiple:["bloodGroups","maritalStatuses","religions","castes","categories"],onHide:t[16]||(t[16]=a=>S("hide"))},{default:l(()=>[f("div",K,[f("div",Q,[s(r,{type:"text",modelValue:e.firstName,"onUpdate:modelValue":t[0]||(t[0]=a=>e.firstName=a),name:"firstName",label:n.$trans("contact.props.first_name")},null,8,["modelValue","label"])]),f("div",W,[s(r,{type:"text",modelValue:e.lastName,"onUpdate:modelValue":t[1]||(t[1]=a=>e.lastName=a),name:"lastName",label:n.$trans("contact.props.last_name")},null,8,["modelValue","label"])]),f("div",X,[s(r,{type:"text",modelValue:e.fatherName,"onUpdate:modelValue":t[2]||(t[2]=a=>e.fatherName=a),name:"fatherName",label:n.$trans("contact.props.father_name")},null,8,["modelValue","label"])]),f("div",Y,[s(g,{modelValue:e.gender,"onUpdate:modelValue":t[3]||(t[3]=a=>e.gender=a),name:"gender",label:n.$trans("contact.props.gender"),options:D.genders},null,8,["modelValue","label","options"])]),f("div",Z,[s(g,{multiple:"",modelValue:e.bloodGroups,"onUpdate:modelValue":t[4]||(t[4]=a=>e.bloodGroups=a),name:"bloodGroups",label:n.$trans("contact.props.blood_group"),options:D.bloodGroups},null,8,["modelValue","label","options"])]),f("div",x,[s(g,{multiple:"",modelValue:e.maritalStatuses,"onUpdate:modelValue":t[5]||(t[5]=a=>e.maritalStatuses=a),name:"maritalStatuses",label:n.$trans("contact.props.marital_status"),options:D.maritalStatuses},null,8,["modelValue","label","options"])]),f("div",ee,[d.isLoaded?(_(),v(k,{key:0,multiple:"",name:"religions",label:n.$trans("global.select",{attribute:n.$trans("contact.religion.religion")}),modelValue:e.religions,"onUpdate:modelValue":t[6]||(t[6]=a=>e.religions=a),"label-props":"name","value-prop":"uuid","init-search":d.religions,"search-action":"option/list","additional-search-query":{type:"religion"}},null,8,["label","modelValue","init-search"])):V("",!0)]),f("div",te,[d.isLoaded?(_(),v(k,{key:0,multiple:"",name:"castes",label:n.$trans("global.select",{attribute:n.$trans("contact.caste.caste")}),modelValue:e.castes,"onUpdate:modelValue":t[7]||(t[7]=a=>e.castes=a),"label-props":"name","value-prop":"uuid","init-search":d.castes,"search-action":"option/list","additional-search-query":{type:"member_caste"}},null,8,["label","modelValue","init-search"])):V("",!0)]),f("div",ae,[d.isLoaded?(_(),v(k,{key:0,multiple:"",name:"categories",label:n.$trans("global.select",{attribute:n.$trans("contact.category.category")}),modelValue:e.categories,"onUpdate:modelValue":t[8]||(t[8]=a=>e.categories=a),"label-props":"name","value-prop":"uuid","init-search":d.categories,"search-action":"option/list","additional-search-query":{type:"member_category"}},null,8,["label","modelValue","init-search"])):V("",!0)]),f("div",se,[s(r,{type:"text",modelValue:e.email,"onUpdate:modelValue":t[9]||(t[9]=a=>e.email=a),name:"email",label:n.$trans("contact.props.email")},null,8,["modelValue","label"])]),f("div",le,[s(B,{start:e.birthStartDate,"onUpdate:start":t[10]||(t[10]=a=>e.birthStartDate=a),end:e.birthEndDate,"onUpdate:end":t[11]||(t[11]=a=>e.birthEndDate=a),name:"birthDateBetween",as:"range",label:n.$trans("global.date_between",{attribute:n.$trans("contact.props.birth_date")})},null,8,["start","end","label"])]),f("div",oe,[s(B,{start:e.startDate,"onUpdate:start":t[12]||(t[12]=a=>e.startDate=a),end:e.endDate,"onUpdate:end":t[13]||(t[13]=a=>e.endDate=a),name:"dateBetween",as:"range",label:n.$trans("global.date_between",{attribute:n.$trans("general.created_at")})},null,8,["start","end","label"])]),f("div",ne,[s(r,{type:"text",modelValue:e.source,"onUpdate:modelValue":t[14]||(t[14]=a=>e.source=a),name:"source",label:n.$trans("contact.props.source")},null,8,["modelValue","label"])]),f("div",re,[s(r,{type:"text",modelValue:e.address,"onUpdate:modelValue":t[15]||(t[15]=a=>e.address=a),name:"address",label:n.$trans("contact.props.address.address")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},ue={name:"ContactList"},me=Object.assign(ue,{setup(F){const $=H(),p=j("emitter");let S=["filter"];q("contact:create")&&S.unshift("create"),q("contact:config")&&S.push("config");let h=[];q("contact:export")&&(h=["print","pdf","excel"]);const N="contact/",e=E(!1),D=C({genders:[]}),d=C({}),n=r=>{Object.assign(d,r)},t=r=>{Object.assign(D,r)};return(r,g)=>{const k=c("PageHeaderAction"),B=c("PageHeader"),U=c("ParentTransition"),a=c("BaseBadge"),b=c("DataCell"),G=c("TextMuted"),w=c("FloatingMenuItem"),R=c("FloatingMenu"),I=c("DataRow"),P=c("BaseButton"),L=c("DataTable"),T=c("ListItem");return _(),v(T,{"pre-requisites":!0,onSetPreRequisites:t,"init-url":N,onSetItems:n},{header:l(()=>[s(B,{title:r.$trans("contact.contact"),navs:[{label:r.$trans("contact.contact"),path:"Contact"}]},{default:l(()=>[s(k,{url:"contacts/",name:"Contact",title:r.$trans("contact.contact"),actions:y(S),"dropdown-actions":y(h),headers:d.headers,onToggleFilter:g[0]||(g[0]=o=>e.value=!e.value)},null,8,["title","actions","dropdown-actions","headers"])]),_:1},8,["title","navs"])]),filter:l(()=>[s(U,{appear:"",visibility:e.value},{default:l(()=>[s(ie,{"pre-requisites":D,onRefresh:g[1]||(g[1]=o=>y(p).emit("listItems")),onHide:g[2]||(g[2]=o=>e.value=!1)},null,8,["pre-requisites"])]),_:1},8,["visibility"])]),default:l(()=>[s(U,{appear:"",visibility:!0},{default:l(()=>[s(L,{header:d.headers,meta:d.meta,module:"contact",onRefresh:g[4]||(g[4]=o=>y(p).emit("listItems"))},{actionButton:l(()=>[y(q)("contact:create")?(_(),v(P,{key:0,onClick:g[3]||(g[3]=o=>y($).push({name:"ContactCreate"}))},{default:l(()=>[i(u(r.$trans("global.add",{attribute:r.$trans("contact.contact")})),1)]),_:1})):V("",!0)]),default:l(()=>[(_(!0),O(z,null,J(d.data,o=>(_(),v(I,{key:o.uuid,onDoubleClick:m=>y($).push({name:"ContactShow",params:{uuid:o.uuid}})},{default:l(()=>[s(b,{name:"name"},{default:l(()=>[i(u(o.name)+" ",1),o.source.value?(_(),v(a,{key:0,label:o.source.label},null,8,["label"])):V("",!0)]),_:2},1024),s(b,{name:"type"},{default:l(()=>[i(u(o.source.label),1)]),_:2},1024),s(b,{name:"gender"},{default:l(()=>[i(u(o.gender.label),1)]),_:2},1024),s(b,{name:"birthDate"},{default:l(()=>[i(u(o.birthDate.formatted),1)]),_:2},1024),s(b,{name:"contactNumber"},{default:l(()=>[i(u(o.contactNumber)+" ",1),o.email?(_(),v(G,{key:0,block:""},{default:l(()=>[i(u(o.email),1)]),_:2},1024)):V("",!0)]),_:2},1024),s(b,{name:"fatherName"},{default:l(()=>[i(u(o.fatherName),1)]),_:2},1024),s(b,{name:"motherName"},{default:l(()=>[i(u(o.motherName),1)]),_:2},1024),s(b,{name:"bloodGroup"},{default:l(()=>{var m;return[i(u(((m=o.bloodGroup)==null?void 0:m.label)||"-"),1)]}),_:2},1024),s(b,{name:"maritalStatus"},{default:l(()=>{var m;return[i(u(((m=o.maritalStatus)==null?void 0:m.label)||"-"),1)]}),_:2},1024),s(b,{name:"religion"},{default:l(()=>{var m;return[i(u(((m=o.religion)==null?void 0:m.name)||"-"),1)]}),_:2},1024),s(b,{name:"category"},{default:l(()=>{var m;return[i(u(((m=o.category)==null?void 0:m.name)||"-"),1)]}),_:2},1024),s(b,{name:"caste"},{default:l(()=>{var m;return[i(u(((m=o.caste)==null?void 0:m.name)||"-"),1)]}),_:2},1024),s(b,{name:"address"},{default:l(()=>[i(u(o.address),1)]),_:2},1024),s(b,{name:"createdAt"},{default:l(()=>[i(u(o.createdAt.formatted),1)]),_:2},1024),s(b,{name:"action"},{default:l(()=>[s(R,null,{default:l(()=>[s(w,{icon:"fas fa-arrow-circle-right",onClick:m=>y($).push({name:"ContactShow",params:{uuid:o.uuid}})},{default:l(()=>[i(u(r.$trans("general.show")),1)]),_:2},1032,["onClick"]),y(q)("contact:create")?(_(),v(w,{key:0,icon:"fas fa-copy",onClick:m=>y($).push({name:"ContactDuplicate",params:{uuid:o.uuid}})},{default:l(()=>[i(u(r.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):V("",!0),y(q)("contact:delete")?(_(),v(w,{key:1,icon:"fas fa-trash",onClick:m=>y(p).emit("deleteItem",{uuid:o.uuid})},{default:l(()=>[i(u(r.$trans("general.delete")),1)]),_:2},1032,["onClick"])):V("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDoubleClick"]))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{me as default};
