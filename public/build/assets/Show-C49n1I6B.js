import{u as ne,j as oe,I as se,c as re,m as Z,p as le,L as ie,r as f,t as v,o as d,w as a,d as p,e as n,f as e,z as te,J as ue,v as i,x as o,N as de,k as ae,g as R,A as me,a as w,b as y,F,y as Y,B as ce,aU as pe,i as be,aj as ge}from"./app-Cvm44xuh.js";const fe={class:"grid grid-cols-3 gap-6"},ye={class:"col-span-3 sm:col-span-1"},_e={class:"col-span-3 sm:col-span-1"},ve={class:"col-span-3 sm:col-span-1"},ke={class:"mt-4 grid grid-cols-3 gap-6"},Ve={class:"col-span-3 sm:col-span-1"},$e={class:"col-span-3"},Ue={name:"RegistrationPaymentForm"},Ne=Object.assign(Ue,{props:{registration:{type:Object,default(){return{}}}},emits:["completed"],setup(b,{emit:_}){const M=ne(),E=oe(),c=_,O=b,g={amount:O.registration.balance.value,date:"",ledger:{},paymentMethod:"",instrumentNumber:"",instrumentDate:"",clearingDate:"",bankDetail:"",referenceNumber:"",remarks:""},z="student/registration/",N=se(z),u=re(()=>U.paymentMethod?h.paymentMethods.find(D=>D.uuid===U.paymentMethod):{}),m=le(!1),h=Z({paymentMethods:[],ledgers:[]}),U=Z({...g}),H=D=>{Object.assign(h,D)},j=D=>{c("completed")},C=async()=>{await de()&&(m.value=!0,await E.dispatch(z+"skipPayment",{uuid:M.params.uuid}).then(D=>{m.value=!1,c("completed")}).catch(D=>{m.value=!1}))};return ie(O.registration,D=>{U.amount=D.balance.value}),(D,$)=>{const G=f("BaseInput"),r=f("DatePicker"),l=f("BaseSelect"),T=f("LedgerBalance"),q=f("PaymentMethodInput"),P=f("BaseTextarea"),L=f("BaseButton"),I=f("FormAction");return d(),v(I,{"pre-requisites":!0,"pre-requisite-custom-url":"paymentPreRequisite",onSetPreRequisites:H,"init-url":z,uuid:b.registration.uuid,"no-data-fetch":"",action:"payment","init-form":g,form:U,"keep-adding":!1,"after-submit":j},{additionalButton:a(()=>[n(L,{design:"success",onClick:C},{default:a(()=>[i(o(D.$trans("student.registration.proceed_without_payment")),1)]),_:1})]),default:a(()=>[p("div",fe,[p("div",ye,[n(G,{disabled:!e(te)("registration:action"),currency:"",modelValue:U.amount,"onUpdate:modelValue":$[0]||($[0]=k=>U.amount=k),name:"amount",label:D.$trans("academic.course.props.registration_fee"),error:e(N).amount,"onUpdate:error":$[1]||($[1]=k=>e(N).amount=k)},null,8,["disabled","modelValue","label","error"])]),p("div",_e,[n(r,{modelValue:U.date,"onUpdate:modelValue":$[2]||($[2]=k=>U.date=k),name:"date",label:D.$trans("student.registration.props.payment_date"),"no-clear":"",error:e(N).date,"onUpdate:error":$[3]||($[3]=k=>e(N).date=k)},null,8,["modelValue","label","error"])]),p("div",ve,[n(l,{modelValue:U.ledger,"onUpdate:modelValue":$[4]||($[4]=k=>U.ledger=k),name:"ledger",label:D.$trans("finance.ledger.ledger"),options:h.ledgers,"object-prop":!0,"label-prop":"name","value-prop":"uuid",error:e(N)["ledger.uuid"],"onUpdate:error":$[5]||($[5]=k=>e(N)["ledger.uuid"]=k)},null,8,["modelValue","label","options","error"]),n(T,{ledger:U.ledger},null,8,["ledger"])])]),p("div",ke,[p("div",Ve,[n(l,{modelValue:U.paymentMethod,"onUpdate:modelValue":$[6]||($[6]=k=>U.paymentMethod=k),name:"paymentMethod",label:D.$trans("finance.payment_method.payment_method"),"label-prop":"name","value-prop":"uuid",options:h.paymentMethods,error:e(N).paymentMethod,"onUpdate:error":$[7]||($[7]=k=>e(N).paymentMethod=k)},null,8,["modelValue","label","options","error"])]),n(q,{"selected-payment-method":u.value,instrumentNumber:U.instrumentNumber,"onUpdate:instrumentNumber":$[8]||($[8]=k=>U.instrumentNumber=k),instrumentDate:U.instrumentDate,"onUpdate:instrumentDate":$[9]||($[9]=k=>U.instrumentDate=k),clearingDate:U.clearingDate,"onUpdate:clearingDate":$[10]||($[10]=k=>U.clearingDate=k),bankDetail:U.bankDetail,"onUpdate:bankDetail":$[11]||($[11]=k=>U.bankDetail=k),referenceNumber:U.referenceNumber,"onUpdate:referenceNumber":$[12]||($[12]=k=>U.referenceNumber=k),formErrors:e(N),"onUpdate:formErrors":$[13]||($[13]=k=>ue(N)?N.value=k:null)},null,8,["selected-payment-method","instrumentNumber","instrumentDate","clearingDate","bankDetail","referenceNumber","formErrors"]),p("div",$e,[n(P,{modelValue:U.remarks,"onUpdate:modelValue":$[14]||($[14]=k=>U.remarks=k),name:"remarks",label:D.$trans("finance.transaction.props.remarks"),error:e(N).remarks,"onUpdate:error":$[15]||($[15]=k=>e(N).remarks=k)},null,8,["modelValue","label","error"])])])]),_:1},8,["uuid","form"])}}}),Ce={class:"grid grid-cols-3 gap-6"},we={class:"col-span-3 sm:col-span-3"},Be={key:0,class:"col-span-3"},De={key:1,class:"col-span-3 sm:col-span-1"},Se={key:2,class:"col-span-3 sm:col-span-1"},qe={class:"col-span-3 sm:col-span-1"},Ie={class:"col-span-3 sm:col-span-1"},Re={class:"col-span-3 sm:col-span-1"},je={key:0,class:"ml-1"},Pe={key:0,class:"ml-1"},Ae={class:"col-span-3 sm:col-span-1"},Fe={class:"col-span-3 sm:col-span-1"},Te={class:"col-span-3"},Le={class:"col-span-3 sm:col-span-1"},Me={class:"col-span-3 sm:col-span-1"},he={key:0,class:"col-span-3 sm:col-span-2"},Ee={class:"col-span-3 space-y-2"},Oe={class:"flex flex-wrap gap-y-2"},ze={class:"col-span-3"},xe={class:"col-span-3 sm:col-span-1"},He={class:"col-span-3 sm:col-span-1"},Ge={class:"col-span-3 sm:col-span-1"},We={class:"flex space-x-2"},Je={class:"col-span-3 sm:col-span-1"},Qe={class:"col-span-3 sm:col-span-3"},Ke={key:1,class:"col-span-3 sm:col-span-3"},Xe={name:"RegistrationActionForm"},Ye=Object.assign(Xe,{props:{registration:{type:Object,default(){return{}}}},emits:["completed"],setup(b,{emit:_}){var C,D,$,G;const M=_;ae("emitter");const E=b,c={status:((D=(C=E.registration)==null?void 0:C.status)==null?void 0:D.value)||"",rejectionRemarks:"",date:"",isProvisional:!1,codeNumber:"",provisionalCodeNumber:"",batch:"",enrollmentType:((G=($=E.registration)==null?void 0:$.enrollmentType)==null?void 0:G.uuid)||"",electiveSubjects:[],groups:[],assignFee:!1,feeConcession:"",transportCircle:"",direction:"",optedFeeHeads:[],createUserAccount:!1,email:"",username:"",password:"",passwordConfirmation:"",remarks:""},O="student/registration/",g=se(O),z=R("student.enableProvisionalAdmission"),N=Z({selectedBatch:null,hidePassword:!0}),u=Z({statuses:[],batches:[],feeHeads:[],enrollmentTypes:[],electiveSubjects:[],groups:[],directions:[],transportCircles:[],feeConcessions:[],codeNumber:""}),m=Z({...c}),h=r=>{Object.assign(u,r),m.codeNumber=r.codeNumber,m.provisionalCodeNumber=r.provisionalCodeNumber,m.username=r.codeNumber,m.email=E.registration.contact.email},U=r=>{m.batch=(r==null?void 0:r.uuid)||""},H=()=>{var r=pe(12);m.password=r,m.passwordConfirmation=r},j=r=>{M("completed")};return(r,l)=>{const T=f("BaseLabel"),q=f("BaseRadioGroup"),P=f("BaseSwitch"),L=f("BaseAlert"),I=f("BaseInput"),k=f("DatePicker"),B=f("BaseSelect"),W=f("FormInfo"),Q=f("BaseArrayCheckbox"),x=f("BaseTextarea"),K=f("FormAction"),X=me("tooltip");return d(),v(K,{"has-setup-wizard":!0,"pre-requisites":!0,"pre-requisite-custom-url":"actionPreRequisite",onSetPreRequisites:h,"init-url":O,uuid:b.registration.uuid,"no-data-fetch":"",action:"action","no-action-button":m.status=="pending","init-form":c,form:m,"keep-adding":!1,"after-submit":j},{default:a(()=>{var s;return[p("div",Ce,[p("div",we,[n(T,null,{default:a(()=>[i(o(r.$trans("student.registration.props.status")),1)]),_:1}),n(q,{"top-margin":"",options:u.statuses,name:"status",modelValue:m.status,"onUpdate:modelValue":l[0]||(l[0]=t=>m.status=t),error:e(g).status,"onUpdate:error":l[1]||(l[1]=t=>e(g).status=t),horizontal:""},null,8,["options","modelValue","error"])]),m.status=="approved"?(d(),w(F,{key:0},[e(z)?(d(),w("div",Be,[n(P,{vertical:"",modelValue:m.isProvisional,"onUpdate:modelValue":l[2]||(l[2]=t=>m.isProvisional=t),name:"isProvisional",label:r.$trans("student.admission.provisional_admission"),error:e(g).isProvisional,"onUpdate:error":l[3]||(l[3]=t=>e(g).isProvisional=t)},null,8,["modelValue","label","error"]),m.isProvisional?(d(),v(L,{key:0,class:"mt-2",design:"info",size:"xs"},{default:a(()=>[i(o(r.$trans("student.admission.provisional_admission_info")),1)]),_:1})):y("",!0)])):y("",!0),m.isProvisional?y("",!0):(d(),w("div",De,[n(I,{type:"text",modelValue:m.codeNumber,"onUpdate:modelValue":l[4]||(l[4]=t=>m.codeNumber=t),name:"codeNumber",label:r.$trans("student.admission.props.code_number"),error:e(g).codeNumber,"onUpdate:error":l[5]||(l[5]=t=>e(g).codeNumber=t)},null,8,["modelValue","label","error"])])),m.isProvisional?(d(),w("div",Se,[n(I,{disabled:!0,type:"text",modelValue:m.provisionalCodeNumber,"onUpdate:modelValue":l[6]||(l[6]=t=>m.provisionalCodeNumber=t),name:"provisionalCodeNumber",label:r.$trans("student.admission.props.provisional_code_number"),error:e(g).provisionalCodeNumber,"onUpdate:error":l[7]||(l[7]=t=>e(g).provisionalCodeNumber=t)},null,8,["modelValue","label","error"])])):y("",!0),p("div",qe,[n(k,{modelValue:m.date,"onUpdate:modelValue":l[8]||(l[8]=t=>m.date=t),name:"date",label:r.$trans("student.admission.props.date"),"no-clear":"",error:e(g).date,"onUpdate:error":l[9]||(l[9]=t=>e(g).date=t)},null,8,["modelValue","label","error"])]),p("div",Ie,[n(B,{name:"batch",label:((s=b.registration.course)==null?void 0:s.name)+" "+r.$trans("global.select",{attribute:r.$trans("academic.batch.batch")}),modelValue:N.selectedBatch,"onUpdate:modelValue":l[10]||(l[10]=t=>N.selectedBatch=t),error:e(g).batch,"onUpdate:error":l[11]||(l[11]=t=>e(g).batch=t),options:u.batches,"object-prop":!0,"label-prop":"name","value-prop":"uuid",onChange:U},null,8,["label","modelValue","error","options"]),N.selectedBatch?(d(),v(W,{key:0},{default:a(()=>[p("span",null,o(r.$trans("academic.batch.current_strength",{attribute:N.selectedBatch.maxStrength})),1)]),_:1})):y("",!0)]),p("div",Re,[n(B,{modelValue:m.enrollmentType,"onUpdate:modelValue":l[12]||(l[12]=t=>m.enrollmentType=t),name:"enrollmentType",label:r.$trans("student.enrollment_type.enrollment_type"),options:u.enrollmentTypes,"value-prop":"uuid",error:e(g).enrollmentType,"onUpdate:error":l[13]||(l[13]=t=>e(g).enrollmentType=t)},{selectedOption:a(t=>[i(o(t.value.name)+" ",1),t.value.maxSeat?(d(),w("span",je," ("+o(t.value.bookedSeat)+"/"+o(t.value.maxSeat)+") ",1)):y("",!0)]),listOption:a(t=>[i(o(t.option.name)+" ",1),t.option.maxSeat?(d(),w("span",Pe," ("+o(t.option.bookedSeat)+"/"+o(t.option.maxSeat)+") ",1)):y("",!0)]),_:1},8,["modelValue","label","options","error"])]),p("div",Ae,[n(B,{multiple:"",modelValue:m.electiveSubjects,"onUpdate:modelValue":l[14]||(l[14]=t=>m.electiveSubjects=t),name:"electiveSubjects",label:r.$trans("academic.subject.elective_subject"),options:u.electiveSubjects,"label-prop":"name","value-prop":"uuid",error:e(g).electiveSubjects,"onUpdate:error":l[15]||(l[15]=t=>e(g).electiveSubjects=t)},null,8,["modelValue","label","options","error"])]),p("div",Fe,[n(B,{multiple:"",modelValue:m.groups,"onUpdate:modelValue":l[16]||(l[16]=t=>m.groups=t),name:"groups",label:r.$trans("student.group.group"),options:u.groups,"label-prop":"name","value-prop":"uuid",error:e(g).groups,"onUpdate:error":l[17]||(l[17]=t=>e(g).groups=t)},null,8,["modelValue","label","options","error"])]),p("div",Te,[n(P,{vertical:"",modelValue:m.assignFee,"onUpdate:modelValue":l[18]||(l[18]=t=>m.assignFee=t),name:"assignFee",label:r.$trans("global.assign",{attribute:r.$trans("student.fee.fee")}),error:e(g).assignFee,"onUpdate:error":l[19]||(l[19]=t=>e(g).assignFee=t)},null,8,["modelValue","label","error"])]),m.assignFee?(d(),w(F,{key:3},[p("div",Le,[n(B,{modelValue:m.feeConcession,"onUpdate:modelValue":l[20]||(l[20]=t=>m.feeConcession=t),name:"feeConcession",label:r.$trans("finance.fee_concession.fee_concession"),options:u.feeConcessions,"label-prop":"name","value-prop":"uuid",error:e(g).feeConcession,"onUpdate:error":l[21]||(l[21]=t=>e(g).feeConcession=t)},null,8,["modelValue","label","options","error"])]),p("div",Me,[n(B,{modelValue:m.transportCircle,"onUpdate:modelValue":l[22]||(l[22]=t=>m.transportCircle=t),name:"transportCircle",label:r.$trans("transport.circle.circle"),options:u.transportCircles,"label-prop":"name","value-prop":"uuid",error:e(g).transportCircle,"onUpdate:error":l[23]||(l[23]=t=>e(g).transportCircle=t)},null,8,["modelValue","label","options","error"])]),m.transportCircle?(d(),w("div",he,[n(T,null,{default:a(()=>[i(o(r.$trans("transport.circle.direction")),1)]),_:1}),n(q,{"top-margin":"",options:u.directions,name:"direction",modelValue:m.direction,"onUpdate:modelValue":l[24]||(l[24]=t=>m.direction=t),error:e(g).direction,"onUpdate:error":l[25]||(l[25]=t=>e(g).direction=t),horizontal:""},null,8,["options","modelValue","error"])])):y("",!0),p("div",Ee,[n(T,null,{default:a(()=>[i(o(r.$trans("student.fee.opted_fee")),1)]),_:1}),p("div",Oe,[(d(!0),w(F,null,Y(u.feeHeads,t=>(d(),w("div",{class:"w-1/3",key:t.uuid},[n(Q,{items:m.optedFeeHeads,"onUpdate:items":l[26]||(l[26]=V=>m.optedFeeHeads=V),value:t.uuid,label:t.name},null,8,["items","value","label"])]))),128))])])],64)):y("",!0),p("div",ze,[n(P,{vertical:"",modelValue:m.createUserAccount,"onUpdate:modelValue":l[27]||(l[27]=t=>m.createUserAccount=t),name:"createUserAccount",label:r.$trans("global.create",{attribute:r.$trans("contact.user_account")}),error:e(g).createUserAccount,"onUpdate:error":l[28]||(l[28]=t=>e(g).createUserAccount=t)},null,8,["modelValue","label","error"])]),m.createUserAccount?(d(),w(F,{key:4},[p("div",xe,[n(I,{type:"text",modelValue:m.email,"onUpdate:modelValue":l[29]||(l[29]=t=>m.email=t),name:"email",label:r.$trans("contact.login.props.email"),error:e(g).email,"onUpdate:error":l[30]||(l[30]=t=>e(g).email=t)},null,8,["modelValue","label","error"])]),p("div",He,[n(I,{type:"text",modelValue:m.username,"onUpdate:modelValue":l[31]||(l[31]=t=>m.username=t),name:"username",label:r.$trans("contact.login.props.username"),error:e(g).username,"onUpdate:error":l[32]||(l[32]=t=>e(g).username=t)},null,8,["modelValue","label","error"])]),p("div",Ge,[n(I,{type:N.hidePassword?"password":"text",modelValue:m.password,"onUpdate:modelValue":l[34]||(l[34]=t=>m.password=t),name:"password",label:r.$trans("contact.login.props.password"),error:e(g).password,"onUpdate:error":l[35]||(l[35]=t=>e(g).password=t)},{"additional-label":a(()=>[p("div",We,[ce(p("i",{class:"fas fa-key cursor-pointer",onClick:H},null,512),[[X,r.$trans("global.generate",{attribute:r.$trans("auth.login.props.password")})]]),m.password?(d(),w("i",{key:0,class:"fas fa-eye cursor-pointer",onClick:l[33]||(l[33]=t=>N.hidePassword=!N.hidePassword)})):y("",!0)])]),_:1},8,["type","modelValue","label","error"])]),p("div",Je,[n(I,{type:"password",modelValue:m.passwordConfirmation,"onUpdate:modelValue":l[36]||(l[36]=t=>m.passwordConfirmation=t),name:"passwordConfirmation",label:r.$trans("contact.login.props.password_confirmation"),error:e(g).passwordConfirmation,"onUpdate:error":l[37]||(l[37]=t=>e(g).passwordConfirmation=t)},null,8,["modelValue","label","error"])])],64)):y("",!0),p("div",Qe,[n(x,{modelValue:m.remarks,"onUpdate:modelValue":l[38]||(l[38]=t=>m.remarks=t),name:"remarks",label:r.$trans("student.admission.props.remarks"),error:e(g).remarks,"onUpdate:error":l[39]||(l[39]=t=>e(g).remarks=t)},null,8,["modelValue","label","error"])])],64)):y("",!0),m.status=="rejected"?(d(),w("div",Ke,[n(x,{modelValue:m.rejectionRemarks,"onUpdate:modelValue":l[40]||(l[40]=t=>m.rejectionRemarks=t),name:"rejectionRemarks",label:r.$trans("student.registration.props.rejection_remarks"),error:e(g).rejectionRemarks,"onUpdate:error":l[41]||(l[41]=t=>e(g).rejectionRemarks=t)},null,8,["modelValue","label","error"])])):y("",!0)])]}),_:1},8,["uuid","no-action-button","form"])}}}),Ze={class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-3"},et={class:"mt-8 grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-3"},tt={key:0},at={key:1},nt={class:"mt-4 grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-3"},ot={name:"StudentRegistrationDetail"},st=Object.assign(ot,{props:{registration:{type:Object,required:!0}},setup(b){const _=ae("$trans"),M=R("student.isUniqueIdNumber1Enabled"),E=R("student.isUniqueIdNumber2Enabled"),c=R("student.isUniqueIdNumber3Enabled"),O=R("student.isUniqueIdNumber4Enabled"),g=R("student.isUniqueIdNumber5Enabled"),z=R("student.uniqueIdNumber1Label"),N=R("student.uniqueIdNumber2Label"),u=R("student.uniqueIdNumber3Label"),m=R("student.uniqueIdNumber4Label"),h=R("student.uniqueIdNumber5Label"),U=R("contact.enableCategoryField"),H=R("contact.enableCasteField"),j=R("student.enableMaritalStatus");R("student.enableAnniversaryDate");const C=[{key:"course",label:_("student.qualification.props.course"),visibility:!0},{key:"institute",label:_("student.qualification.props.institute"),visibility:!0},{key:"level",label:_("student.qualification_level.qualification_level"),visibility:!0},{key:"period",label:_("general.period"),visibility:!0},{key:"result",label:_("student.qualification.props.result"),visibility:!0},{key:"action",label:"",visibility:!0}],D=[{key:"type",label:_("student.document_type.document_type"),visibility:!0},{key:"title",label:_("student.document.props.title"),visibility:!0},{key:"period",label:_("general.period"),visibility:!0},{key:"action",label:"",visibility:!0}];return($,G)=>{const r=f("BaseDataView"),l=f("TextMuted"),T=f("BaseFieldset"),q=f("DataCell"),P=f("DataRow"),L=f("SimpleTable"),I=f("ListMedia"),k=f("BaseCard");return d(),v(k,{foldable:"","is-content-visible":!1},{title:a(()=>[i(o(e(_)("global.detail",{attribute:e(_)("student.registration.registration")})),1)]),default:a(()=>{var B,W,Q,x,K,X;return[p("dl",Ze,[n(r,{label:e(_)("academic.period.period")},{default:a(()=>{var s;return[i(o(((s=b.registration.period)==null?void 0:s.name)||"-"),1)]}),_:1},8,["label"]),n(r,{label:e(_)("academic.course.course")},{default:a(()=>{var s;return[i(o(((s=b.registration.course)==null?void 0:s.name)||"-"),1)]}),_:1},8,["label"]),n(r,{label:e(_)("student.enrollment_type.enrollment_type")},{default:a(()=>{var s;return[i(o(((s=b.registration.enrollmentType)==null?void 0:s.name)||"-"),1)]}),_:1},8,["label"]),n(r,{label:e(_)("contact.props.name")},{default:a(()=>{var s;return[i(o(((s=b.registration.contact)==null?void 0:s.name)||"-"),1)]}),_:1},8,["label"]),n(r,{label:e(_)("contact.props.contact_number")},{default:a(()=>{var s;return[i(o(((s=b.registration.contact)==null?void 0:s.contactNumber)||"-"),1)]}),_:1},8,["label"]),n(r,{label:e(_)("contact.props.gender")},{default:a(()=>{var s,t;return[i(o(((t=(s=b.registration.contact)==null?void 0:s.gender)==null?void 0:t.label)||"-"),1)]}),_:1},8,["label"]),n(r,{label:e(_)("contact.props.birth_date")},{default:a(()=>{var s,t;return[i(o(((t=(s=b.registration.contact)==null?void 0:s.birthDate)==null?void 0:t.formatted)||"-"),1)]}),_:1},8,["label"])]),((W=(B=b.registration.contact)==null?void 0:B.guardians)==null?void 0:W.length)>0?(d(),v(T,{key:0,class:"mt-4 space-y-4"},{legend:a(()=>[i(o(e(_)("guardian.guardian")),1)]),default:a(()=>[(d(!0),w(F,null,Y(b.registration.contact.guardians,s=>(d(),w("dl",{class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-3",key:s.uuid},[n(r,{label:s.relation.label},{default:a(()=>[i(o(s.contact.name)+" ",1),s.contact.occupation?(d(),v(l,{key:0},{default:a(()=>[i("("+o(s.contact.occupation)+")",1)]),_:2},1024)):y("",!0)]),_:2},1032,["label"]),n(r,{label:e(_)("contact.props.contact_number")},{default:a(()=>[i(o(s.contact.contactNumber),1)]),_:2},1032,["label"])]))),128))]),_:1})):y("",!0),((x=(Q=b.registration.contact)==null?void 0:Q.qualifications)==null?void 0:x.length)>0?(d(),v(T,{key:1,class:"mt-4 space-y-4"},{legend:a(()=>[i(o(e(_)("student.qualification.qualification")),1)]),default:a(()=>{var s;return[(s=b.registration.contact)!=null&&s.qualifications.length?(d(),v(L,{key:0,header:C},{default:a(()=>{var t;return[(d(!0),w(F,null,Y((t=b.registration.contact)==null?void 0:t.qualifications,V=>(d(),v(P,{key:V.uuid},{default:a(()=>[n(q,{name:"course"},{default:a(()=>[i(o(V.course),1)]),_:2},1024),n(q,{name:"institute"},{default:a(()=>[i(o(V.institute),1)]),_:2},1024),n(q,{name:"level"},{default:a(()=>[i(o(V.level.name),1)]),_:2},1024),n(q,{name:"period"},{default:a(()=>[i(o(V.period),1)]),_:2},1024),n(q,{name:"result"},{default:a(()=>[i(o(V.result)+" ",1),V.percentage?(d(),v(l,{key:0,block:""},{default:a(()=>[i(o(V.percentage)+"% ",1)]),_:2},1024)):y("",!0)]),_:2},1024),n(q,{name:"action"})]),_:2},1024))),128))]}),_:1})):y("",!0)]}),_:1})):y("",!0),((X=(K=b.registration.contact)==null?void 0:K.documents)==null?void 0:X.length)>0?(d(),v(T,{key:2,class:"mt-4 space-y-4"},{legend:a(()=>[i(o(e(_)("student.document.document")),1)]),default:a(()=>{var s;return[(s=b.registration.contact)!=null&&s.documents.length?(d(),v(L,{key:0,header:D},{default:a(()=>{var t;return[(d(!0),w(F,null,Y((t=b.registration.contact)==null?void 0:t.documents,V=>(d(),v(P,{key:V.uuid},{default:a(()=>[n(q,{name:"type"},{default:a(()=>[i(o(V.type.name),1)]),_:2},1024),n(q,{name:"title"},{default:a(()=>[i(o(V.title),1)]),_:2},1024),n(q,{name:"period"},{default:a(()=>[i(o(V.period),1)]),_:2},1024),n(q,{name:"action"})]),_:2},1024))),128))]}),_:1})):y("",!0)]}),_:1})):y("",!0),p("dl",et,[e(M)?(d(),v(r,{key:0,label:e(z)},{default:a(()=>{var s;return[i(o(((s=b.registration.contact)==null?void 0:s.uniqueIdNumber1)||"-"),1)]}),_:1},8,["label"])):y("",!0),e(E)?(d(),v(r,{key:1,label:e(N)},{default:a(()=>{var s;return[i(o(((s=b.registration.contact)==null?void 0:s.uniqueIdNumber2)||"-"),1)]}),_:1},8,["label"])):y("",!0),e(c)?(d(),v(r,{key:2,label:e(u)},{default:a(()=>{var s;return[i(o(((s=b.registration.contact)==null?void 0:s.uniqueIdNumber3)||"-"),1)]}),_:1},8,["label"])):y("",!0),e(O)?(d(),v(r,{key:3,label:e(m)},{default:a(()=>{var s;return[i(o(((s=b.registration.contact)==null?void 0:s.uniqueIdNumber4)||"-"),1)]}),_:1},8,["label"])):y("",!0),e(g)?(d(),v(r,{key:4,label:e(h)},{default:a(()=>{var s;return[i(o(((s=b.registration.contact)==null?void 0:s.uniqueIdNumber5)||"-"),1)]}),_:1},8,["label"])):y("",!0),n(r,{label:e(_)("contact.props.birth_place")},{default:a(()=>{var s;return[i(o(((s=b.registration.contact)==null?void 0:s.birthPlace)||"-"),1)]}),_:1},8,["label"]),n(r,{label:e(_)("contact.props.nationality")},{default:a(()=>{var s;return[i(o(((s=b.registration.contact)==null?void 0:s.nationality)||"-"),1)]}),_:1},8,["label"]),n(r,{label:e(_)("contact.props.mother_tongue")},{default:a(()=>{var s;return[i(o(((s=b.registration.contact)==null?void 0:s.motherTongue)||"-"),1)]}),_:1},8,["label"]),n(r,{label:e(_)("contact.props.blood_group")},{default:a(()=>{var s,t;return[i(o(((t=(s=b.registration.contact)==null?void 0:s.bloodGroup)==null?void 0:t.label)||"-"),1)]}),_:1},8,["label"]),e(j)?(d(),v(r,{key:5,label:e(_)("contact.props.marital_status")},{default:a(()=>{var s,t;return[i(o(((t=(s=b.registration.contact)==null?void 0:s.maritalStatus)==null?void 0:t.label)||"-"),1)]}),_:1},8,["label"])):y("",!0),n(r,{label:e(_)("contact.religion.religion")},{default:a(()=>{var s,t;return[i(o(((t=(s=b.registration.contact)==null?void 0:s.religion)==null?void 0:t.name)||"-"),1)]}),_:1},8,["label"]),n(r,{label:e(_)("contact.props.locality")},{default:a(()=>{var s,t;return[i(o(((t=(s=b.registration.contact)==null?void 0:s.locality)==null?void 0:t.label)||"-"),1)]}),_:1},8,["label"]),e(H)?(d(),v(r,{key:6,label:e(_)("contact.caste.caste")},{default:a(()=>{var s,t;return[i(o(((t=(s=b.registration.contact)==null?void 0:s.caste)==null?void 0:t.name)||"-"),1)]}),_:1},8,["label"])):y("",!0),e(U)?(d(),v(r,{key:7,label:e(_)("contact.category.category")},{default:a(()=>{var s,t;return[i(o(((t=(s=b.registration.contact)==null?void 0:s.category)==null?void 0:t.name)||"-"),1)]}),_:1},8,["label"])):y("",!0),n(r,{label:e(_)("contact.props.email")},{default:a(()=>{var s;return[i(o(((s=b.registration.contact)==null?void 0:s.email)||"-"),1)]}),_:1},8,["label"]),n(r,{label:e(_)("contact.props.alternate_contact_number")},{default:a(()=>{var s,t;return[i(o(((t=(s=b.registration.contact)==null?void 0:s.alternateRecords)==null?void 0:t.contactNumber)||"-"),1)]}),_:1},8,["label"]),n(r,{label:e(_)("contact.props.alternate_email")},{default:a(()=>{var s,t;return[i(o(((t=(s=b.registration.contact)==null?void 0:s.alternateRecords)==null?void 0:t.email)||"-"),1)]}),_:1},8,["label"]),(d(!0),w(F,null,Y(b.registration.customFields||[],s=>(d(),v(r,{key:s.uuid,label:s.label},{default:a(()=>[i(o(s.formattedValue),1)]),_:2},1032,["label"]))),128)),n(r,{label:e(_)("contact.props.present_address")},{default:a(()=>{var s;return[i(o(((s=b.registration.contact)==null?void 0:s.presentAddressDisplay)||"-"),1)]}),_:1},8,["label"]),n(r,{label:e(_)("contact.props.permanent_address")},{default:a(()=>{var s,t,V;return[(s=b.registration.contact)!=null&&s.sameAsPresentAddress?(d(),w("span",tt,o(((t=b.registration.contact)==null?void 0:t.presentAddressDisplay)||"-"),1)):(d(),w("span",at,o(((V=b.registration.contact)==null?void 0:V.permanentAddressDisplay)||"-"),1))]}),_:1},8,["label"])]),p("dl",nt,[n(r,{class:"col-span-1 sm:col-span-3"},{default:a(()=>[n(I,{media:b.registration.media,url:`/app/reception/enquiries/${b.registration.uuid}/`},null,8,["media","url"])]),_:1})])]}),_:1})}}}),lt={class:"space-y-2"},rt={key:0},it={class:"space-x-2"},ut={class:"font-bold"},dt={class:"mt-4 grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"},mt={class:"text-sm space-y-2"},ct={class:"font-semibold"},pt={class:"font-semibold"},bt={name:"StudentRegistrationShow"},ft=Object.assign(bt,{setup(b){oe();const _=ne(),M=be(),E=ae("emitter"),c=ae("$trans"),O={},g="student/registration/",z=[{key:"codeNumber",label:c("finance.transaction.props.code_number"),visibility:!0},{key:"ledger",label:c("finance.ledger.ledger"),visibility:!0},{key:"amount",label:c("finance.transaction.props.amount"),visibility:!0},{key:"date",label:c("finance.transaction.props.date"),visibility:!0},{key:"action",label:"",visibility:!0}],N=le(!1),u=Z({...O}),m=j=>{Object.assign(u,j)},h=j=>{window.open(`/app/student/registrations/${u.uuid}/fee/${j}/export?action=print`)},U=async j=>{E.emit("showActionItem",{uuid:u.uuid,moduleUuid:j,action:"cancelPayment",confirmation:!0})},H=()=>{let j="/app/student/registrations/"+u.uuid+"/export",C={};window.open(ge(j,C),"_blank").focus()};return(j,C)=>{const D=f("BaseButton"),$=f("PageHeaderAction"),G=f("PageHeader"),r=f("ListItemView"),l=f("BaseBadge"),T=f("TextMuted"),q=f("ListContainerVertical"),P=f("BaseCard"),L=f("BaseAlert"),I=f("BaseDataView"),k=f("ListMedia"),B=f("DataCell"),W=f("FloatingMenuItem"),Q=f("FloatingMenu"),x=f("DataRow"),K=f("SimpleTable"),X=f("DetailLayoutVertical"),s=f("ShowItem"),t=f("ParentTransition");return d(),w(F,null,[n(G,{title:e(c)(e(_).meta.trans,{attribute:e(c)(e(_).meta.label)}),navs:[{label:e(c)("student.student"),path:"Student"},{label:e(c)("student.registration.registration"),path:"StudentRegistrationList"}]},{default:a(()=>[n($,{name:"StudentRegistration",title:e(c)("student.registration.registration"),actions:["list"]},{default:a(()=>[n(D,{design:"white",onClick:H},{default:a(()=>[i(o(e(c)("general.print")),1)]),_:1}),e(te)("registration:edit")&&u.isEditable?(d(),v(D,{key:0,design:"white",onClick:C[0]||(C[0]=V=>e(M).push({name:"StudentRegistrationWizard",params:{uuid:u.uuid}}))},{default:a(()=>[i(o(e(c)("general.edit")),1)]),_:1})):y("",!0)]),_:1},8,["title"])]),_:1},8,["title","navs"]),n(t,{appear:"",visibility:!0},{default:a(()=>[n(s,{"init-url":g,uuid:e(_).params.uuid,refresh:N.value,onRefreshed:C[5]||(C[5]=V=>N.value=!1),onSetItem:m,onRedirectTo:C[6]||(C[6]=V=>e(M).push({name:"Registration"})),"additional-query":{detail:!0}},{default:a(()=>[u.uuid?(d(),v(X,{key:0},{detail:a(()=>[p("div",lt,[n(P,{"no-padding":"","no-content-padding":""},{title:a(()=>[i(o(e(c)("student.registration.registration"))+" #"+o(u.codeNumber),1)]),action:a(()=>C[7]||(C[7]=[])),default:a(()=>[n(q,null,{default:a(()=>[u.isOnline?(d(),v(r,{key:0,label:e(c)("student.online_registration.props.number")},{default:a(()=>[i(o(u.applicationNumber),1)]),_:1},8,["label"])):y("",!0),u.isConverted?(d(),v(r,{key:1,dynamic:"",label:e(c)("reception.enquiry.enquiry")},{default:a(()=>[p("span",{class:"cursor-pointer",onClick:C[1]||(C[1]=V=>e(M).push({name:"ReceptionEnquiryShow",params:{uuid:u.enquiry.uuid}}))},[n(l,{design:"success"},{default:a(()=>[i(o(e(c)("student.registration.converted_from_enquiry")),1)]),_:1})])]),_:1},8,["label"])):y("",!0),n(r,{label:e(c)("student.registration.props.assigned_to")},{default:a(()=>{var V;return[i(o(((V=u.employee)==null?void 0:V.name)||"-")+" ",1),u.employee?(d(),v(T,{key:0,block:""},{default:a(()=>{var A;return[i(o(((A=u.employee)==null?void 0:A.designation)||"-"),1)]}),_:1})):y("",!0)]}),_:1},8,["label"]),n(r,{label:e(c)("student.registration_stage.registration_stage")},{default:a(()=>{var V;return[i(o(((V=u.stage)==null?void 0:V.name)||"-"),1)]}),_:1},8,["label"]),n(r,{label:e(c)("student.registration.props.date")},{default:a(()=>[i(o(u.date.formatted),1)]),_:1},8,["label"]),n(r,{label:e(c)("student.props.name")},{default:a(()=>[i(o(u.contact.name),1)]),_:1},8,["label"]),n(r,{label:e(c)("contact.props.gender")},{default:a(()=>[i(o(u.contact.gender.label),1)]),_:1},8,["label"]),n(r,{label:e(c)("contact.props.birth_date")},{default:a(()=>[i(o(u.contact.birthDate.formatted),1)]),_:1},8,["label"]),n(r,{label:e(c)("contact.props.contact_number")},{default:a(()=>[i(o(u.contact.contactNumber),1)]),_:1},8,["label"]),n(r,{label:e(c)("contact.props.email")},{default:a(()=>[i(o(u.contact.email),1)]),_:1},8,["label"]),n(r,{label:e(c)("academic.course.course")},{default:a(()=>{var V,A;return[i(o(((V=u.course)==null?void 0:V.name)||"-")+" ",1),(A=u.course)!=null&&A.uuid?(d(),w("span",rt,"("+o(u.course.division.name)+")",1)):y("",!0)]}),_:1},8,["label"]),n(r,{dynamic:"",label:e(c)("student.registration.props.status")},{default:a(()=>[p("div",it,[n(l,{design:u.status.color},{default:a(()=>[i(o(u.status.label),1)]),_:1},8,["design"]),u.isOnline?(d(),v(l,{key:0},{default:a(()=>[i(o(e(c)("student.registration.online")),1)]),_:1})):y("",!0)])]),_:1},8,["label"]),n(r,{label:e(c)("academic.course.props.registration_fee")},{default:a(()=>[i(o(u.fee.formatted),1)]),_:1},8,["label"]),u.paymentDueDate.value?(d(),v(r,{key:2,label:e(c)("student.registration.props.payment_due_date")},{default:a(()=>[i(o(u.paymentDueDate.formatted),1)]),_:1},8,["label"])):y("",!0),n(r,{dynamic:"",label:e(c)("student.registration.props.payment_status")},{default:a(()=>[n(l,{design:u.paymentStatus.color},{default:a(()=>[i(o(u.paymentStatus.label),1)]),_:1},8,["design"])]),_:1},8,["label"]),n(r,{label:e(c)("guardian.guardian")},{default:a(()=>{var V,A;return[i(o((A=(V=u.contact.guardian)==null?void 0:V.contact)==null?void 0:A.name),1)]}),_:1},8,["label"]),n(r,{label:e(c)("contact.props.contact_number")},{default:a(()=>{var V,A;return[i(o((A=(V=u.contact.guardian)==null?void 0:V.contact)==null?void 0:A.contactNumber),1)]}),_:1},8,["label"]),n(r,{label:e(c)("general.created_at")},{default:a(()=>[i(o(u.createdAt.formatted),1)]),_:1},8,["label"]),n(r,{label:e(c)("general.updated_at")},{default:a(()=>[i(o(u.updatedAt.formatted),1)]),_:1},8,["label"])]),_:1})]),_:1})])]),default:a(()=>{var V,A;return[n(st,{registration:u},null,8,["registration"]),u.status.value=="initiated"?(d(),v(P,{key:0},{default:a(()=>[n(L,{size:"xs",design:"info"},{default:a(()=>[i(o(e(c)("student.registration.initiated_info")),1)]),_:1})]),_:1})):(d(),w(F,{key:1},[u.status.value=="pending"&&u.fee.value>0&&u.paymentStatus.value!="paid"?(d(),v(Ne,{key:0,registration:u,onCompleted:C[2]||(C[2]=S=>N.value=!0)},null,8,["registration"])):u.status.value!="pending"?(d(),v(P,{key:1},{default:a(()=>[u.status.value=="rejected"?(d(),v(L,{key:0,size:"xs",design:"error"},{default:a(()=>[i(o(e(c)("student.registration.rejected_info",{attribute:u.rejectedAt.formatted}))+" ",1),p("p",ut,o(u.rejectionRemarks),1)]),_:1})):y("",!0),u.status.value=="approved"?(d(),w(F,{key:1},[u.admission.isProvisional?y("",!0):(d(),v(L,{key:0,size:"xs",design:"success"},{default:a(()=>[i(o(e(c)("student.registration.approved_info")),1)]),_:1})),u.admission.isProvisional?(d(),v(L,{key:1,size:"xs",design:"info"},{default:a(()=>[i(o(e(c)("student.admission.provisional_admission_info")),1)]),_:1})):y("",!0),p("dl",dt,[n(I,{label:e(c)("student.admission.props.code_number")},{default:a(()=>[p("span",{class:"cursor-pointer",onClick:C[3]||(C[3]=S=>e(M).push({name:"StudentShow",params:{uuid:u.studentUuid}}))},[i(o(u.admission.codeNumber)+" ",1),C[8]||(C[8]=p("i",{class:"fa fa-share"},null,-1))])]),_:1},8,["label"]),n(I,{label:e(c)("student.admission.props.date")},{default:a(()=>[i(o(u.admission.joiningDate.formatted),1)]),_:1},8,["label"]),n(I,{class:"col-span-1 sm:col-span-2",label:e(c)("academic.batch.batch")},{default:a(()=>{var S,J,ee;return[i(o(((S=u.course)==null?void 0:S.name)||"-")+" "+o(((ee=(J=u.admission)==null?void 0:J.batch)==null?void 0:ee.name)||"-"),1)]}),_:1},8,["label"]),n(I,{label:e(c)("general.created_at")},{default:a(()=>[i(o(u.admission.createdAt.formatted),1)]),_:1},8,["label"]),n(I,{label:e(c)("general.updated_at")},{default:a(()=>[i(o(u.admission.updatedAt.formatted),1)]),_:1},8,["label"])])],64)):y("",!0)]),_:1})):(d(),w(F,{key:2},[e(te)("registration:action")?(d(),v(Ye,{key:0,registration:u,onCompleted:C[4]||(C[4]=S=>N.value=!0)},null,8,["registration"])):y("",!0)],64)),((V=u.media)==null?void 0:V.length)>0?(d(),v(P,{key:3},{title:a(()=>[i(o(e(c)("general.media")),1)]),default:a(()=>[p("div",mt,[p("div",null,[p("h2",null,o(e(c)("student.online_registration.wizard.marksheet")),1),n(k,{section:"marksheet",media:u.media,url:`/app/student/registrations/${u.uuid}/`},null,8,["media","url"])]),p("div",null,[p("h2",null,o(e(c)("student.online_registration.wizard.transfer_certificate")),1),n(k,{section:"transfer_certificate",media:u.media,url:`/app/student/registrations/${u.uuid}/`},null,8,["media","url"])]),p("div",null,[p("h2",null,o(e(c)("contact.props.id_proof")),1),n(k,{section:"id_proof",media:u.media,url:`/app/student/registrations/${u.uuid}/`},null,8,["media","url"])]),p("div",null,[p("h2",null,o(e(c)("contact.props.address_proof")),1),n(k,{section:"address_proof",media:u.media,url:`/app/student/registrations/${u.uuid}/`},null,8,["media","url"])]),p("div",null,[p("h2",null,o(e(c)("contact.props.signature")),1),n(k,{section:"signature",media:u.media,url:`/app/student/registrations/${u.uuid}/`},null,8,["media","url"])])])]),_:1})):y("",!0),((A=u.transactions)==null?void 0:A.length)>0?(d(),v(P,{key:4,"no-padding":"","no-content-padding":"","bottom-content-padding":"",class:"mt-4"},{title:a(()=>[i(o(e(c)("finance.transaction.transaction")),1)]),default:a(()=>[n(K,{header:z},{default:a(()=>[(d(!0),w(F,null,Y(u.transactions,S=>(d(),v(x,{key:S.uuid},{default:a(()=>[n(B,{name:"codeNumber"},{default:a(()=>[i(o(S.codeNumber)+" ",1),S.isCancelled?(d(),v(l,{key:0,design:"danger",size:"sm"},{default:a(()=>[i(o(e(c)("general.cancelled")),1)]),_:1})):y("",!0)]),_:2},1024),n(B,{name:"ledger"},{default:a(()=>{var J;return[i(o((J=S==null?void 0:S.payment)==null?void 0:J.ledger.name)+" ",1),n(T,null,{default:a(()=>{var ee;return[i("("+o((ee=S.payment)==null?void 0:ee.methodName)+")",1)]}),_:2},1024)]}),_:2},1024),n(B,{name:"amount"},{default:a(()=>[i(o(S.amount.formatted),1)]),_:2},1024),n(B,{name:"date"},{default:a(()=>[i(o(S.date.formatted),1)]),_:2},1024),n(B,{name:"action"},{default:a(()=>[n(Q,null,{default:a(()=>[n(W,{icon:"fas fa-print",onClick:J=>h(S.uuid)},{default:a(()=>[i(o(e(c)("general.print")),1)]),_:2},1032,["onClick"]),u.status.value=="pending"&&e(te)("registration:action")&&!S.isCancelled?(d(),v(W,{key:0,icon:"fas fa-trash",onClick:J=>U(S.uuid)},{default:a(()=>[i(o(e(c)("global.cancel",{attribute:e(c)("finance.transaction.transaction")})),1)]),_:2},1032,["onClick"])):y("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),n(x,null,{default:a(()=>[n(B,{name:"codeNumber"},{default:a(()=>[i(o(e(c)("finance.fee.total")),1)]),_:1}),n(B,{name:"ledger"}),n(B,{name:"amount"},{default:a(()=>[p("span",ct,o(u.paid.formatted),1)]),_:1}),n(B,{name:"date"}),n(B,{name:"action"})]),_:1}),n(x,null,{default:a(()=>[n(B,{name:"codeNumber"},{default:a(()=>[i(o(e(c)("finance.fee.balance")),1)]),_:1}),n(B,{name:"ledger"}),n(B,{name:"amount"},{default:a(()=>[p("span",pt,o(u.balance.formatted),1)]),_:1}),n(B,{name:"date"}),n(B,{name:"action"})]),_:1})]),_:1})]),_:1})):y("",!0)],64))]}),_:1})):y("",!0)]),_:1},8,["uuid","refresh"])]),_:1})],64)}}});export{ft as default};
