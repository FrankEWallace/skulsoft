import{u as $,j as z,k as P,z as w,c as E,g as F,p as I,r,a as _,o as n,t as c,b,e as o,w as e,f as a,v as s,x as g,d as V,F as x,y as A}from"./app-Cvm44xuh.js";const O={key:1,class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-3"},R={class:"space-x-1"},U={class:"flex flex-wrap gap-2"},q={name:"GuardianShowLogin"},M=Object.assign(q,{props:{guardian:{type:Object,default(){return{}}}},setup(p){const j=$(),G=z(),t=P("$trans"),H=P("emitter"),f=p;let v=[];w("guardian:edit")&&v.push({label:t("global.edit",{attribute:t("contact.login.login")}),path:{name:"GuardianEditLogin",params:{uuid:f.guardian.uuid}}});const l=E(()=>{var d,i;return(i=(d=f.guardian)==null?void 0:d.contact)==null?void 0:i.user}),L=F("periods"),y=I(!1),N=d=>{var i;d.id!=((i=l.value)==null?void 0:i.currentPeriodId)&&(y.value=!0,G.dispatch("guardian/updateCurrentPeriod",{uuid:f.guardian.uuid,form:{period_id:d.id}}).then(()=>{H.emit("guardianUpdated")}).catch(()=>{}).finally(()=>{y.value=!1}))};return(d,i)=>{const S=r("PageHeaderAction"),D=r("PageHeader"),T=r("BaseAlert"),m=r("BaseDataView"),B=r("BaseBadge"),h=r("BaseCard"),k=r("ParentTransition");return n(),_(x,null,[p.guardian.uuid?(n(),c(D,{key:0,title:a(t)(a(j).meta.label),navs:[{label:a(t)("guardian.guardian"),path:"Guardian"},{label:p.guardian.contact.name,path:{name:"GuardianShow",params:{uuid:p.guardian.uuid}}}]},{default:e(()=>[o(S,{"additional-actions":a(v)},null,8,["additional-actions"])]),_:1},8,["title","navs"])):b("",!0),o(k,{appear:"",visibility:!0},{default:e(()=>[p.guardian.uuid?(n(),c(h,{key:0},{default:e(()=>[l.value?(n(),_("dl",O,[o(m,{label:a(t)("contact.login.props.email")},{default:e(()=>[s(g(l.value.email),1)]),_:1},8,["label"]),o(m,{label:a(t)("contact.login.props.username")},{default:e(()=>[s(g(l.value.username),1)]),_:1},8,["label"]),o(m,{label:a(t)("contact.login.props.password")},{default:e(()=>i[0]||(i[0]=[s(" xxxxxxxxx ")])),_:1,__:[0]},8,["label"]),o(m,{label:a(t)("team.config.role.role")},{default:e(()=>[V("div",R,[(n(!0),_(x,null,A(l.value.roles,u=>(n(),c(B,{design:"primary"},{default:e(()=>[s(g(u.label),1)]),_:2},1024))),256))])]),_:1},8,["label"])])):(n(),c(T,{key:0,design:"error"},{default:e(()=>[s(g(a(t)("contact.login.no_login_found")),1)]),_:1}))]),_:1})):b("",!0)]),_:1}),a(w)("guardian:edit")?(n(),c(k,{key:1,appear:"",visibility:!0},{default:e(()=>[o(h,null,{title:e(()=>[s(g(a(t)("global.update",{attribute:a(t)("academic.period.current_period")})),1)]),default:e(()=>[V("div",U,[(n(!0),_(x,null,A(a(L),u=>{var C;return n(),c(B,{key:u.id,size:"md",design:u.id==((C=l.value)==null?void 0:C.currentPeriodId)?"success":"info",class:"cursor-pointer",onClick:J=>N(u)},{default:e(()=>[s(g(u.name),1)]),_:2},1032,["design","onClick"])}),128))])]),_:1})]),_:1})):b("",!0)],64)}}});export{M as default};
