import{i as E,k as L,m as A,p as O,r as l,t as f,o as c,w as a,e as n,f as d,a as V,F as z,y as U,v as r,b as k,x as o,z as B}from"./app-Cvm44xuh.js";import{_ as G,a as J}from"./GeneralFilter-iH9-dGNy.js";const K={name:"ApprovalRequestList"},Y=Object.assign(K,{setup(Q){const _=E(),$=L("emitter");let w=["create","filter"];const D="approval/request/",C=A({types:[]}),y=O(!1),I=i=>{Object.assign(C,i)},p=A({}),T=i=>{Object.assign(p,i)};return(i,m)=>{const F=l("PageHeaderAction"),P=l("PageHeader"),h=l("ParentTransition"),v=l("TextMuted"),u=l("DataCell"),M=l("BaseBadge"),b=l("FloatingMenuItem"),H=l("FloatingMenu"),N=l("DataRow"),S=l("BaseButton"),j=l("DataTable"),q=l("ListItem");return c(),f(q,{"init-url":D,"pre-requisites":!0,onSetPreRequisites:I,onSetItems:T,"additional-query":{pendingRequests:!0}},{header:a(()=>[n(P,{title:i.$trans("approval.request.pending_requests"),navs:[{label:i.$trans("approval.approval"),path:"Approval"}]},{default:a(()=>[n(F,{url:"approval/requests/",name:"ApprovalRequest",title:i.$trans("approval.request.request"),actions:d(w),"dropdown-actions":["print","pdf","excel"],headers:p.headers,onToggleFilter:m[0]||(m[0]=t=>y.value=!y.value)},null,8,["title","actions","headers"])]),_:1},8,["title","navs"])]),"after-header":a(()=>[n(J)]),filter:a(()=>[n(h,{appear:"",visibility:y.value},{default:a(()=>[n(G,{onRefresh:m[1]||(m[1]=t=>d($).emit("listItems")),"pre-requisites":C,onHide:m[2]||(m[2]=t=>y.value=!1)},null,8,["pre-requisites"])]),_:1},8,["visibility"])]),default:a(()=>[n(h,{appear:"",visibility:!0},{default:a(()=>[n(j,{header:p.headers,meta:p.meta,module:"approval.request",onRefresh:m[4]||(m[4]=t=>d($).emit("listItems"))},{actionButton:a(()=>[n(S,{onClick:m[3]||(m[3]=t=>d(_).push({name:"ApprovalRequestCreate"}))},{default:a(()=>[r(o(i.$trans("global.add",{attribute:i.$trans("approval.request.request")})),1)]),_:1})]),default:a(()=>[(c(!0),V(z,null,U(p.data,t=>(c(),f(N,{key:t.uuid,onDoubleClick:e=>d(_).push({name:"ApprovalRequestShow",params:{uuid:t.uuid}})},{default:a(()=>[n(u,{name:"codeNumber"},{default:a(()=>[r(o(t.codeNumber)+" ",1),t.otherTeam?(c(),f(v,{key:0},{default:a(()=>{var e,s;return[r(o((s=(e=t.type)==null?void 0:e.team)==null?void 0:s.code),1)]}),_:2},1024)):k("",!0)]),_:2},1024),n(u,{name:"team"},{default:a(()=>{var e,s;return[r(o(((s=(e=t.type)==null?void 0:e.team)==null?void 0:s.name)||"-"),1)]}),_:2},1024),n(u,{name:"title"},{default:a(()=>[r(o(t.title),1)]),_:2},1024),n(u,{name:"type"},{default:a(()=>{var e;return[r(o(((e=t.type)==null?void 0:e.name)||"-"),1)]}),_:2},1024),n(u,{name:"category"},{default:a(()=>{var e,s;return[r(o(((s=(e=t.type)==null?void 0:e.category)==null?void 0:s.label)||"-"),1)]}),_:2},1024),n(u,{name:"priority"},{default:a(()=>{var e;return[r(o(((e=t.priority)==null?void 0:e.name)||"-"),1)]}),_:2},1024),n(u,{name:"date"},{default:a(()=>{var e;return[r(o((e=t.date)==null?void 0:e.formatted),1)]}),_:2},1024),n(u,{name:"amount"},{default:a(()=>{var e,s;return[r(o(((e=t.amount)==null?void 0:e.value)>0?(s=t.amount)==null?void 0:s.formatted:"-"),1)]}),_:2},1024),n(u,{name:"status"},{default:a(()=>{var e;return[n(M,{design:(e=t.status)==null?void 0:e.color},{default:a(()=>{var s;return[r(o(((s=t.status)==null?void 0:s.label)||"-"),1)]}),_:2},1032,["design"])]}),_:2},1024),n(u,{name:"requester"},{default:a(()=>{var e,s;return[r(o(((e=t.requester)==null?void 0:e.name)||"-")+" ",1),(s=t.requester)!=null&&s.uuid?(c(),f(v,{key:0,block:""},{default:a(()=>{var g;return[r(o(((g=t.requester)==null?void 0:g.designation)||"-"),1)]}),_:2},1024)):k("",!0)]}),_:2},1024),n(u,{name:"approver"},{default:a(()=>{var e,s;return[r(o(((e=t.approver)==null?void 0:e.name)||"-")+" ",1),(s=t.approver)!=null&&s.uuid?(c(),f(v,{key:0,block:""},{default:a(()=>{var g;return[r(o(((g=t.approver)==null?void 0:g.designation)||"-"),1)]}),_:2},1024)):k("",!0)]}),_:2},1024),n(u,{name:"createdAt"},{default:a(()=>[r(o(t.createdAt.formatted),1)]),_:2},1024),n(u,{name:"action"},{default:a(()=>[n(H,null,{default:a(()=>[n(b,{icon:"fas fa-arrow-circle-right",onClick:e=>d(_).push({name:"ApprovalRequestShow",params:{uuid:t.uuid}})},{default:a(()=>[r(o(i.$trans("general.show")),1)]),_:2},1032,["onClick"]),d(B)("approval-request:edit")&&t.isEditable?(c(),f(b,{key:0,icon:"fas fa-edit",onClick:e=>d(_).push({name:"ApprovalRequestEdit",params:{uuid:t.uuid}})},{default:a(()=>[r(o(i.$trans("general.edit")),1)]),_:2},1032,["onClick"])):k("",!0),n(b,{icon:"fas fa-copy",onClick:e=>d(_).push({name:"ApprovalRequestDuplicate",params:{uuid:t.uuid}})},{default:a(()=>[r(o(i.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),d(B)("approval-request:delete")&&t.isEditable?(c(),f(b,{key:1,icon:"fas fa-trash",onClick:e=>d($).emit("deleteItem",{uuid:t.uuid})},{default:a(()=>[r(o(i.$trans("general.delete")),1)]),_:2},1032,["onClick"])):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onDoubleClick"]))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{Y as default};
